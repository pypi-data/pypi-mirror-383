configure_environment:
  command: "./gradlew build"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

build_cmd:
  command: "./gradlew build"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

install_dependencies:
  command: "./gradlew dependencies"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

env:
  environment_initialized: true
  java_version: "17"
  gradle_version: "8.14.3"

init_files: []

init_minimal: "Minimal Spring Boot application initialized"

openapi_generation:
  command: "./gradlew bootRun"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

run_tool:
  command: "SERVER_PORT=<port> SERVER_ADDRESS=<host> ./gradlew bootRun"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

test_tool:
  command: "./gradlew test"
  working_directory: "{KAVIA_PROJECT_DIRECTORY}"

init_style: "springboot"

entry_point_url: "http://localhost:3000/docs"

linter:
  script_content: |
    #!/bin/bash
    cd {KAVIA_PROJECT_DIRECTORY}
    ./gradlew checkstyleMain
    LINT_EXIT_CODE=$?
    if [ $LINT_EXIT_CODE -ne 0 ]; then
       exit 1
    fi

post_processing:
  script: |
    #!/bin/bash
    cd {KAVIA_PROJECT_DIRECTORY}
    chmod +x ./gradlew
    ./gradlew build