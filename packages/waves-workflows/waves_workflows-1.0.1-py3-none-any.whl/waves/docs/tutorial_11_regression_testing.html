
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial 11: Regression Testing &#8212; WAVES 1.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cb027bf8" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cb027bf8" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=423d4ce3"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=e639491b"></script>
    <script src="_static/custom.js?v=070b234d"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial_11_regression_testing';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial 12: Data Archival" href="tutorial_12_archival.html" />
    <link rel="prev" title="Tutorial 10: Unit Testing" href="tutorial_10_unit_testing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Oct 10, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/waves_logo_brandmark_smaller.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/waves_logo_brandmark_smaller.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">1.0.1</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Computational Practices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="computational_practices_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_version_control.html">Version Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_build_system.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_compute_environment.html">Compute Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_regression_testing.html">Regression Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_archival.html">Data Archival</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="abstract.html">Why WAVES?</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_quickstart.html">Quickstart</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="waves_quickstart.html">Quickstart: Abaqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_gmsh_calculix.html">Quickstart: Gmsh+CalculiX</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_introduction.html">Tutorial Introduction</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="tutorial_core.html">Core Lessons</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial_00_scons.html">Tutorial 00: SConstruct</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_01_geometry.html">Tutorial 01: Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_02_partition_mesh.html">Tutorial 02: Partition and Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_03_solverprep.html">Tutorial 03: SolverPrep</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_04_simulation.html">Tutorial 04: Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_05_parameter_substitution.html">Tutorial 05: Parameter Substitution</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_06_include_files.html">Tutorial 06: Include Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_cartesian_product.html">Tutorial 07: Cartesian Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_08_data_extraction.html">Tutorial 08: Data Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_09_post_processing.html">Tutorial 09: Post-Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_10_unit_testing.html">Tutorial 10: Unit Testing</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Tutorial 11: Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_12_archival.html">Tutorial 12: Data Archival</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_supplemental.html">Supplemental Lessons</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="scons_quickstart.html">SCons Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="scons_multiactiontask.html">SCons Multi-Action Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_argparse_types.html">Tutorial: Input Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_cubit_abaqus.html">Tutorial: Cubit+Abaqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_cubit_sierra.html">Tutorial: Cubit+Sierra</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_cubit_fierro.html">Tutorial: Cubit+Fierro</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_escape_sequences.html">Tutorial: Escape Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_latin_hypercube.html">Tutorial 07: Latin Hypercube</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_sobol_sequence.html">Tutorial 07: Sobol Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_one_at_a_time.html">Tutorial 07: One-at-a-Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_mesh_convergence.html">Tutorial: Mesh Convergence</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_part_image.html">Tutorial: Part Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_sensitivity_study.html">Tutorial: Sensitivity Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_abaqus_cae.html">Tutorial: Abaqus CAE</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_wip.html">Work-in-progress Lessons</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial_writing_builders.html">Tutorial: Writing Builders</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_remote_execution.html">Tutorial: Simulation via SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_sbatch.html">Tutorial: Simulation via SLURM</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_extend_study.html">Automatically Extending a Parameter Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_task_reuse.html">Tutorial: Task Definition Reuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_setuptools_scm.html">Tutorial: setuptools_scm</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_quinoa.html">Tutorial: Quinoa</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">ModSim Templates</a></li>

<li class="toctree-l1"><a class="reference internal" href="api.html">External API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command-Line Utilities</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Help and Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="license.html">LICENSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal_api.html">Internal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devops.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_philosophy.html">Release Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tutorial_api.html">WAVES-TUTORIAL API</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_cli.html">WAVES-TUTORIAL CLI</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="tutorial_core.html" class="nav-link">Core Lessons</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Tutorial...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/lanl-aea/waves" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/lanl-aea/waves/blob/main/docs/tutorial_11_regression_testing.rst?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tutorial_11_regression_testing.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tutorial 11: Regression Testing</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="simple visible nav section-nav flex-column">
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-structure">Directory Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-script">Regression Script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-file">CSV file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconscript">SConscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconstruct">SConstruct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-targets">Build Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#output-files">Output Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workflow-visualization">Workflow Visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automation">Automation</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="tutorial-11-regression-testing">
<span id="tutorial-regression-testing"></span><h1>Tutorial 11: Regression Testing<a class="headerlink" href="#tutorial-11-regression-testing" title="Link to this heading">#</a></h1>
<p>Regression testing is the practice of running a verification test suite after making changes to a repository or
codebase. For modsim repositories, there may not be many unit or integration tests if there is no software or scripting
library specific to the project. Instead, regression testing a modsim repository may look more like regular execution of
system tests that verify the simulation workflow still executes as expected.</p>
<p>Ideally, this verification suite of system tests would perform the complete simulation workflow from start to finish.
However, modsim repositories often contain simulations that are computationally expensive or produce large amounts of
data on disk. In these cases, it may be too expensive to run the full simulation suite at any regular interval. It is
still desirable to provide early warning of breaking changes in the simulation workflow, so as much of the workflow that
can be tested should be tested as regularly as possible given compute resource constraints.</p>
<p>This tutorial introduces a project wide alias to allow convenient execution of the simulation workflow through the
simulation datacheck task introduced in <a class="reference internal" href="tutorial_04_simulation.html#tutorial-simulation"><span class="std std-ref">Tutorial 04: Simulation</span></a>. From that tutorial onward, each tutorial has
propagated a tutorial specific datacheck alias. This tutorial will add a project wide <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> alias and apply it
to a copy of the <a class="reference internal" href="tutorial_09_post_processing.html#tutorial-post-processing"><span class="std std-ref">Tutorial 09: Post-Processing</span></a> configuration files. The user may also go back to previous
tutorials to include the full suite of datacheck tasks in the project wide datacheck regression test alias.</p>
<p>In addition to the datachecks, this tutorial will introduce a full simulation results regression test script and task.
The regression test task will be added to the regular workflow alias to run everytime the full workflow is run. This
test compares the actual simulation results within a float tolerance. Comprehensive results regression testing is
valuable to evaluate changes to important quantities of interest when software versions change, e.g. when installing a
new version of Abaqus.</p>
<p>After this tutorial, the workflow will have three sets of tests: fast running unit tests introduced in
<a class="reference internal" href="tutorial_10_unit_testing.html#tutorial-unit-testing"><span class="std std-ref">Tutorial 10: Unit Testing</span></a>, relatively fast running simulation preparation checks with the <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> alias, and
full simulation results regression tests. The tutorial simulations run fast enough that performing the full suite of
tests for every change in the project is tractable. However, in practice, projects may choose to run only the unit tests
and datachecks on a per-change basis and reserve the comprehensive results testing for a scheduled regression suite.</p>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="computational_practices_regression_testing.html#testing"><span class="std std-ref">Regression Testing</span></a></p></li>
<li><p><a class="reference external" href="https://scons.org/doc/production/HTML/scons-user/ch23.html">SCons Alias</a> <span id="id1">[<a class="reference internal" href="zreferences.html#id6" title="The SCons Development Team. SCons 4.7.0: User Guide. The SCons Foundation, 4.7.0 edition, 2023.">32</a>]</span></p></li>
<li><p>Continuous Integration software</p>
<ul>
<li><p>GitHub Actions: <a class="reference external" href="https://docs.github.com/en/actions">https://docs.github.com/en/actions</a> <span id="id2">[<a class="reference internal" href="zreferences.html#id30" title="Inc GitHub. Github actions documentation. 2023. San Francisco, CA, USA. URL: https://docs.github.com/en/actions (visited on 2023-10-30).">57</a>]</span></p></li>
<li><p>Gitlab CI: <a class="reference external" href="https://docs.gitlab.com/ee/ci/">https://docs.gitlab.com/ee/ci/</a> <span id="id3">[<a class="reference internal" href="zreferences.html#id28" title="GitLab B.V. Gitlab CI/CD. 2022. Boston, MA, USA. URL: https://docs.gitlab.com/ee/ci/ (visited on 2022-08-05).">58</a>]</span></p></li>
<li><p>Bitbucket Pipelines: <a class="reference external" href="https://bitbucket.org/product/features/pipelines">https://bitbucket.org/product/features/pipelines</a> <span id="id4">[<a class="reference internal" href="zreferences.html#id32" title="Atlassian. Bitbucket pipelines. 2023. San Francisco, CA, USA. URL: https://bitbucket.org/product/features/pipelines (visited on 2023-10-30).">59</a>]</span></p></li>
</ul>
</li>
</ul>
</section>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://scons.org/">SCons</a> and <a class="reference external" href="https://lanl-aea.github.io/waves/index.html">WAVES</a> can be installed in a <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> environment with the <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> package manager. See the <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html">Conda
installation</a> and <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Conda environment management</a> documentation for more details about using <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SALib and numpy versions may not need to be this strict for most tutorials. However,
<a class="reference internal" href="tutorial_sensitivity_study.html#tutorial-sensitivity-study"><span class="std std-ref">Tutorial: Sensitivity Study</span></a> uncovered some undocumented SALib version sensitivity to numpy surrounding the
numpy v2 rollout.</p>
</div>
<ol class="arabic">
<li><p>Create the tutorials environment if it doesn’t exist</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-0">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda create --name waves-tutorial-env --channel conda-forge waves &#39;scons&gt;=4.6&#39; matplotlib pandas pyyaml xarray seaborn &#39;numpy&gt;=2&#39; &#39;salib&gt;=1.5.1&#39; pytest
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-1">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PS</span> <span class="o">&gt;</span> <span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="n">waves</span><span class="o">-</span><span class="n">tutorial</span><span class="o">-</span><span class="n">env</span> <span class="o">--</span><span class="n">channel</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">waves</span> <span class="n">scons</span> <span class="n">matplotlib</span> <span class="n">pandas</span> <span class="n">pyyaml</span> <span class="n">xarray</span> <span class="n">seaborn</span> <span class="n">numpy</span> <span class="n">salib</span> <span class="n">pytest</span>
</pre></div>
</div>
</div>
</div>
</li>
<li><p>Activate the environment</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-2">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda activate waves-tutorial-env
</pre></div>
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-3">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PS</span> <span class="o">&gt;</span> <span class="n">conda</span> <span class="n">activate</span> <span class="n">waves</span><span class="o">-</span><span class="n">tutorial</span><span class="o">-</span><span class="n">env</span>
</pre></div>
</div>
</div>
</div>
</li>
</ol>
<p>Some tutorials require additional third-party software that is not available for the <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> package manager. This
software must be installed separately and either made available to SConstruct by modifying your system’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code> or by
modifying the SConstruct search paths provided to the <a class="reference internal" href="api.html#waves.scons_extensions.add_program" title="waves.scons_extensions.add_program"><code class="xref py py-meth docutils literal notranslate"><span class="pre">waves.scons_extensions.add_program()</span></code></a> method.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>STOP! Before continuing, check that the documentation version matches your installed package version.</p>
<ol class="arabic simple">
<li><p>You can find the documentation version in the upper-left corner of the webpage.</p></li>
<li><p>You can find the installed WAVES version with <code class="docutils literal notranslate"><span class="pre">waves</span> <span class="pre">--version</span></code>.</p></li>
</ol>
<p>If they don’t match, you can launch identically matched documentation with the <a class="reference internal" href="cli.html#waves-cli"><span class="std std-ref">WAVES Command-Line Utility</span></a>
<a class="reference internal" href="cli.html#waves-docs-cli"><span class="std std-ref">docs</span></a> subcommand as <code class="docutils literal notranslate"><span class="pre">waves</span> <span class="pre">docs</span></code>.</p>
</div>
</section>
<section id="directory-structure">
<h2>Directory Structure<a class="headerlink" href="#directory-structure" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="3">
<li><p>Create and change to a new project root directory to house the tutorial files if you have not already done so. For example</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-4">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>~/waves-tutorials
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/waves-tutorials
$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
</pre></div>
</div>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-5">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">New-Item</span> <span class="nv">$HOME</span><span class="p">\</span><span class="n">waves-tutorials</span> <span class="n">-ItemType</span> <span class="s2">&quot;Directory&quot;</span>
<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Set-Location</span> <span class="nv">$HOME</span><span class="p">\</span><span class="n">waves-tutorials</span>
<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you skipped any of the previous tutorials, run the following commands to create a copy of the necessary tutorial
files.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-6">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span>waves<span class="w"> </span>fetch<span class="w"> </span>--overwrite<span class="w"> </span>--tutorial<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mv<span class="w"> </span>tutorial_10_unit_testing_SConstruct<span class="w"> </span>SConstruct
WAVES<span class="w"> </span>fetch
Destination<span class="w"> </span>directory:<span class="w"> </span><span class="s1">&#39;/home/roppenheimer/waves-tutorials&#39;</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-7">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="n">waves</span> <span class="n">fetch</span> <span class="p">-</span><span class="n">-overwrite</span> <span class="p">-</span><span class="n">-tutorial</span> <span class="n">10</span> <span class="p">&amp;&amp;</span> <span class="nb">Move-Item</span> <span class="n">tutorial_10_unit_testing_SConstruct</span> <span class="n">SConstruct</span> <span class="n">-Force</span>
<span class="n">WAVES</span> <span class="n">fetch</span>
<span class="n">Destination</span> <span class="n">directory</span><span class="p">:</span> <span class="s1">&#39;C:\Users\roppenheimer\waves-tutorials&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Download and copy the <code class="docutils literal notranslate"><span class="pre">tutorial_09_post_processing.scons</span></code> file to a new file named <code class="docutils literal notranslate"><span class="pre">tutorial_11_regression_testing.scons</span></code>
with the <a class="reference internal" href="cli.html#waves-cli"><span class="std std-ref">WAVES Command-Line Utility</span></a> <a class="reference internal" href="cli.html#waves-fetch-cli"><span class="std std-ref">fetch</span></a> subcommand.</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-8">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span>waves<span class="w"> </span>fetch<span class="w"> </span>--overwrite<span class="w"> </span>tutorials/tutorial_09_post_processing.scons<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cp<span class="w"> </span>tutorial_09_post_processing.scons<span class="w"> </span>tutorial_11_regression_testing.scons
WAVES<span class="w"> </span>fetch
Destination<span class="w"> </span>directory:<span class="w"> </span><span class="s1">&#39;/home/roppenheimer/waves-tutorials&#39;</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-9">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="n">waves</span> <span class="n">fetch</span> <span class="p">-</span><span class="n">-overwrite</span> <span class="n">tutorials</span><span class="p">\</span><span class="n">tutorial_09_post_processing</span><span class="p">.</span><span class="n">scons</span> <span class="p">&amp;&amp;</span> <span class="nb">Copy-Item</span> <span class="n">tutorial_09_post_processing</span><span class="p">.</span><span class="n">scons</span> <span class="n">tutorial_11_regression_testing</span><span class="p">.</span><span class="n">scons</span>
<span class="n">WAVES</span> <span class="n">fetch</span>
<span class="n">Destination</span> <span class="n">directory</span><span class="p">:</span> <span class="s1">&#39;C:\Users\roppenheimer\waves-tutorials&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="regression-script">
<h2>Regression Script<a class="headerlink" href="#regression-script" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="5">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">waves-tutorials/modsim_package/python</span></code> directory, review the file named <code class="docutils literal notranslate"><span class="pre">regression.py</span></code> introduced in
<a class="reference internal" href="tutorial_10_unit_testing.html#tutorial-unit-testing"><span class="std std-ref">Tutorial 10: Unit Testing</span></a>.</p></li>
</ol>
<div class="admonition-waves-tutorials-modsim-package-python-regression-py admonition">
<p class="admonition-title">waves-tutorials/modsim_package/python/regression.py</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="ch">#!/usr/bin/env python</span>
<span class="linenos">  2</span><span class="sd">&quot;&quot;&quot;Perform regression testing on simulation output.&quot;&quot;&quot;</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="linenos">  5</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos">  6</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span>
<span class="linenos">  9</span><span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="k">def</span><span class="w"> </span><span class="nf">sort_dataframe</span><span class="p">(</span>
<span class="linenos"> 13</span>    <span class="n">dataframe</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="linenos"> 14</span>    <span class="n">index_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
<span class="linenos"> 15</span>    <span class="n">sort_columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;set_name&quot;</span><span class="p">),</span>
<span class="linenos"> 16</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="linenos"> 17</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a sorted dataframe and set an index.</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="sd">    1. sort columns by column name</span>
<span class="linenos"> 20</span><span class="sd">    2. sort rows by column values ``sort_columns``</span>
<span class="linenos"> 21</span><span class="sd">    3. set an index</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="sd">    :param dataframe: dataframe to sort</span>
<span class="linenos"> 24</span><span class="sd">    :param index_column: name of the column to use an index</span>
<span class="linenos"> 25</span><span class="sd">    :param sort_columns: name of the column(s) to sort by</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="sd">    :returns: sorted and indexed dataframe</span>
<span class="linenos"> 28</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 29</span>    <span class="k">return</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">sort_columns</span><span class="p">))</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">index_column</span><span class="p">)</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="k">def</span><span class="w"> </span><span class="nf">csv_files_match</span><span class="p">(</span>
<span class="linenos"> 33</span>    <span class="n">current_csv</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="n">expected_csv</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="linenos"> 35</span>    <span class="n">index_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="n">sort_columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;set_name&quot;</span><span class="p">),</span>
<span class="linenos"> 37</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="linenos"> 38</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare two pandas DataFrame objects and determine if they match.</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="sd">    :param current_csv: Current CSV data of generated plot.</span>
<span class="linenos"> 41</span><span class="sd">    :param expected_csv: Expected CSV data.</span>
<span class="linenos"> 42</span><span class="sd">    :param index_column: name of the column to use an index</span>
<span class="linenos"> 43</span><span class="sd">    :param sort_columns: name of the column(s) to sort by. Defaults to ``[&quot;time&quot;, &quot;set_name&quot;]``</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="sd">    :returns: True if the CSV files match, False otherwise.</span>
<span class="linenos"> 46</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 47</span>    <span class="n">current</span> <span class="o">=</span> <span class="n">sort_dataframe</span><span class="p">(</span><span class="n">current_csv</span><span class="p">,</span> <span class="n">index_column</span><span class="o">=</span><span class="n">index_column</span><span class="p">,</span> <span class="n">sort_columns</span><span class="o">=</span><span class="n">sort_columns</span><span class="p">)</span>
<span class="linenos"> 48</span>    <span class="n">expected</span> <span class="o">=</span> <span class="n">sort_dataframe</span><span class="p">(</span><span class="n">expected_csv</span><span class="p">,</span> <span class="n">index_column</span><span class="o">=</span><span class="n">index_column</span><span class="p">,</span> <span class="n">sort_columns</span><span class="o">=</span><span class="n">sort_columns</span><span class="p">)</span>
<span class="linenos"> 49</span>    <span class="k">try</span><span class="p">:</span>
<span class="linenos"> 50</span>        <span class="n">pandas</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
<span class="linenos"> 51</span>    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="linenos"> 52</span>        <span class="nb">print</span><span class="p">(</span>
<span class="linenos"> 53</span>            <span class="sa">f</span><span class="s2">&quot;The CSV regression test failed. Data in expected CSV file and current CSV file do not match.</span><span class="se">\n</span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="linenos"> 54</span>            <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span>
<span class="linenos"> 55</span>        <span class="p">)</span>
<span class="linenos"> 56</span>        <span class="n">equal</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 57</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 58</span>        <span class="n">equal</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 59</span>    <span class="k">return</span> <span class="n">equal</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span>
<span class="linenos"> 63</span>    <span class="n">first_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="n">second_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="n">output_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 67</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare CSV files and return an error code if they differ.</span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span><span class="sd">    :param first_file: path-like or file-like object containing the first CSV dataset</span>
<span class="linenos"> 70</span><span class="sd">    :param second_file: path-like or file-like object containing the second CSV dataset</span>
<span class="linenos"> 71</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 72</span>    <span class="n">regression_results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span>    <span class="c1"># CSV regression file comparison</span>
<span class="linenos"> 75</span>    <span class="n">first_data</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">first_file</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="n">second_data</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">second_file</span><span class="p">)</span>
<span class="linenos"> 77</span>    <span class="n">regression_results</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;CSV comparison&quot;</span><span class="p">:</span> <span class="n">csv_files_match</span><span class="p">(</span><span class="n">first_data</span><span class="p">,</span> <span class="n">second_data</span><span class="p">)})</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>    <span class="k">with</span> <span class="n">output_file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
<span class="linenos"> 80</span>        <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">safe_dump</span><span class="p">(</span><span class="n">regression_results</span><span class="p">))</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">regression_results</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">regression_results</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
<span class="linenos"> 83</span>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;One or more regression tests failed&quot;</span><span class="p">)</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span><span class="k">def</span><span class="w"> </span><span class="nf">get_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">:</span>
<span class="linenos"> 87</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return parser for CLI options.</span>
<span class="linenos"> 88</span>
<span class="linenos"> 89</span><span class="sd">    All options should use the double-hyphen ``--option VALUE`` syntax to avoid clashes with the Abaqus option syntax,</span>
<span class="linenos"> 90</span><span class="sd">    including flag style arguments ``--flag``. Single hyphen ``-f`` flag syntax often clashes with the Abaqus command</span>
<span class="linenos"> 91</span><span class="sd">    line options and should be avoided.</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="sd">    :returns: parser</span>
<span class="linenos"> 94</span><span class="sd">    :rtype:</span>
<span class="linenos"> 95</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 96</span>    <span class="n">script_name</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="linenos"> 97</span>    <span class="n">default_output_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">script_name</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span>    <span class="n">prog</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;python </span><span class="si">{</span><span class="n">script_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="linenos">100</span>    <span class="n">cli_description</span> <span class="o">=</span> <span class="s2">&quot;Compare CSV files and return an error code if they differ&quot;</span>
<span class="linenos">101</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">cli_description</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="n">prog</span><span class="p">)</span>
<span class="linenos">102</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">103</span>        <span class="s2">&quot;FIRST_FILE&quot;</span><span class="p">,</span>
<span class="linenos">104</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">105</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;First CSV file for comparison&quot;</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="p">)</span>
<span class="linenos">107</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">108</span>        <span class="s2">&quot;SECOND_FILE&quot;</span><span class="p">,</span>
<span class="linenos">109</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">110</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Second CSV file for comparison&quot;</span><span class="p">,</span>
<span class="linenos">111</span>    <span class="p">)</span>
<span class="linenos">112</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">113</span>        <span class="s2">&quot;--output-file&quot;</span><span class="p">,</span>
<span class="linenos">114</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">115</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_output_file</span><span class="p">,</span>
<span class="linenos">116</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Regression test pass/fail list&quot;</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="p">)</span>
<span class="linenos">118</span>    <span class="k">return</span> <span class="n">parser</span>
<span class="linenos">119</span>
<span class="linenos">120</span>
<span class="linenos">121</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">122</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">get_parser</span><span class="p">()</span>
<span class="linenos">123</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="linenos">124</span>    <span class="n">main</span><span class="p">(</span>
<span class="linenos">125</span>        <span class="n">args</span><span class="o">.</span><span class="n">FIRST_FILE</span><span class="p">,</span>
<span class="linenos">126</span>        <span class="n">args</span><span class="o">.</span><span class="n">SECOND_FILE</span><span class="p">,</span>
<span class="linenos">127</span>        <span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span>
<span class="linenos">128</span>    <span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="csv-file">
<h2>CSV file<a class="headerlink" href="#csv-file" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="6">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">waves-tutorials/modsim_package/python</span></code> directory, create a new file named
<code class="docutils literal notranslate"><span class="pre">rectangle_compression_cartesian_product.csv</span></code> from the contents below</p></li>
</ol>
<div class="admonition-waves-tutorials-modsim-package-python-rectangle-compression-cartesian-product-csv admonition">
<p class="admonition-title">waves-tutorials/modsim_package/python/rectangle_compression_cartesian_product.csv</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">time</span><span class="p">,</span><span class="n">set_name</span><span class="p">,</span><span class="n">step</span><span class="p">,</span><span class="n">elements</span><span class="p">,</span><span class="n">integrationPoint</span><span class="p">,</span><span class="n">E</span> <span class="n">values</span><span class="p">,</span><span class="n">E</span><span class="p">,</span><span class="n">S</span> <span class="n">values</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">,</span><span class="n">global_seed</span><span class="p">,</span><span class="n">displacement</span><span class="p">,</span><span class="n">set_hash</span>
<span class="linenos"> 2</span><span class="mf">0.0175000000745058</span><span class="p">,</span><span class="n">parameter_set0</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000159091</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0159091</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">181</span><span class="n">cb00b478ced26819416aeef6a1a3f</span>
<span class="linenos"> 3</span><span class="mf">0.0175000000745058</span><span class="p">,</span><span class="n">parameter_set1</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000159091</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0159091</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">53980146e2729</span><span class="n">b8956ecf6ef39f342b4</span>
<span class="linenos"> 4</span><span class="mf">0.0175000000745058</span><span class="p">,</span><span class="n">parameter_set2</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000175</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0175</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">cf0934b22f43400165bd3d34aa61013f</span>
<span class="linenos"> 5</span><span class="mf">0.0175000000745058</span><span class="p">,</span><span class="n">parameter_set3</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000175</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0175</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">fff52e9be95e50cc872ec321280d91a7</span>
<span class="linenos"> 6</span><span class="mf">0.0709374994039536</span><span class="p">,</span><span class="n">parameter_set0</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000644886</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0644886</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">181</span><span class="n">cb00b478ced26819416aeef6a1a3f</span>
<span class="linenos"> 7</span><span class="mf">0.0709374994039536</span><span class="p">,</span><span class="n">parameter_set1</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000644886</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0644886</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">53980146e2729</span><span class="n">b8956ecf6ef39f342b4</span>
<span class="linenos"> 8</span><span class="mf">0.0709374994039536</span><span class="p">,</span><span class="n">parameter_set2</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000709375</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0709375</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">cf0934b22f43400165bd3d34aa61013f</span>
<span class="linenos"> 9</span><span class="mf">0.0709374994039536</span><span class="p">,</span><span class="n">parameter_set3</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.000709375</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0709375</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">fff52e9be95e50cc872ec321280d91a7</span>
<span class="linenos">10</span><span class="mf">0.251289069652557</span><span class="p">,</span><span class="n">parameter_set0</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00228445</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.228445</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">181</span><span class="n">cb00b478ced26819416aeef6a1a3f</span>
<span class="linenos">11</span><span class="mf">0.251289069652557</span><span class="p">,</span><span class="n">parameter_set1</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00228445</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.228445</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">53980146e2729</span><span class="n">b8956ecf6ef39f342b4</span>
<span class="linenos">12</span><span class="mf">0.251289069652557</span><span class="p">,</span><span class="n">parameter_set2</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00251289</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.251289</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">cf0934b22f43400165bd3d34aa61013f</span>
<span class="linenos">13</span><span class="mf">0.251289069652557</span><span class="p">,</span><span class="n">parameter_set3</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00251289</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.251289</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">fff52e9be95e50cc872ec321280d91a7</span>
<span class="linenos">14</span><span class="mf">0.859975576400757</span><span class="p">,</span><span class="n">parameter_set0</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00781796</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.781796</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">181</span><span class="n">cb00b478ced26819416aeef6a1a3f</span>
<span class="linenos">15</span><span class="mf">0.859975576400757</span><span class="p">,</span><span class="n">parameter_set1</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00781796</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.781796</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">53980146e2729</span><span class="n">b8956ecf6ef39f342b4</span>
<span class="linenos">16</span><span class="mf">0.859975576400757</span><span class="p">,</span><span class="n">parameter_set2</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00859976</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.859976</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">cf0934b22f43400165bd3d34aa61013f</span>
<span class="linenos">17</span><span class="mf">0.859975576400757</span><span class="p">,</span><span class="n">parameter_set3</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00859976</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.859976</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">fff52e9be95e50cc872ec321280d91a7</span>
<span class="linenos">18</span><span class="mf">1.0</span><span class="p">,</span><span class="n">parameter_set0</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00909091</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.909091</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">181</span><span class="n">cb00b478ced26819416aeef6a1a3f</span>
<span class="linenos">19</span><span class="mf">1.0</span><span class="p">,</span><span class="n">parameter_set1</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.00909091</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.909091</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">53980146e2729</span><span class="n">b8956ecf6ef39f342b4</span>
<span class="linenos">20</span><span class="mf">1.0</span><span class="p">,</span><span class="n">parameter_set2</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">cf0934b22f43400165bd3d34aa61013f</span>
<span class="linenos">21</span><span class="mf">1.0</span><span class="p">,</span><span class="n">parameter_set3</span><span class="p">,</span><span class="n">Step</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">E22</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">S22</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span><span class="n">fff52e9be95e50cc872ec321280d91a7</span>
</pre></div>
</div>
</div>
<p>This file represents a copy of previous simulation results that the project has stored as the reviewed and approved
simulation results. The regression task will compare these “past” results with the current simulation results produced
during the post-processing task introduced in <a class="reference internal" href="tutorial_09_post_processing.html#tutorial-post-processing"><span class="std std-ref">Tutorial 09: Post-Processing</span></a>
<code class="docutils literal notranslate"><span class="pre">rectangle_compression_cartesian_product.csv</span></code> using the <a class="reference internal" href="tutorial_cli.html#regression-cli"><span class="std std-ref">regression.py</span></a> CLI.</p>
</section>
<section id="sconscript">
<h2>SConscript<a class="headerlink" href="#sconscript" title="Link to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">diff</span></code> against the <code class="docutils literal notranslate"><span class="pre">tutorial_09_post_processing.scons</span></code> file from <a class="reference internal" href="tutorial_09_post_processing.html#tutorial-post-processing"><span class="std std-ref">Tutorial 09: Post-Processing</span></a> is included below to help identify the
changes made in this tutorial.</p>
<div class="admonition-waves-tutorials-tutorial-11-regression-testing-scons admonition">
<p class="admonition-title">waves-tutorials/tutorial_11_regression_testing.scons</p>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/waves/waves/build/docs/tutorials_tutorial_09_post_processing.scons</span>
<span class="gi">+++ /home/runner/work/waves/waves/build/docs/tutorials_tutorial_11_regression_testing.scons</span>
<span class="gu">@@ -5,6 +5,8 @@</span>
<span class="w"> </span>
<span class="w"> </span>* ``env`` - The SCons construction environment with the following required keys
<span class="w"> </span>
<span class="gi">+  * ``datacheck_alias`` - String for the alias collecting the datacheck workflow targets</span>
<span class="gi">+  * ``regression_alias`` - String for the alias collecting the regression test suite targets</span>
<span class="w"> </span>  * ``unconditional_build`` - Boolean flag to force building of conditionally ignored targets
<span class="w"> </span>  * ``abaqus`` - String path for the Abaqus executable
<span class="w"> </span>&quot;&quot;&quot;
<span class="gu">@@ -176,11 +178,27 @@</span>
<span class="w"> </span>    )
<span class="w"> </span>)
<span class="w"> </span>
<span class="gi">+# Regression test</span>
<span class="gi">+workflow.extend(</span>
<span class="gi">+    env.PythonScript(</span>
<span class="gi">+        target=[&quot;regression.yaml&quot;],</span>
<span class="gi">+        source=[</span>
<span class="gi">+            &quot;#/modsim_package/python/regression.py&quot;,</span>
<span class="gi">+            &quot;stress_strain_comparison.csv&quot;,</span>
<span class="gi">+            &quot;#/modsim_package/python/rectangle_compression_cartesian_product.csv&quot;,</span>
<span class="gi">+        ],</span>
<span class="gi">+        subcommand_options=&quot;${SOURCES[1:].abspath} --output-file ${TARGET.abspath}&quot;,</span>
<span class="gi">+    )</span>
<span class="gi">+)</span>
<span class="gi">+</span>
<span class="w"> </span># Collector alias based on parent directory name
<span class="w"> </span>env.Alias(workflow_name, workflow)
<span class="w"> </span>env.Alias(f&quot;{workflow_name}_datacheck&quot;, datacheck)
<span class="gi">+env.Alias(env[&quot;datacheck_alias&quot;], datacheck)</span>
<span class="gi">+env.Alias(env[&quot;regression_alias&quot;], datacheck)</span>
<span class="w"> </span>
<span class="w"> </span>if not env[&quot;unconditional_build&quot;] and not env[&quot;ABAQUS_PROGRAM&quot;]:
<span class="w"> </span>    print(f&quot;Program &#39;abaqus&#39; was not found in construction environment. Ignoring &#39;{workflow_name}&#39; target(s)&quot;)
<span class="w"> </span>    Ignore([&quot;.&quot;, workflow_name], workflow)
<span class="w"> </span>    Ignore([&quot;.&quot;, f&quot;{workflow_name}_datacheck&quot;], datacheck)
<span class="gi">+    Ignore([&quot;.&quot;, env[&quot;datacheck_alias&quot;], env[&quot;regression_alias&quot;]], datacheck)</span>
</pre></div>
</div>
</div>
<p>There are two changes made in this tutorial. The first is to compare the expected simulation results to the current
simulation’s output. A new task compares the expected results as the CSV file created above against the current
simulation output with the new Python script, <a class="reference internal" href="tutorial_cli.html#regression-cli"><span class="std std-ref">regression.py</span></a>. See the <a class="reference internal" href="tutorial_cli.html#regression-cli"><span class="std std-ref">regression.py</span></a> CLI documentation for
a description of the post-processing script’s behavior.</p>
<p>The second change adds a dedicated alias for the datacheck targets to allow partial workflow execution. This is useful
when a full simulation may take a long time, but the simulation preparation is worth testing on a regular basis. We’ve
also added the regression alias introduced briefly in <a class="reference internal" href="tutorial_10_unit_testing.html#tutorial-unit-testing"><span class="std std-ref">Tutorial 10: Unit Testing</span></a>. Previously, this alias was a
duplicate of the <code class="docutils literal notranslate"><span class="pre">unit_testing</span></code> workflow alias. Now this alias can be used as a collector alias for running a
regression suite with a single command, while preserving the ability to run the unit tests as a standalone workflow.</p>
<p>Here we add the datacheck targets as an example of running a partial workflow as part of the regression test suite. For
fast running simulations, it would be valuable to run the full simulation and post-processing with CSV results testing
as part of the regular regression suite. For large projects with long running simulations, several regression aliases
may be added to facilitate testing at different intervals. For instance, the datachecks might be run everytime the
project changes, but the simulations might be run on a weekly schedule with a <code class="docutils literal notranslate"><span class="pre">regression_weekly</span></code> alias that includes
the full simulations in addition to the unit tests and datachecks.</p>
</section>
<section id="sconstruct">
<h2>SConstruct<a class="headerlink" href="#sconstruct" title="Link to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">diff</span></code> against the <code class="docutils literal notranslate"><span class="pre">SConstruct</span></code> file from <a class="reference internal" href="tutorial_10_unit_testing.html#tutorial-unit-testing"><span class="std std-ref">Tutorial 10: Unit Testing</span></a> is included below to help identify the
changes made in this tutorial.</p>
<div class="admonition-waves-tutorials-sconstruct admonition">
<p class="admonition-title">waves-tutorials/SConstruct</p>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/waves/waves/build/docs/tutorials_tutorial_10_unit_testing_SConstruct</span>
<span class="gi">+++ /home/runner/work/waves/waves/build/docs/tutorials_tutorial_11_regression_testing_SConstruct</span>
<span class="gu">@@ -1,5 +1,5 @@</span>
<span class="w"> </span>#! /usr/bin/env python
<span class="gd">-&quot;&quot;&quot;Configure the WAVES unit testing tutorial.&quot;&quot;&quot;</span>
<span class="gi">+&quot;&quot;&quot;Configure the WAVES regression testing tutorial.&quot;&quot;&quot;</span>
<span class="w"> </span>
<span class="w"> </span>import os
<span class="w"> </span>import pathlib
<span class="gu">@@ -83,6 +83,7 @@</span>
<span class="w"> </span>    &quot;project_dir&quot;: project_dir,
<span class="w"> </span>    &quot;version&quot;: version,
<span class="w"> </span>    &quot;regression_alias&quot;: &quot;regression&quot;,
<span class="gi">+    &quot;datacheck_alias&quot;: &quot;datacheck&quot;,</span>
<span class="w"> </span>}
<span class="w"> </span>for key, value in project_variables.items():
<span class="w"> </span>    env[key] = value
<span class="gu">@@ -113,6 +114,7 @@</span>
<span class="w"> </span>    &quot;tutorial_07_cartesian_product.scons&quot;,
<span class="w"> </span>    &quot;tutorial_08_data_extraction.scons&quot;,
<span class="w"> </span>    &quot;tutorial_09_post_processing.scons&quot;,
<span class="gi">+    &quot;tutorial_11_regression_testing.scons&quot;,</span>
<span class="w"> </span>]
<span class="w"> </span>for workflow in workflow_configurations:
<span class="w"> </span>    build_dir = env[&quot;variant_dir_base&quot;] / pathlib.Path(workflow).stem
</pre></div>
</div>
</div>
</section>
<section id="build-targets">
<h2>Build Targets<a class="headerlink" href="#build-targets" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="7">
<li><p>Build the datacheck targets without executing the full simulation workflow</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-10">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>scons<span class="w"> </span>datacheck<span class="w"> </span>--jobs<span class="o">=</span><span class="m">4</span>
&lt;output<span class="w"> </span>truncated&gt;
scons:<span class="w"> </span><span class="k">done</span><span class="w"> </span>building<span class="w"> </span>targets.

real<span class="w"> </span>0m9.952s
user<span class="w"> </span>0m21.537s
sys<span class="w">  </span>0m15.664s
</pre></div>
</div>
</div>
<input id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-11">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Measure-Command</span> <span class="p">{</span> <span class="n">scons</span> <span class="n">datacheck</span> <span class="p">-</span><span class="n">-jobs</span><span class="p">=</span><span class="n">4</span> <span class="p">|</span> <span class="nb">Out-Default</span> <span class="p">}</span>
<span class="p">&lt;</span><span class="n">output</span> <span class="n">truncated</span><span class="p">&gt;</span>
<span class="n">scons</span><span class="p">:</span> <span class="n">done</span> <span class="n">building</span> <span class="n">targets</span><span class="p">.</span>

<span class="n">Days</span>              <span class="p">:</span> <span class="n">0</span>
<span class="n">Hours</span>             <span class="p">:</span> <span class="n">0</span>
<span class="n">Minutes</span>           <span class="p">:</span> <span class="n">0</span>
<span class="n">Seconds</span>           <span class="p">:</span> <span class="n">10</span>
<span class="n">Milliseconds</span>      <span class="p">:</span> <span class="n">129</span>
<span class="n">Ticks</span>             <span class="p">:</span> <span class="n">101291696</span>
<span class="n">TotalDays</span>         <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">0001172357592593</span>
<span class="n">TotalHours</span>        <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">002813658222222</span>
<span class="n">TotalMinutes</span>      <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">1688194933333</span>
<span class="n">TotalSeconds</span>      <span class="p">:</span> <span class="n">10</span><span class="p">.</span><span class="n">1291696</span>
<span class="n">TotalMilliseconds</span> <span class="p">:</span> <span class="n">10129</span><span class="p">.</span><span class="n">1696</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="8">
<li><p>Run the full workflow and verify that the CSV regression test passes</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-12" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-12">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span>scons<span class="w"> </span>datacheck<span class="w"> </span>--clean
$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>scons<span class="w"> </span>tutorial_11_regression_testing<span class="w"> </span>--jobs<span class="o">=</span><span class="m">4</span>
&lt;output<span class="w"> </span>truncated&gt;
scons:<span class="w"> </span><span class="k">done</span><span class="w"> </span>building<span class="w"> </span>targets.

real<span class="w"> </span>0m29.031s
user<span class="w"> </span>0m25.712s
sys<span class="w">  </span>0m25.622s
$<span class="w"> </span>cat<span class="w"> </span>build/tutorial_11_regression_testing/regression.yaml
CSV<span class="w"> </span>comparison:<span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-13" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-13">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="n">scons</span> <span class="n">datacheck</span> <span class="p">-</span><span class="n">-clean</span>
<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Measure-Command</span> <span class="p">{</span> <span class="n">scons</span> <span class="n">tutorial_11_regression_testing</span> <span class="p">-</span><span class="n">-jobs</span><span class="p">=</span><span class="n">4</span> <span class="p">|</span> <span class="nb">Out-Default</span> <span class="p">}</span>
<span class="p">&lt;</span><span class="n">output</span> <span class="n">truncated</span><span class="p">&gt;</span>
<span class="n">scons</span><span class="p">:</span> <span class="n">done</span> <span class="n">building</span> <span class="n">targets</span><span class="p">.</span>

<span class="n">Days</span>              <span class="p">:</span> <span class="n">0</span>
<span class="n">Hours</span>             <span class="p">:</span> <span class="n">0</span>
<span class="n">Minutes</span>           <span class="p">:</span> <span class="n">0</span>
<span class="n">Seconds</span>           <span class="p">:</span> <span class="n">31</span>
<span class="n">Milliseconds</span>      <span class="p">:</span> <span class="n">493</span>
<span class="n">Ticks</span>             <span class="p">:</span> <span class="n">314936692</span>
<span class="n">TotalDays</span>         <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">0003645100601852</span>
<span class="n">TotalHours</span>        <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">008748241444444</span>
<span class="n">TotalMinutes</span>      <span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">5248944866667</span>
<span class="n">TotalSeconds</span>      <span class="p">:</span> <span class="n">31</span><span class="p">.</span><span class="n">4936692</span>
<span class="n">TotalMilliseconds</span> <span class="p">:</span> <span class="n">31493</span><span class="p">.</span><span class="n">6692</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Content</span> <span class="n">build</span><span class="p">\</span><span class="n">tutorial_11_regression_testing</span><span class="p">\</span><span class="n">regression</span><span class="p">.</span><span class="n">yaml</span>
<span class="n">CSV</span> <span class="n">comparison</span><span class="p">:</span> <span class="n">true</span>
</pre></div>
</div>
</div>
</div>
<p>If you haven’t added the project-wide datacheck alias to the previous tutorials, you should expect the <code class="docutils literal notranslate"><span class="pre">datacheck</span></code>
alias to run faster than the <code class="docutils literal notranslate"><span class="pre">tutorial_11_regression_testing</span></code> alias because the datacheck excludes the solve, extract,
and post-processing tasks. In these tutorials, the difference in execution time is not large. However, in many
production modsim projects, the simulations may require hours or even days to complete. In that case, the relatively
fast running solverprep verification may be tractable for regular testing where the full simulations and post-processing
are not.</p>
<p>To approximate the time savings of the new project-wide <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> alias for a (slightly) larger modsim project, you
can go back through the previous tutorials and add each tutorial’s datacheck task to the new alias. For a fair
comparison, you will also need to add a comparable alias to collect the full workflow for each tutorial, e.g.
<code class="docutils literal notranslate"><span class="pre">full_workflows</span></code>. You can then repeat the <code class="docutils literal notranslate"><span class="pre">time</span></code> commands above with a more comprehensive <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> and
<code class="docutils literal notranslate"><span class="pre">full_workflows</span></code> aliases.</p>
</section>
<section id="output-files">
<h2>Output Files<a class="headerlink" href="#output-files" title="Link to this heading">#</a></h2>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-14" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-14">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span>tree<span class="w"> </span>build/tutorial_11_regression_testing/parameter_set0/
build/tutorial_11_regression_testing/parameter_set0/
<span class="p">|</span>--<span class="w"> </span>abaqus.rpy
<span class="p">|</span>--<span class="w"> </span>abaqus.rpy.1
<span class="p">|</span>--<span class="w"> </span>abaqus.rpy.2
<span class="p">|</span>--<span class="w"> </span>assembly.inp
<span class="p">|</span>--<span class="w"> </span>boundary.inp
<span class="p">|</span>--<span class="w"> </span>field_output.inp
<span class="p">|</span>--<span class="w"> </span>history_output.inp
<span class="p">|</span>--<span class="w"> </span>materials.inp
<span class="p">|</span>--<span class="w"> </span>parts.inp
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.inp
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.inp.in
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.023
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.com
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.dat
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.mdl
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.msg
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.odb
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.prt
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.sim
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_compression_DATACHECK.stt
<span class="p">|</span>--<span class="w"> </span>rectangle_geometry.cae
<span class="p">|</span>--<span class="w"> </span>rectangle_geometry.jnl
<span class="p">|</span>--<span class="w"> </span>rectangle_geometry.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.cae
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.inp
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.jnl
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_partition.cae
<span class="p">|</span>--<span class="w"> </span>rectangle_partition.jnl
<span class="sb">`</span>--<span class="w"> </span>rectangle_partition.stdout

<span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">31</span><span class="w"> </span>files
$<span class="w"> </span>tree<span class="w"> </span>build/tutorial_11_regression_testing/<span class="w"> </span>-L<span class="w"> </span><span class="m">1</span>
build/tutorial_11_regression_testing/
<span class="p">|</span>--<span class="w"> </span>parameter_set0
<span class="p">|</span>--<span class="w"> </span>parameter_set1
<span class="p">|</span>--<span class="w"> </span>parameter_set2
<span class="p">|</span>--<span class="w"> </span>parameter_set3
<span class="p">|</span>--<span class="w"> </span>parameter_study.h5
<span class="p">|</span>--<span class="w"> </span>regression.yaml
<span class="p">|</span>--<span class="w"> </span>regression.yaml.stdout
<span class="p">|</span>--<span class="w"> </span>stress_strain_comparison.csv
<span class="p">|</span>--<span class="w"> </span>stress_strain_comparison.pdf
<span class="sb">`</span>--<span class="w"> </span>stress_strain_comparison.pdf.stdout

<span class="m">4</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">6</span><span class="w"> </span>files
</pre></div>
</div>
</div>
<input id="sd-tab-item-15" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-15">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="n">tree</span> <span class="n">build</span><span class="p">\</span><span class="n">tutorial_11_regression_testing</span><span class="p">\</span><span class="n">parameter_set0</span><span class="p">\</span> <span class="p">/</span><span class="n">F</span>
<span class="n">C</span><span class="p">:\</span><span class="n">USERS</span><span class="p">\</span><span class="n">ROPPENHEIMER</span><span class="p">\</span><span class="n">WAVES-TUTORIALS</span><span class="p">\</span><span class="n">BUILD</span><span class="p">\</span><span class="n">TUTORIAL_11_REGRESSION_TESTING</span><span class="p">\</span><span class="n">PARAMETER_SET0</span>
    <span class="n">abaqus</span><span class="p">.</span><span class="n">rpy</span>
    <span class="n">abaqus</span><span class="p">.</span><span class="n">rpy</span><span class="p">.</span><span class="n">2</span>
    <span class="n">abaqus</span><span class="p">.</span><span class="n">rpy</span><span class="p">.</span><span class="n">3</span>
    <span class="n">abaqus</span><span class="p">.</span><span class="n">rpy</span><span class="p">.</span><span class="n">4</span>
    <span class="n">abaqus</span><span class="p">.</span><span class="n">rpy</span><span class="p">.</span><span class="n">5</span>
    <span class="n">assembly</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">boundary</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">field_output</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">history_output</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">materials</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">parts</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">com</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">csv</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">dat</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">h5</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">inp</span><span class="p">.</span><span class="k">in</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">msg</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">odb</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">odb</span><span class="p">.</span><span class="n">stdout</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">prt</span>
    <span class="n">rectangle_compression</span><span class="p">.</span><span class="n">sta</span>
    <span class="n">rectangle_compression_DATACHECK</span><span class="p">.</span><span class="n">cax</span>
    <span class="n">rectangle_compression_datasets</span><span class="p">.</span><span class="n">h5</span>
    <span class="n">rectangle_geometry</span><span class="p">.</span><span class="n">cae</span>
    <span class="n">rectangle_geometry</span><span class="p">.</span><span class="n">cae</span><span class="p">.</span><span class="n">stdout</span>
    <span class="n">rectangle_geometry</span><span class="p">.</span><span class="n">jnl</span>
    <span class="n">rectangle_mesh</span><span class="p">.</span><span class="n">cae</span>
    <span class="n">rectangle_mesh</span><span class="p">.</span><span class="n">inp</span>
    <span class="n">rectangle_mesh</span><span class="p">.</span><span class="n">inp</span><span class="p">.</span><span class="n">stdout</span>
    <span class="n">rectangle_mesh</span><span class="p">.</span><span class="n">jnl</span>
    <span class="n">rectangle_partition</span><span class="p">.</span><span class="n">cae</span>
    <span class="n">rectangle_partition</span><span class="p">.</span><span class="n">cae</span><span class="p">.</span><span class="n">stdout</span>
    <span class="n">rectangle_partition</span><span class="p">.</span><span class="n">jnl</span>

<span class="n">No</span> <span class="n">subfolders</span> <span class="n">exist</span>

<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-ChildItem</span> <span class="n">build</span><span class="p">\</span><span class="n">tutorial_11_regression_testing</span><span class="p">\</span>

    <span class="n">Directory</span><span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span><span class="p">\</span><span class="n">build</span><span class="p">\</span><span class="n">tutorial_11_regression_testing</span>

<span class="n">Mode</span>                 <span class="n">LastWriteTime</span>         <span class="n">Length</span> <span class="n">Name</span>
<span class="p">----</span>                 <span class="p">-------------</span>         <span class="p">------</span> <span class="p">----</span>
<span class="n">d</span><span class="p">----</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>                <span class="n">parameter_set0</span>
<span class="n">d</span><span class="p">----</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>                <span class="n">parameter_set1</span>
<span class="n">d</span><span class="p">----</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>                <span class="n">parameter_set2</span>
<span class="n">d</span><span class="p">----</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>                <span class="n">parameter_set3</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>           <span class="n">9942</span> <span class="n">parameter_study</span><span class="p">.</span><span class="n">h5</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>             <span class="n">22</span> <span class="n">regression</span><span class="p">.</span><span class="n">yaml</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>              <span class="n">0</span> <span class="n">regression</span><span class="p">.</span><span class="n">yaml</span><span class="p">.</span><span class="n">stdout</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>           <span class="n">2609</span> <span class="n">stress_strain_comparison</span><span class="p">.</span><span class="n">csv</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>          <span class="n">12061</span> <span class="n">stress_strain_comparison</span><span class="p">.</span><span class="n">pdf</span>
<span class="n">-a</span><span class="p">---</span>            <span class="n">6</span><span class="p">/</span><span class="n">9</span><span class="p">/</span><span class="n">2023</span>  <span class="n">4</span><span class="p">:</span><span class="n">32</span> <span class="n">PM</span>           <span class="n">1160</span> <span class="n">stress_strain_comparison</span><span class="p">.</span><span class="n">pdf</span><span class="p">.</span><span class="n">stdout</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="workflow-visualization">
<h2>Workflow Visualization<a class="headerlink" href="#workflow-visualization" title="Link to this heading">#</a></h2>
<p>View the workflow directed graph by running the following command and opening the image in your preferred image viewer.
Plot the workflow with only the first set, <code class="docutils literal notranslate"><span class="pre">set0</span></code>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-16" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-16">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pwd
/home/roppenheimer/waves-tutorials
$ waves visualize datacheck --output-file tutorial_11_datacheck_set0.png --width=42 --height=8 --exclude-list /usr/bin .stdout .jnl .prt .com .msg .dat .sta --exclude-regex &quot;set[1-9]&quot;
</pre></div>
</div>
</div>
<input id="sd-tab-item-17" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-17">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PS</span> <span class="o">&gt;</span> <span class="n">Get</span><span class="o">-</span><span class="n">Location</span>

<span class="n">Path</span>
<span class="o">----</span>
<span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">roppenheimer</span>\<span class="n">waves</span><span class="o">-</span><span class="n">tutorials</span>

<span class="n">PS</span> <span class="o">&gt;</span> <span class="n">waves</span> <span class="n">visualize</span> <span class="n">datacheck</span> <span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">file</span> <span class="n">tutorial_11_datacheck_set0</span><span class="o">.</span><span class="n">png</span> <span class="o">--</span><span class="n">width</span><span class="o">=</span><span class="mi">42</span> <span class="o">--</span><span class="n">height</span><span class="o">=</span><span class="mi">8</span> <span class="o">--</span><span class="n">exclude</span><span class="o">-</span><span class="nb">list</span> <span class="o">.</span><span class="n">stdout</span> <span class="o">.</span><span class="n">jnl</span> <span class="o">.</span><span class="n">prt</span> <span class="o">.</span><span class="n">com</span> <span class="o">.</span><span class="n">msg</span> <span class="o">.</span><span class="n">dat</span> <span class="o">.</span><span class="n">sta</span> <span class="o">--</span><span class="n">exclude</span><span class="o">-</span><span class="n">regex</span> <span class="s2">&quot;set[1-9]&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>The output should look similar to the figure below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/tutorial_11_datacheck_set0.png"><img alt="_images/tutorial_11_datacheck_set0.png" src="_images/tutorial_11_datacheck_set0.png" style="width: 100%;" />
</a>
</figure>
<p>This tutorial’s <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> directed graph should look different from the graph in
<a class="reference internal" href="tutorial_09_post_processing.html#tutorial-post-processing"><span class="std std-ref">Tutorial 09: Post-Processing</span></a>. Here we have plotted the <code class="docutils literal notranslate"><span class="pre">datacheck</span></code> alias output, which does not execute the
full simulation workflow. This partial directed graph may run faster than the full simulation workflow for frequent
regression tests.</p>
</section>
<section id="automation">
<h2>Automation<a class="headerlink" href="#automation" title="Link to this heading">#</a></h2>
<p>There are many tools that can help automate the execution of the modsim project regression tests. With the collector
alias, those tools need only execute a single <a class="reference external" href="https://scons.org/">SCons</a> command to perform the selected, lower cost tasks for simulation
workflow verification, <code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">datacheck</span></code>. If <a class="reference external" href="https://git-scm.com/">git</a> <span id="id5">[<a class="reference internal" href="zreferences.html#id45" title="Git. 2022. URL: https://git-scm.com/ (visited on 2022-08-05).">21</a>]</span> is used as the version control system, developer
operations software such as <a class="reference external" href="https://github.com/">GitHub</a> <span id="id6">[<a class="reference internal" href="zreferences.html#id29" title="Inc GitHub. Github. 2023. San Francisco, CA, USA. URL: https://github.com/ (visited on 2023-10-30).">24</a>]</span>, <a class="reference external" href="https://about.gitlab.com/">Gitlab</a> <span id="id7">[<a class="reference internal" href="zreferences.html#id27" title="GitLab B.V. Gitlab. 2022. Boston, MA, USA. URL: https://about.gitlab.com/ (visited on 2022-08-05).">25</a>]</span>, and Atlassian’s <a class="reference external" href="https://www.atlassian.com/software/bitbucket">Bitbucket</a>
<span id="id8">[<a class="reference internal" href="zreferences.html#id31" title="Atlassian. Bitbucket. 2023. San Francisco, CA, USA. URL: https://www.atlassian.com/software/bitbucket (visited on 2023-10-30).">26</a>]</span> provide continuous integration software that can automate verification tests on triggers, such as
merge requests, or on a regular schedule.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorial_10_unit_testing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tutorial 10: Unit Testing</p>
      </div>
    </a>
    <a class="right-next"
       href="tutorial_12_archival.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tutorial 12: Data Archival</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="simple visible nav section-nav flex-column">
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-structure">Directory Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-script">Regression Script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-file">CSV file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconscript">SConscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconstruct">SConstruct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-targets">Build Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#output-files">Output Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workflow-visualization">Workflow Visualization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automation">Automation</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kyle Brindley, Prabhu S. Khalsa, Thomas Roberts, Sergio Cordova, Matthew Fister, Chris Johnson, and Scott Ouellette
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022-2025 Triad National Security, LLC. All Rights Reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Oct 10, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>