
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial: Cubit+Sierra &#8212; WAVES 1.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cb027bf8" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cb027bf8" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=423d4ce3"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=e639491b"></script>
    <script src="_static/custom.js?v=070b234d"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial_cubit_sierra';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial: Cubit+Fierro" href="tutorial_cubit_fierro.html" />
    <link rel="prev" title="Tutorial: Cubit+Abaqus" href="tutorial_cubit_abaqus.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Oct 10, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/waves_logo_brandmark_smaller.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/waves_logo_brandmark_smaller.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">1.0.1</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Computational Practices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="computational_practices_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_version_control.html">Version Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_build_system.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_compute_environment.html">Compute Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_regression_testing.html">Regression Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="computational_practices_archival.html">Data Archival</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="abstract.html">Why WAVES?</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_quickstart.html">Quickstart</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="waves_quickstart.html">Quickstart: Abaqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_gmsh_calculix.html">Quickstart: Gmsh+CalculiX</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_introduction.html">Tutorial Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_core.html">Core Lessons</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial_00_scons.html">Tutorial 00: SConstruct</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_01_geometry.html">Tutorial 01: Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_02_partition_mesh.html">Tutorial 02: Partition and Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_03_solverprep.html">Tutorial 03: SolverPrep</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_04_simulation.html">Tutorial 04: Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_05_parameter_substitution.html">Tutorial 05: Parameter Substitution</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_06_include_files.html">Tutorial 06: Include Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_cartesian_product.html">Tutorial 07: Cartesian Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_08_data_extraction.html">Tutorial 08: Data Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_09_post_processing.html">Tutorial 09: Post-Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_10_unit_testing.html">Tutorial 10: Unit Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_11_regression_testing.html">Tutorial 11: Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_12_archival.html">Tutorial 12: Data Archival</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="tutorial_supplemental.html">Supplemental Lessons</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scons_quickstart.html">SCons Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="scons_multiactiontask.html">SCons Multi-Action Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_argparse_types.html">Tutorial: Input Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_cubit_abaqus.html">Tutorial: Cubit+Abaqus</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Tutorial: Cubit+Sierra</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_cubit_fierro.html">Tutorial: Cubit+Fierro</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_escape_sequences.html">Tutorial: Escape Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_latin_hypercube.html">Tutorial 07: Latin Hypercube</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_sobol_sequence.html">Tutorial 07: Sobol Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_07_one_at_a_time.html">Tutorial 07: One-at-a-Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_mesh_convergence.html">Tutorial: Mesh Convergence</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_part_image.html">Tutorial: Part Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_sensitivity_study.html">Tutorial: Sensitivity Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_abaqus_cae.html">Tutorial: Abaqus CAE</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial_wip.html">Work-in-progress Lessons</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial_writing_builders.html">Tutorial: Writing Builders</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_remote_execution.html">Tutorial: Simulation via SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_sbatch.html">Tutorial: Simulation via SLURM</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_extend_study.html">Automatically Extending a Parameter Study</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_task_reuse.html">Tutorial: Task Definition Reuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_setuptools_scm.html">Tutorial: setuptools_scm</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_quinoa.html">Tutorial: Quinoa</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">ModSim Templates</a></li>

<li class="toctree-l1"><a class="reference internal" href="api.html">External API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command-Line Utilities</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Help and Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="license.html">LICENSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal_api.html">Internal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devops.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_philosophy.html">Release Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tutorial_api.html">WAVES-TUTORIAL API</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_cli.html">WAVES-TUTORIAL CLI</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="tutorial_supplemental.html" class="nav-link">Supplemental Lessons</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Tutorial:...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/lanl-aea/waves" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/lanl-aea/waves/blob/main/docs/tutorial_cubit_sierra.rst?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tutorial_cubit_sierra.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tutorial: Cubit+Sierra</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="simple visible nav section-nav flex-column">
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-structure">Directory Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconscript">SConscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cubit-journal-files">Cubit Journal Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sierra-input-file-s">Sierra Input File(s)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconstruct">SConstruct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-targets">Build Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#output-files">Output Files</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="tutorial-cubit-sierra">
<span id="id1"></span><h1>Tutorial: Cubit+Sierra<a class="headerlink" href="#tutorial-cubit-sierra" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Most WAVES tutorials are used as system tests in the regression test suite to ensure that the tutorial files are
up-to-date and functional. The sierra local submission <em>without</em> sbatch is part of the regression suite, but the
sbatch submission behavior is not. If you run into problems running this tutorial, please contact the WAVES
development team.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your Cubit installation and operating system, it may not be
possible to import Cubit into arbitrary Python 3 environments. Instead, it
may be necessary to execute Cubit Python scripts using the Python
interpreter bundled with Cubit. An alternate Cubit tutorial using
<a class="reference internal" href="api.html#waves.scons_extensions.add_cubit_python" title="waves.scons_extensions.add_cubit_python"><code class="xref py py-meth docutils literal notranslate"><span class="pre">waves.scons_extensions.add_cubit_python()</span></code></a> is provided as
<code class="docutils literal notranslate"><span class="pre">tutorial_cubit_alternate</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pwd
/home/roppenheimer/waves-tutorials
$ waves fetch --destination tutorial_cubit_alternate tutorials/tutorial_cubit_alternate
</pre></div>
</div>
</div>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://cubit.sandia.gov/public/documentation.html">Cubit</a>: Python Interface <span id="id2">[<a class="reference internal" href="zreferences.html#id21" title="National Technology and Engineering Solutions of Sandia, LLC. Cubit. 2022. Albuquerque, New Mexico, USA. URL: https://cubit.sandia.gov/ (visited on 2022-08-05).">62</a>]</span></p></li>
<li><p><a class="reference external" href="https://cubit.sandia.gov/public/documentation.html">Cubit</a>: Importing Cubit into Python <span id="id3">[<a class="reference internal" href="zreferences.html#id21" title="National Technology and Engineering Solutions of Sandia, LLC. Cubit. 2022. Albuquerque, New Mexico, USA. URL: https://cubit.sandia.gov/ (visited on 2022-08-05).">62</a>]</span></p></li>
<li><p><a class="reference external" href="https://www.osti.gov/biblio/1886996">Sierra</a>: Sierra/SolidMechanics User’s Guide <span id="id4">[<a class="reference internal" href="zreferences.html#id22" title="SIERRA Solid Mechanics Team. Sierra/SolidMechanics 5.10: User's Guide. Number SAND2022-12223. Sandia National Laboratories, 5.10 edition, 2022. URL: https://www.osti.gov/biblio/1886996.">64</a>]</span></p></li>
</ul>
</section>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://scons.org/">SCons</a> and <a class="reference external" href="https://lanl-aea.github.io/waves/index.html">WAVES</a> can be installed in a <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> environment with the <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> package manager. See the <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html">Conda
installation</a> and <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Conda environment management</a> documentation for more details about using <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SALib and numpy versions may not need to be this strict for most tutorials. However,
<a class="reference internal" href="tutorial_sensitivity_study.html#tutorial-sensitivity-study"><span class="std std-ref">Tutorial: Sensitivity Study</span></a> uncovered some undocumented SALib version sensitivity to numpy surrounding the
numpy v2 rollout.</p>
</div>
<ol class="arabic">
<li><p>Create the tutorials environment if it doesn’t exist</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-0">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda create --name waves-tutorial-env --channel conda-forge waves &#39;scons&gt;=4.6&#39; matplotlib pandas pyyaml xarray seaborn &#39;numpy&gt;=2&#39; &#39;salib&gt;=1.5.1&#39; pytest
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-1">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PS</span> <span class="o">&gt;</span> <span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="n">waves</span><span class="o">-</span><span class="n">tutorial</span><span class="o">-</span><span class="n">env</span> <span class="o">--</span><span class="n">channel</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">waves</span> <span class="n">scons</span> <span class="n">matplotlib</span> <span class="n">pandas</span> <span class="n">pyyaml</span> <span class="n">xarray</span> <span class="n">seaborn</span> <span class="n">numpy</span> <span class="n">salib</span> <span class="n">pytest</span>
</pre></div>
</div>
</div>
</div>
</li>
<li><p>Activate the environment</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-2">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda activate waves-tutorial-env
</pre></div>
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-3">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PS</span> <span class="o">&gt;</span> <span class="n">conda</span> <span class="n">activate</span> <span class="n">waves</span><span class="o">-</span><span class="n">tutorial</span><span class="o">-</span><span class="n">env</span>
</pre></div>
</div>
</div>
</div>
</li>
</ol>
<p>Some tutorials require additional third-party software that is not available for the <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> package manager. This
software must be installed separately and either made available to SConstruct by modifying your system’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code> or by
modifying the SConstruct search paths provided to the <a class="reference internal" href="api.html#waves.scons_extensions.add_program" title="waves.scons_extensions.add_program"><code class="xref py py-meth docutils literal notranslate"><span class="pre">waves.scons_extensions.add_program()</span></code></a> method.</p>
</section>
<section id="directory-structure">
<h2>Directory Structure<a class="headerlink" href="#directory-structure" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="3">
<li><p>Create and change to a new project root directory to house the tutorial files if you have not already done so. For example</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="bash" for="sd-tab-item-4">
Linux/MacOS</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>~/waves-tutorials
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/waves-tutorials
$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
</pre></div>
</div>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-group="OS" data-sync-id="powershell" for="sd-tab-item-5">
Windows</label><div class="sd-tab-content docutils">
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">New-Item</span> <span class="nv">$HOME</span><span class="p">\</span><span class="n">waves-tutorials</span> <span class="n">-ItemType</span> <span class="s2">&quot;Directory&quot;</span>
<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Set-Location</span> <span class="nv">$HOME</span><span class="p">\</span><span class="n">waves-tutorials</span>
<span class="nb">PS </span><span class="p">&gt;</span> <span class="nb">Get-Location</span>

<span class="n">Path</span>
<span class="p">----</span>
<span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">roppenheimer</span><span class="p">\</span><span class="n">waves-tutorials</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Create a new <code class="docutils literal notranslate"><span class="pre">tutorial_cubit</span></code> directory with the <code class="docutils literal notranslate"><span class="pre">waves</span> <span class="pre">fetch</span></code> command below</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span>waves<span class="w"> </span>fetch<span class="w"> </span>--destination<span class="w"> </span>tutorial_cubit<span class="w"> </span>tutorials/tutorial_cubit
$<span class="w"> </span>ls<span class="w"> </span>tutorial_cubit
modsim_package/<span class="w"> </span>abaqus.scons<span class="w"> </span>cubit.scons<span class="w"> </span>SConstruct<span class="w"> </span>sierra.scons<span class="w"> </span>fierro.scons
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Make the new <code class="docutils literal notranslate"><span class="pre">tutorial_cubit</span></code> directory the current working directory</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>tutorial_cubit
$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials/tutorial_cubit
$<span class="w"> </span>ls
modsim_package/<span class="w"> </span>abaqus.scons<span class="w"> </span>cubit.scons<span class="w"> </span>SConstruct<span class="w"> </span>sierra.scons<span class="w"> </span>fierro.scons
</pre></div>
</div>
</section>
<section id="sconscript">
<h2>SConscript<a class="headerlink" href="#sconscript" title="Link to this heading">#</a></h2>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">tutorial_cubit</span></code> directory has four SConscript files: <code class="docutils literal notranslate"><span class="pre">cubit.scons</span></code>, <code class="docutils literal notranslate"><span class="pre">abaqus.scons</span></code>,
<code class="docutils literal notranslate"><span class="pre">sierra.scons</span></code>, and <code class="docutils literal notranslate"><span class="pre">fierro.scons</span></code>.  The <code class="docutils literal notranslate"><span class="pre">cubit.scons</span></code> and <code class="docutils literal notranslate"><span class="pre">sierra.scons</span></code> files are relevant to the current
tutorial. The <code class="docutils literal notranslate"><span class="pre">abaqus.scons</span></code> and <code class="docutils literal notranslate"><span class="pre">fierro.scons</span></code> workflows are described in the complementary
<a class="reference internal" href="tutorial_cubit_abaqus.html#tutorial-cubit-abaqus"><span class="std std-ref">Tutorial: Cubit+Abaqus</span></a> and <a class="reference internal" href="tutorial_cubit_fierro.html#tutorial-cubit-fierro"><span class="std std-ref">Tutorial: Cubit+Fierro</span></a>.</p>
<ol class="arabic simple" start="6">
<li><p>Review the <code class="docutils literal notranslate"><span class="pre">cubit.scons</span></code> and <code class="docutils literal notranslate"><span class="pre">sierra.scons</span></code> tutorials and compare them against the <a class="reference internal" href="tutorial_04_simulation.html#tutorial-simulation"><span class="std std-ref">Tutorial 04: Simulation</span></a> files.</p></li>
</ol>
<p>The structure has changed enough that a diff view is not as useful. Instead the contents of the new SConscript files are
duplicated below.</p>
<div class="admonition-waves-tutorials-tutorial-cubit-cubit-scons admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/cubit.scons</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="ch">#! /usr/bin/env python</span>
<span class="linenos">  2</span><span class="sd">&quot;&quot;&quot;Rectangle compression workflow: geometry, partition, mesh.</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">Requires the following ``SConscript(..., exports={})``</span>
<span class="linenos">  5</span>
<span class="linenos">  6</span><span class="sd">* ``env`` - The SCons construction environment with the following required keys</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="sd">  * ``unconditional_build`` - Boolean flag to force building of conditionally ignored targets</span>
<span class="linenos">  9</span><span class="sd">  * ``cubit`` - String path for the Cubit executable</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="sd">* ``element_type`` - The Cubit 4 node quadrilateral element type</span>
<span class="linenos"> 12</span><span class="sd">* ``solver`` - The target solver to use when writing a mesh file</span>
<span class="linenos"> 13</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="c1"># Inherit the parent construction environment</span>
<span class="linenos"> 18</span><span class="n">Import</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">,</span> <span class="s2">&quot;element_type&quot;</span><span class="p">,</span> <span class="s2">&quot;solver&quot;</span><span class="p">)</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="c1"># Simulation variables</span>
<span class="linenos"> 21</span><span class="n">build_directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">Dir</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">abspath</span><span class="p">)</span>
<span class="linenos"> 22</span><span class="n">workflow_name</span> <span class="o">=</span> <span class="n">build_directory</span><span class="o">.</span><span class="n">name</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="c1"># Collect the target nodes to build a concise alias for all targets</span>
<span class="linenos"> 25</span><span class="n">workflow</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="c1"># Rectangle 2D</span>
<span class="linenos"> 28</span><span class="c1"># Geometry</span>
<span class="linenos"> 29</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 30</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 31</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rectangle_geometry.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 32</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/rectangle_geometry.py&quot;</span><span class="p">],</span>
<span class="linenos"> 33</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="p">)</span>
<span class="linenos"> 35</span><span class="p">)</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="c1"># Partition</span>
<span class="linenos"> 38</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 39</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 40</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rectangle_partition.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 41</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/rectangle_partition.py&quot;</span><span class="p">,</span> <span class="s2">&quot;rectangle_geometry.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 42</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="p">)</span>
<span class="linenos"> 44</span><span class="p">)</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="c1"># Mesh</span>
<span class="linenos"> 47</span><span class="k">if</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;abaqus&quot;</span><span class="p">:</span>
<span class="linenos"> 48</span>    <span class="n">mesh_extension</span> <span class="o">=</span> <span class="s2">&quot;inp&quot;</span>
<span class="linenos"> 49</span><span class="k">elif</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;sierra&quot;</span><span class="p">,</span> <span class="s2">&quot;adagio&quot;</span><span class="p">]:</span>
<span class="linenos"> 50</span>    <span class="n">mesh_extension</span> <span class="o">=</span> <span class="s2">&quot;g&quot;</span>
<span class="linenos"> 51</span><span class="k">else</span><span class="p">:</span>
<span class="linenos"> 52</span>    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown solver &#39;</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 53</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 54</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 55</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;rectangle_mesh.</span><span class="si">{</span><span class="n">mesh_extension</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;rectangle_mesh.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 56</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/rectangle_mesh.py&quot;</span><span class="p">,</span> <span class="s2">&quot;rectangle_partition.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 57</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;--element-type $</span><span class="si">{element_type}</span><span class="s2"> --solver $</span><span class="si">{solver}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="linenos"> 58</span>        <span class="n">element_type</span><span class="o">=</span><span class="n">element_type</span><span class="p">,</span>
<span class="linenos"> 59</span>        <span class="n">solver</span><span class="o">=</span><span class="n">solver</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="p">)</span>
<span class="linenos"> 61</span><span class="p">)</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="c1"># Cube 3D</span>
<span class="linenos"> 65</span><span class="c1"># Geometry</span>
<span class="linenos"> 66</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 67</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 68</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cube_geometry.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 69</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/cube_geometry.py&quot;</span><span class="p">],</span>
<span class="linenos"> 70</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="linenos"> 71</span>    <span class="p">)</span>
<span class="linenos"> 72</span><span class="p">)</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="c1"># Partition</span>
<span class="linenos"> 75</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 76</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 77</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cube_partition.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 78</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/cube_partition.py&quot;</span><span class="p">,</span> <span class="s2">&quot;cube_geometry.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 79</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="p">)</span>
<span class="linenos"> 81</span><span class="p">)</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="c1"># Mesh</span>
<span class="linenos"> 84</span><span class="k">if</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;abaqus&quot;</span><span class="p">:</span>
<span class="linenos"> 85</span>    <span class="n">mesh_extension</span> <span class="o">=</span> <span class="s2">&quot;inp&quot;</span>
<span class="linenos"> 86</span><span class="k">elif</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;sierra&quot;</span><span class="p">,</span> <span class="s2">&quot;adagio&quot;</span><span class="p">]:</span>
<span class="linenos"> 87</span>    <span class="n">mesh_extension</span> <span class="o">=</span> <span class="s2">&quot;g&quot;</span>
<span class="linenos"> 88</span><span class="k">else</span><span class="p">:</span>
<span class="linenos"> 89</span>    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown solver &#39;</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 90</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos"> 91</span>    <span class="n">env</span><span class="o">.</span><span class="n">PythonScript</span><span class="p">(</span>
<span class="linenos"> 92</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;cube_mesh.</span><span class="si">{</span><span class="n">mesh_extension</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;cube_mesh.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 93</span>        <span class="n">source</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#/modsim_package/cubit/cube_mesh.py&quot;</span><span class="p">,</span> <span class="s2">&quot;cube_partition.cub&quot;</span><span class="p">],</span>
<span class="linenos"> 94</span>        <span class="n">subcommand_options</span><span class="o">=</span><span class="s2">&quot;--element-type $</span><span class="si">{element_type}</span><span class="s2"> --solver $</span><span class="si">{solver}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="linenos"> 95</span>        <span class="n">element_type</span><span class="o">=</span><span class="n">element_type</span><span class="p">,</span>
<span class="linenos"> 96</span>        <span class="n">solver</span><span class="o">=</span><span class="n">solver</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="p">)</span>
<span class="linenos"> 98</span><span class="p">)</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="c1"># Collector alias based on parent directory name</span>
<span class="linenos">101</span><span class="n">env</span><span class="o">.</span><span class="n">Alias</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">_cubit&quot;</span><span class="p">,</span> <span class="n">workflow</span><span class="p">)</span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="k">if</span> <span class="ow">not</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;unconditional_build&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;CUBIT_PROGRAM&quot;</span><span class="p">]:</span>
<span class="linenos">104</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Program &#39;cubit&#39; was not found in construction environment. Ignoring &#39;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">&#39; target(s)&quot;</span><span class="p">)</span>
<span class="linenos">105</span>    <span class="n">Ignore</span><span class="p">([</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">workflow_name</span><span class="p">],</span> <span class="n">workflow</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-waves-tutorials-tutorial-cubit-sierra-scons admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/sierra.scons</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="ch">#! /usr/bin/env python</span>
<span class="linenos"> 2</span><span class="sd">&quot;&quot;&quot;Rectangle compression workflow: Sierra solve.</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="sd">Requires the following ``SConscript(..., exports={})``</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="sd">* ``env`` - The SCons construction environment with the following required keys</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="sd">  * ``unconditional_build`` - Boolean flag to force building of conditionally ignored targets</span>
<span class="linenos"> 9</span><span class="sd">  * ``cubit`` - String path for the Cubit executable</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="sd">* ``env_sierra`` - The Sierra SCons construction environment with the following required keys</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="sd">  * ``sierra`` - String path for the Sierra executable</span>
<span class="linenos">14</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="c1"># Inherit the parent construction environment</span>
<span class="linenos">19</span><span class="n">Import</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">,</span> <span class="s2">&quot;env_sierra&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># Simulation variables</span>
<span class="linenos">22</span><span class="n">build_directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">Dir</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">abspath</span><span class="p">)</span>
<span class="linenos">23</span><span class="n">workflow_name</span> <span class="o">=</span> <span class="n">build_directory</span><span class="o">.</span><span class="n">name</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="c1"># Collect the target nodes to build a concise alias for all targets</span>
<span class="linenos">26</span><span class="n">workflow</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="n">element_type</span> <span class="o">=</span> <span class="s2">&quot;SHELL&quot;</span>
<span class="linenos">29</span><span class="n">solver</span> <span class="o">=</span> <span class="s2">&quot;sierra&quot;</span>
<span class="linenos">30</span><span class="n">SConscript</span><span class="p">(</span>
<span class="linenos">31</span>    <span class="s2">&quot;cubit.scons&quot;</span><span class="p">,</span>
<span class="linenos">32</span>    <span class="n">exports</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="n">env</span><span class="p">,</span> <span class="s2">&quot;element_type&quot;</span><span class="p">:</span> <span class="n">element_type</span><span class="p">,</span> <span class="s2">&quot;solver&quot;</span><span class="p">:</span> <span class="n">solver</span><span class="p">},</span>
<span class="linenos">33</span>    <span class="n">duplicate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="linenos">34</span><span class="p">)</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="c1"># SolverPrep</span>
<span class="linenos">37</span><span class="n">sierra_source_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#/modsim_package/sierra/rectangle_compression.i&quot;</span><span class="p">]</span>
<span class="linenos">38</span><span class="n">sierra_source_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span> <span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">sierra_source_list</span><span class="p">]</span>
<span class="linenos">39</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">CopySubstfile</span><span class="p">(</span><span class="n">sierra_source_list</span><span class="p">))</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="c1"># Sierra Solve</span>
<span class="linenos">42</span><span class="n">solve_source_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">source_file</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">sierra_source_list</span><span class="p">]</span>
<span class="linenos">43</span><span class="n">solve_source_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;rectangle_mesh.g&quot;</span><span class="p">)</span>
<span class="linenos">44</span><span class="n">workflow</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
<span class="linenos">45</span>    <span class="n">env_sierra</span><span class="o">.</span><span class="n">Sierra</span><span class="p">(</span>
<span class="linenos">46</span>        <span class="n">target</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rectangle_compression.e&quot;</span><span class="p">],</span>
<span class="linenos">47</span>        <span class="n">source</span><span class="o">=</span><span class="n">solve_source_list</span><span class="p">,</span>
<span class="linenos">48</span>    <span class="p">)</span>
<span class="linenos">49</span><span class="p">)</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="c1"># Collector alias based on parent directory name</span>
<span class="linenos">52</span><span class="n">env</span><span class="o">.</span><span class="n">Alias</span><span class="p">(</span><span class="n">workflow_name</span><span class="p">,</span> <span class="n">workflow</span><span class="p">)</span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="c1"># Developer note: CI system configuration for Sierra is inconsistent. Do not force with ``unconditional build`` option.</span>
<span class="linenos">55</span><span class="k">if</span> <span class="ow">not</span> <span class="n">env_sierra</span><span class="p">[</span><span class="s2">&quot;sierra&quot;</span><span class="p">]:</span>
<span class="linenos">56</span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Program &#39;sierra&#39; was not found in construction environment. Ignoring &#39;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">&#39; target(s)&quot;</span><span class="p">)</span>
<span class="linenos">57</span>    <span class="n">Ignore</span><span class="p">([</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">workflow_name</span><span class="p">],</span> <span class="n">workflow</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="cubit-journal-files">
<h2>Cubit Journal Files<a class="headerlink" href="#cubit-journal-files" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="7">
<li><p>Review the following journal files in the <code class="docutils literal notranslate"><span class="pre">waves-tutorials/modsim_package/cubit</span></code> directory.</p></li>
</ol>
<p>The Cubit journal files include the same CLI introduced in <a class="reference internal" href="tutorial_02_partition_mesh.html#tutorial-partition-mesh"><span class="std std-ref">Tutorial 02: Partition and Mesh</span></a> for the Abaqus journal
files. Besides the differences in Abaqus and Cubit commands, the major difference between the Abaqus and Cubit journal
files is the opportunity to use Python 3 with Cubit, where Abaqus journal files must use the Abaqus controlled
installation of Python 2. The API and CLI built from the Cubit journal files’ docstrings may be found in the
<a class="reference internal" href="tutorial_api.html#waves-tutorial-api"><span class="std std-ref">WAVES-TUTORIAL API</span></a> for <a class="reference internal" href="tutorial_api.html#cubit-journal-api"><span class="std std-ref">cubit</span></a> and the <a class="reference internal" href="tutorial_cli.html#waves-tutorial-cli"><span class="std std-ref">WAVES-TUTORIAL CLI</span></a> for <a class="reference internal" href="tutorial_cli.html#cubit-journal-cli"><span class="std std-ref">cubit</span></a>,
respectively.</p>
<div class="admonition-waves-tutorials-tutorial-cubit-modsim-package-cubit-rectangle-geometry-py admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_geometry.py</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="sd">&quot;&quot;&quot;Create a simple rectangle geometry.&quot;&quot;&quot;</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="linenos"> 4</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos"> 5</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kn">import</span><span class="w"> </span><span class="nn">cubit</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">output_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">11</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a simple rectangle geometry.</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="sd">    This script creates a simple Cubit model with a single rectangle part.</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="sd">    :param str output_file: The output file for the Cubit model. Will be stripped of the extension and ``.cub`` will be</span>
<span class="linenos">16</span><span class="sd">        used.</span>
<span class="linenos">17</span><span class="sd">    :param float width: The rectangle width</span>
<span class="linenos">18</span><span class="sd">    :param float height: The rectangle height</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="sd">    :returns: writes ``output_file``.cub</span>
<span class="linenos">21</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">22</span>    <span class="n">output_file</span> <span class="o">=</span> <span class="n">output_file</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">init</span><span class="p">([</span><span class="s2">&quot;cubit&quot;</span><span class="p">,</span> <span class="s2">&quot;-noecho&quot;</span><span class="p">,</span> <span class="s2">&quot;-nojournal&quot;</span><span class="p">,</span> <span class="s2">&quot;-nographics&quot;</span><span class="p">,</span> <span class="s2">&quot;-batch&quot;</span><span class="p">])</span>
<span class="linenos">25</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>
<span class="linenos">26</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">)</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;create vertex 0 0 0&quot;</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;create vertex </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2"> 0 0&quot;</span><span class="p">)</span>
<span class="linenos">30</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;create vertex </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2"> 0&quot;</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;create vertex 0 </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2"> 0&quot;</span><span class="p">)</span>
<span class="linenos">32</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;create surface vertex 1,2,3,4&quot;</span><span class="p">)</span>
<span class="linenos">33</span>
<span class="linenos">34</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;save as &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; overwrite&quot;</span><span class="p">)</span>
<span class="linenos">35</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="k">def</span><span class="w"> </span><span class="nf">get_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">:</span>
<span class="linenos">38</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the command-line interface parser.&quot;&quot;&quot;</span>
<span class="linenos">39</span>    <span class="n">script_name</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="c1"># Set default parameter values</span>
<span class="linenos">41</span>    <span class="n">default_output_file</span> <span class="o">=</span> <span class="n">script_name</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
<span class="linenos">42</span>    <span class="n">default_width</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="linenos">43</span>    <span class="n">default_height</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="linenos">44</span>
<span class="linenos">45</span>    <span class="n">prog</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;python </span><span class="si">{</span><span class="n">script_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="linenos">46</span>    <span class="n">cli_description</span> <span class="o">=</span> <span class="s2">&quot;Create a simple rectangle geometry and write an ``output_file``.cub Cubit model file.&quot;</span>
<span class="linenos">47</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">cli_description</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="n">prog</span><span class="p">)</span>
<span class="linenos">48</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">49</span>        <span class="s2">&quot;--output-file&quot;</span><span class="p">,</span>
<span class="linenos">50</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">51</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_output_file</span><span class="p">,</span>
<span class="linenos">52</span>        <span class="n">help</span><span class="o">=</span><span class="p">(</span>
<span class="linenos">53</span>            <span class="s2">&quot;The output file for the Cubit model. &quot;</span>
<span class="linenos">54</span>            <span class="s2">&quot;Will be stripped of the extension and ``.cub`` will be used, e.g. ``output_file``.cub &quot;</span>
<span class="linenos">55</span>            <span class="s2">&quot;(default: </span><span class="si">%(default)s</span><span class="s2">&quot;</span>
<span class="linenos">56</span>        <span class="p">),</span>
<span class="linenos">57</span>    <span class="p">)</span>
<span class="linenos">58</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">59</span>        <span class="s2">&quot;--width&quot;</span><span class="p">,</span>
<span class="linenos">60</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="linenos">61</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_width</span><span class="p">,</span>
<span class="linenos">62</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The rectangle width&quot;</span><span class="p">,</span>
<span class="linenos">63</span>    <span class="p">)</span>
<span class="linenos">64</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">65</span>        <span class="s2">&quot;--height&quot;</span><span class="p">,</span>
<span class="linenos">66</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="linenos">67</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_height</span><span class="p">,</span>
<span class="linenos">68</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The rectangle height&quot;</span><span class="p">,</span>
<span class="linenos">69</span>    <span class="p">)</span>
<span class="linenos">70</span>    <span class="k">return</span> <span class="n">parser</span>
<span class="linenos">71</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">74</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">get_parser</span><span class="p">()</span>
<span class="linenos">75</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="linenos">76</span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span>
<span class="linenos">77</span>        <span class="n">main</span><span class="p">(</span>
<span class="linenos">78</span>            <span class="n">output_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span>
<span class="linenos">79</span>            <span class="n">width</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
<span class="linenos">80</span>            <span class="n">height</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
<span class="linenos">81</span>        <span class="p">)</span>
<span class="linenos">82</span>    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-waves-tutorials-tutorial-cubit-modsim-package-cubit-rectangle-partition-py admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_partition.py</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;Partition the simple rectangle geometry created by ``rectangle_geometry.py``.&quot;&quot;&quot;</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="linenos">  4</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos">  5</span><span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="linenos">  6</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="kn">import</span><span class="w"> </span><span class="nn">cubit</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">input_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 12</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Partition the simple rectangle geometry created by ``rectangle_geometry.py``.</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="sd">    This script partitions a simple Cubit model with a single rectangle part.</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="sd">    **Feature labels:**</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="sd">    * ``bottom_left`` - bottom left vertex</span>
<span class="linenos"> 19</span><span class="sd">    * ``bottom_right`` - bottom right vertex</span>
<span class="linenos"> 20</span><span class="sd">    * ``top_right`` - top right vertex</span>
<span class="linenos"> 21</span><span class="sd">    * ``top_left`` - top left vertex</span>
<span class="linenos"> 22</span><span class="sd">    * ``left`` - left edge nodes</span>
<span class="linenos"> 23</span><span class="sd">    * ``top`` - top edge nodes</span>
<span class="linenos"> 24</span><span class="sd">    * ``right`` - right edge nodes</span>
<span class="linenos"> 25</span><span class="sd">    * ``bottom`` - bottom edge nodes</span>
<span class="linenos"> 26</span><span class="sd">    * ``elset_left`` - left edge elements</span>
<span class="linenos"> 27</span><span class="sd">    * ``elset_top`` - top edge elements</span>
<span class="linenos"> 28</span><span class="sd">    * ``elset_right`` - right edge elements</span>
<span class="linenos"> 29</span><span class="sd">    * ``elset_bottom`` - bottom edge elements</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="sd">    :param str input_file: The Cubit model file created by ``rectangle_geometry.py``. Will be stripped of the extension</span>
<span class="linenos"> 32</span><span class="sd">        and ``.cub`` will be used.</span>
<span class="linenos"> 33</span><span class="sd">    :param str output_file: The output file for the Cubit model. Will be stripped of the extension and ``.cub`` will be</span>
<span class="linenos"> 34</span><span class="sd">        used.</span>
<span class="linenos"> 35</span><span class="sd">    :param float width: The rectangle width</span>
<span class="linenos"> 36</span><span class="sd">    :param float height: The rectangle height</span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span><span class="sd">    :returns: writes ``output_file``.cub</span>
<span class="linenos"> 39</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 40</span>    <span class="n">input_file</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span>
<span class="linenos"> 41</span>    <span class="n">output_file</span> <span class="o">=</span> <span class="n">output_file</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span>    <span class="c1"># Avoid modifying the contents or timestamp on the input file.</span>
<span class="linenos"> 44</span>    <span class="c1"># Required to get conditional re-builds with a build system such as GNU Make, CMake, or SCons</span>
<span class="linenos"> 45</span>    <span class="k">if</span> <span class="n">input_file</span> <span class="o">!=</span> <span class="n">output_file</span><span class="p">:</span>
<span class="linenos"> 46</span>        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">init</span><span class="p">([</span><span class="s2">&quot;cubit&quot;</span><span class="p">,</span> <span class="s2">&quot;-noecho&quot;</span><span class="p">,</span> <span class="s2">&quot;-nojournal&quot;</span><span class="p">,</span> <span class="s2">&quot;-nographics&quot;</span><span class="p">,</span> <span class="s2">&quot;-batch&quot;</span><span class="p">])</span>
<span class="linenos"> 49</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>
<span class="linenos"> 50</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">)</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;open &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 1 add vertex 1&quot;</span><span class="p">)</span>
<span class="linenos"> 55</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 1 name &#39;bottom_left&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 56</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 2 add vertex 2&quot;</span><span class="p">)</span>
<span class="linenos"> 57</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 2 name &#39;bottom_right&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 58</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 3 add vertex 3&quot;</span><span class="p">)</span>
<span class="linenos"> 59</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 3 name &#39;top_right&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 60</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 4 add vertex 4&quot;</span><span class="p">)</span>
<span class="linenos"> 61</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 4 name &#39;top_left&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 5 add curve 4&quot;</span><span class="p">)</span>
<span class="linenos"> 64</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 5 name &#39;left&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 65</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 6 add curve 3&quot;</span><span class="p">)</span>
<span class="linenos"> 66</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 6 name &#39;top&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 67</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 7 add curve 2&quot;</span><span class="p">)</span>
<span class="linenos"> 68</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 7 name &#39;right&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 69</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 8 add curve 1&quot;</span><span class="p">)</span>
<span class="linenos"> 70</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 8 name &#39;bottom&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 1 add curve 4&quot;</span><span class="p">)</span>
<span class="linenos"> 73</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 1 name &#39;elset_left&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 74</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 2 add curve 3&quot;</span><span class="p">)</span>
<span class="linenos"> 75</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 2 name &#39;elset_top&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 3 add curve 2&quot;</span><span class="p">)</span>
<span class="linenos"> 77</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 3 name &#39;elset_right&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 78</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 4 add curve 1&quot;</span><span class="p">)</span>
<span class="linenos"> 79</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;sideset 4 name &#39;elset_bottom&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;save as &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; overwrite&quot;</span><span class="p">)</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="k">def</span><span class="w"> </span><span class="nf">get_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">:</span>
<span class="linenos"> 85</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the command-line interface parser.&quot;&quot;&quot;</span>
<span class="linenos"> 86</span>    <span class="n">script_name</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="linenos"> 87</span>    <span class="c1"># Set default parameter values</span>
<span class="linenos"> 88</span>    <span class="n">default_input_file</span> <span class="o">=</span> <span class="n">script_name</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_partition&quot;</span><span class="p">,</span> <span class="s2">&quot;_geometry&quot;</span><span class="p">)</span>
<span class="linenos"> 89</span>    <span class="n">default_output_file</span> <span class="o">=</span> <span class="n">script_name</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
<span class="linenos"> 90</span>    <span class="n">default_width</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="linenos"> 91</span>    <span class="n">default_height</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span>    <span class="n">prog</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;python </span><span class="si">{</span><span class="n">script_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="linenos"> 94</span>    <span class="n">cli_description</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 95</span>        <span class="s2">&quot;Partition the simple rectangle geometry created by ``rectangle_geometry.py`` &quot;</span>
<span class="linenos"> 96</span>        <span class="s2">&quot;and write an ``output_file``.cub Cubit model file.&quot;</span>
<span class="linenos"> 97</span>    <span class="p">)</span>
<span class="linenos"> 98</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">cli_description</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="n">prog</span><span class="p">)</span>
<span class="linenos"> 99</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">100</span>        <span class="s2">&quot;--input-file&quot;</span><span class="p">,</span>
<span class="linenos">101</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">102</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_input_file</span><span class="p">,</span>
<span class="linenos">103</span>        <span class="n">help</span><span class="o">=</span><span class="p">(</span>
<span class="linenos">104</span>            <span class="s2">&quot;The Cubit model file created by ``rectangle_geometry.py``. &quot;</span>
<span class="linenos">105</span>            <span class="s2">&quot;Will be stripped of the extension and ``.cub`` will be used, e.g. ``input_file``.cub &quot;</span>
<span class="linenos">106</span>            <span class="s2">&quot;(default: </span><span class="si">%(default)s</span><span class="s2">&quot;</span>
<span class="linenos">107</span>        <span class="p">),</span>
<span class="linenos">108</span>    <span class="p">)</span>
<span class="linenos">109</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">110</span>        <span class="s2">&quot;--output-file&quot;</span><span class="p">,</span>
<span class="linenos">111</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">112</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_output_file</span><span class="p">,</span>
<span class="linenos">113</span>        <span class="n">help</span><span class="o">=</span><span class="p">(</span>
<span class="linenos">114</span>            <span class="s2">&quot;The output file for the Cubit model. &quot;</span>
<span class="linenos">115</span>            <span class="s2">&quot;Will be stripped of the extension and ``.cub`` will be used, e.g. ``output_file``.cub &quot;</span>
<span class="linenos">116</span>            <span class="s2">&quot;(default: </span><span class="si">%(default)s</span><span class="s2">&quot;</span>
<span class="linenos">117</span>        <span class="p">),</span>
<span class="linenos">118</span>    <span class="p">)</span>
<span class="linenos">119</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">120</span>        <span class="s2">&quot;--width&quot;</span><span class="p">,</span>
<span class="linenos">121</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="linenos">122</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_width</span><span class="p">,</span>
<span class="linenos">123</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The rectangle width&quot;</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="p">)</span>
<span class="linenos">125</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">126</span>        <span class="s2">&quot;--height&quot;</span><span class="p">,</span>
<span class="linenos">127</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="linenos">128</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_height</span><span class="p">,</span>
<span class="linenos">129</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The rectangle height&quot;</span><span class="p">,</span>
<span class="linenos">130</span>    <span class="p">)</span>
<span class="linenos">131</span>    <span class="k">return</span> <span class="n">parser</span>
<span class="linenos">132</span>
<span class="linenos">133</span>
<span class="linenos">134</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">135</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">get_parser</span><span class="p">()</span>
<span class="linenos">136</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="linenos">137</span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span>
<span class="linenos">138</span>        <span class="n">main</span><span class="p">(</span>
<span class="linenos">139</span>            <span class="n">input_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">input_file</span><span class="p">,</span>
<span class="linenos">140</span>            <span class="n">output_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span>
<span class="linenos">141</span>            <span class="n">width</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
<span class="linenos">142</span>            <span class="n">height</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
<span class="linenos">143</span>        <span class="p">)</span>
<span class="linenos">144</span>    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-waves-tutorials-tutorial-cubit-modsim-package-cubit-rectangle-mesh-py admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_mesh.py</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;Mesh the simple rectangle geometry partitioned by ``rectangle_partition.py``.&quot;&quot;&quot;</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="linenos">  4</span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="linenos">  5</span><span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="linenos">  6</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="kn">import</span><span class="w"> </span><span class="nn">cubit</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span>
<span class="linenos"> 12</span>    <span class="n">input_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 13</span>    <span class="n">output_file</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 14</span>    <span class="n">global_seed</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<span class="linenos"> 15</span>    <span class="n">element_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;QUAD&quot;</span><span class="p">,</span>
<span class="linenos"> 16</span>    <span class="n">solver</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;abaqus&quot;</span><span class="p">,</span>
<span class="linenos"> 17</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 18</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Mesh the simple rectangle geometry partitioned by ``rectangle_partition.py``.</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="sd">    This script meshes a simple Cubit model with a single rectangle part.</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="sd">    **Feature labels:**</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="sd">    * ``NODES`` - all part nodes</span>
<span class="linenos"> 25</span><span class="sd">    * ``ELEMENTS`` - all part elements</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="sd">    :param str input_file: The Cubit model file created by ``rectangle_partition.py``. Will be stripped of the extension</span>
<span class="linenos"> 28</span><span class="sd">        and ``.cub`` will be used.</span>
<span class="linenos"> 29</span><span class="sd">    :param str output_file: The output file for the Cubit model. Will be stripped of the extension and ``.cub`` and</span>
<span class="linenos"> 30</span><span class="sd">        ``.inp`` will be used for the model and orphan mesh output files, respectively.</span>
<span class="linenos"> 31</span><span class="sd">    :param float global_seed: The global mesh seed size</span>
<span class="linenos"> 32</span><span class="sd">    :param str element_type: The model element type. Must be a supported Cubit 4 node element type.</span>
<span class="linenos"> 33</span><span class="sd">    :param str solver: The solver type to use when exporting the mesh</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="sd">    :returns: writes ``output_file``.cub and ``output_file``.inp</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="sd">    :raises RuntimeError: If the solver is not supported</span>
<span class="linenos"> 38</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 39</span>    <span class="n">input_file</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span>
<span class="linenos"> 40</span>    <span class="n">output_file</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span>
<span class="linenos"> 41</span>    <span class="n">abaqus_mesh_file</span> <span class="o">=</span> <span class="n">output_file</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.inp&quot;</span><span class="p">)</span>
<span class="linenos"> 42</span>    <span class="n">sierra_mesh_file</span> <span class="o">=</span> <span class="n">output_file</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.g&quot;</span><span class="p">)</span>
<span class="linenos"> 43</span>
<span class="linenos"> 44</span>    <span class="c1"># Avoid modifying the contents or timestamp on the input file.</span>
<span class="linenos"> 45</span>    <span class="c1"># Required to get conditional re-builds with a build system such as GNU Make, CMake, or SCons</span>
<span class="linenos"> 46</span>    <span class="k">if</span> <span class="n">input_file</span> <span class="o">!=</span> <span class="n">output_file</span><span class="p">:</span>
<span class="linenos"> 47</span>        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">init</span><span class="p">([</span><span class="s2">&quot;cubit&quot;</span><span class="p">,</span> <span class="s2">&quot;-noecho&quot;</span><span class="p">,</span> <span class="s2">&quot;-nojournal&quot;</span><span class="p">,</span> <span class="s2">&quot;-nographics&quot;</span><span class="p">,</span> <span class="s2">&quot;-batch&quot;</span><span class="p">])</span>
<span class="linenos"> 50</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>
<span class="linenos"> 51</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">)</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;open &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;surface 1 size </span><span class="si">{</span><span class="n">global_seed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos"> 56</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;mesh surface 1&quot;</span><span class="p">)</span>
<span class="linenos"> 57</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;set duplicate block elements off&quot;</span><span class="p">)</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 9 add surface 1&quot;</span><span class="p">)</span>
<span class="linenos"> 60</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;nodeset 9 name &#39;NODES&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;block 1 add surface 1&quot;</span><span class="p">)</span>
<span class="linenos"> 63</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;block 1 name &#39;ELEMENTS&#39; Element type </span><span class="si">{</span><span class="n">element_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span>    <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;save as &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; overwrite&quot;</span><span class="p">)</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span>    <span class="k">if</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;abaqus&quot;</span><span class="p">:</span>
<span class="linenos"> 68</span>        <span class="c1"># Export Abaqus orphan mesh for Abaqus workflow</span>
<span class="linenos"> 69</span>        <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;export abaqus &#39;</span><span class="si">{</span><span class="n">abaqus_mesh_file</span><span class="si">}</span><span class="s2">&#39; partial dimension 2 block 1 overwrite everything&quot;</span><span class="p">)</span>
<span class="linenos"> 70</span>    <span class="k">elif</span> <span class="n">solver</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;sierra&quot;</span><span class="p">,</span> <span class="s2">&quot;adagio&quot;</span><span class="p">]:</span>
<span class="linenos"> 71</span>        <span class="c1"># Export Genesis file for Sierra workflow</span>
<span class="linenos"> 72</span>        <span class="n">cubit</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;export mesh &#39;</span><span class="si">{</span><span class="n">sierra_mesh_file</span><span class="si">}</span><span class="s2">&#39; overwrite&quot;</span><span class="p">)</span>
<span class="linenos"> 73</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 74</span>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Uknown solver &#39;</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="k">def</span><span class="w"> </span><span class="nf">get_parser</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">:</span>
<span class="linenos"> 78</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the command-line interface parser.&quot;&quot;&quot;</span>
<span class="linenos"> 79</span>    <span class="n">script_name</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="linenos"> 80</span>    <span class="c1"># Set default parameter values</span>
<span class="linenos"> 81</span>    <span class="n">default_input_file</span> <span class="o">=</span> <span class="n">script_name</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;_partition&quot;</span><span class="p">)</span>
<span class="linenos"> 82</span>    <span class="n">default_output_file</span> <span class="o">=</span> <span class="n">script_name</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.cub&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
<span class="linenos"> 83</span>    <span class="n">default_global_seed</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="linenos"> 84</span>    <span class="n">default_element_type</span> <span class="o">=</span> <span class="s2">&quot;QUAD&quot;</span>
<span class="linenos"> 85</span>    <span class="n">default_solver</span> <span class="o">=</span> <span class="s2">&quot;abaqus&quot;</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span>    <span class="n">prog</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;python </span><span class="si">{</span><span class="n">script_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="linenos"> 88</span>    <span class="n">cli_description</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 89</span>        <span class="s2">&quot;Mesh the simple rectangle geometry partitioned by ``rectangle_partition.py`` &quot;</span>
<span class="linenos"> 90</span>        <span class="s2">&quot;and write an ``output_file``.cub Cubit model file and ``output_file``.inp orphan mesh file.&quot;</span>
<span class="linenos"> 91</span>    <span class="p">)</span>
<span class="linenos"> 92</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">cli_description</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="n">prog</span><span class="p">)</span>
<span class="linenos"> 93</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos"> 94</span>        <span class="s2">&quot;--input-file&quot;</span><span class="p">,</span>
<span class="linenos"> 95</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos"> 96</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_input_file</span><span class="p">,</span>
<span class="linenos"> 97</span>        <span class="n">help</span><span class="o">=</span><span class="p">(</span>
<span class="linenos"> 98</span>            <span class="s2">&quot;The Cubit model file created by ``rectangle_partition.py``. &quot;</span>
<span class="linenos"> 99</span>            <span class="s2">&quot;Will be stripped of the extension and ``.cub`` will be used, e.g. ``input_file``.cub &quot;</span>
<span class="linenos">100</span>            <span class="s2">&quot;(default: </span><span class="si">%(default)s</span><span class="s2">&quot;</span>
<span class="linenos">101</span>        <span class="p">),</span>
<span class="linenos">102</span>    <span class="p">)</span>
<span class="linenos">103</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">104</span>        <span class="s2">&quot;--output-file&quot;</span><span class="p">,</span>
<span class="linenos">105</span>        <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
<span class="linenos">106</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_output_file</span><span class="p">,</span>
<span class="linenos">107</span>        <span class="n">help</span><span class="o">=</span><span class="p">(</span>
<span class="linenos">108</span>            <span class="s2">&quot;The output file for the Cubit model. &quot;</span>
<span class="linenos">109</span>            <span class="s2">&quot;Will be stripped of the extension and ``.cub`` will be used, e.g. ``output_file``.cub&quot;</span>
<span class="linenos">110</span>        <span class="p">),</span>
<span class="linenos">111</span>    <span class="p">)</span>
<span class="linenos">112</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">113</span>        <span class="s2">&quot;--global-seed&quot;</span><span class="p">,</span>
<span class="linenos">114</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
<span class="linenos">115</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_global_seed</span><span class="p">,</span>
<span class="linenos">116</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The global mesh seed size (default: </span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="p">)</span>
<span class="linenos">118</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">119</span>        <span class="s2">&quot;--element-type&quot;</span><span class="p">,</span>
<span class="linenos">120</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
<span class="linenos">121</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_element_type</span><span class="p">,</span>
<span class="linenos">122</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The model element type. Must be a supported Cubit 4 node element type. (default: </span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="p">)</span>
<span class="linenos">124</span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<span class="linenos">125</span>        <span class="s2">&quot;--solver&quot;</span><span class="p">,</span>
<span class="linenos">126</span>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
<span class="linenos">127</span>        <span class="n">default</span><span class="o">=</span><span class="n">default_solver</span><span class="p">,</span>
<span class="linenos">128</span>        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;abaqus&quot;</span><span class="p">,</span> <span class="s2">&quot;sierra&quot;</span><span class="p">,</span> <span class="s2">&quot;adagio&quot;</span><span class="p">],</span>
<span class="linenos">129</span>        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The target solver for the mesh file. (default: </span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">,</span>
<span class="linenos">130</span>    <span class="p">)</span>
<span class="linenos">131</span>
<span class="linenos">132</span>    <span class="k">return</span> <span class="n">parser</span>
<span class="linenos">133</span>
<span class="linenos">134</span>
<span class="linenos">135</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">136</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">get_parser</span><span class="p">()</span>
<span class="linenos">137</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="linenos">138</span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span>
<span class="linenos">139</span>        <span class="n">main</span><span class="p">(</span>
<span class="linenos">140</span>            <span class="n">input_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">input_file</span><span class="p">,</span>
<span class="linenos">141</span>            <span class="n">output_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span>
<span class="linenos">142</span>            <span class="n">global_seed</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">global_seed</span><span class="p">,</span>
<span class="linenos">143</span>            <span class="n">element_type</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">element_type</span><span class="p">,</span>
<span class="linenos">144</span>            <span class="n">solver</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">solver</span><span class="p">,</span>
<span class="linenos">145</span>        <span class="p">)</span>
<span class="linenos">146</span>    <span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="sierra-input-file-s">
<h2>Sierra Input File(s)<a class="headerlink" href="#sierra-input-file-s" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="8">
<li><p>Create or review the Sierra input file from the contents below</p></li>
</ol>
<div class="admonition-waves-tutorials-tutorial-cubit-modsim-package-sierra-rectangle-compression-i admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/modsim_package/sierra/rectangle_compression.i</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="n">begin</span> <span class="n">sierra</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span>  <span class="n">begin</span> <span class="n">function</span> <span class="n">line</span>
<span class="linenos">  4</span>    <span class="nb">type</span> <span class="ow">is</span> <span class="n">analytic</span>
<span class="linenos">  5</span>    <span class="n">evaluate</span> <span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span>
<span class="linenos">  6</span>  <span class="n">end</span> <span class="n">function</span> <span class="n">line</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span>  <span class="n">begin</span> <span class="nb">property</span> <span class="n">specification</span> <span class="k">for</span> <span class="n">material</span> <span class="n">mock</span>
<span class="linenos">  9</span>    <span class="n">density</span> <span class="o">=</span> <span class="mf">0.27000e-08</span>
<span class="linenos"> 10</span>    <span class="n">begin</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">model</span> <span class="n">elastic</span>
<span class="linenos"> 11</span>      <span class="n">youngs</span> <span class="n">modulus</span> <span class="o">=</span> <span class="mi">100</span>
<span class="linenos"> 12</span>      <span class="n">poissons</span> <span class="n">ratio</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="linenos"> 13</span>    <span class="n">end</span>
<span class="linenos"> 14</span>  <span class="n">end</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span>  <span class="n">begin</span> <span class="n">shell</span> <span class="n">section</span> <span class="n">planestress</span>
<span class="linenos"> 17</span>    <span class="n">thickness</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="linenos"> 18</span>  <span class="n">end</span> <span class="n">shell</span> <span class="n">section</span> <span class="n">planestress</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span>  <span class="n">begin</span> <span class="n">finite</span> <span class="n">element</span> <span class="n">model</span> <span class="n">rectangle_compression</span>
<span class="linenos"> 21</span>    <span class="n">database</span> <span class="n">name</span> <span class="o">=</span> <span class="n">rectangle_mesh</span><span class="o">.</span><span class="n">g</span>
<span class="linenos"> 22</span>    <span class="n">database</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">exodusII</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span>    <span class="n">begin</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">block</span> <span class="n">ELEMENTS</span>
<span class="linenos"> 25</span>      <span class="n">material</span> <span class="n">mock</span>
<span class="linenos"> 26</span>      <span class="n">solid</span> <span class="n">mechanics</span> <span class="n">use</span> <span class="n">model</span> <span class="n">elastic</span>
<span class="linenos"> 27</span>      <span class="n">section</span> <span class="o">=</span> <span class="n">planestress</span>
<span class="linenos"> 28</span>    <span class="n">end</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>  <span class="n">end</span> <span class="n">finite</span> <span class="n">element</span> <span class="n">model</span> <span class="n">rectangle_compression</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span>  <span class="n">begin</span> <span class="n">adagio</span> <span class="n">procedure</span> <span class="n">adagio</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span>    <span class="n">begin</span> <span class="n">time</span> <span class="n">control</span>
<span class="linenos"> 35</span>      <span class="n">begin</span> <span class="n">time</span> <span class="n">stepping</span> <span class="n">block</span> <span class="n">p0</span>
<span class="linenos"> 36</span>        <span class="n">start</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 37</span>        <span class="n">begin</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">adagio</span> <span class="n">region</span> <span class="n">adagio</span>
<span class="linenos"> 38</span>            <span class="n">time</span> <span class="n">increment</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="linenos"> 39</span>        <span class="n">end</span>
<span class="linenos"> 40</span>      <span class="n">end</span>
<span class="linenos"> 41</span>      <span class="n">termination</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 42</span>    <span class="n">end</span>
<span class="linenos"> 43</span>
<span class="linenos"> 44</span>    <span class="n">begin</span> <span class="n">adagio</span> <span class="n">region</span> <span class="n">adagio</span>
<span class="linenos"> 45</span>      <span class="n">use</span> <span class="n">finite</span> <span class="n">element</span> <span class="n">model</span> <span class="n">rectangle_compression</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span>      <span class="n">begin</span> <span class="n">results</span> <span class="n">output</span> <span class="n">output_rectangle_compression</span>
<span class="linenos"> 48</span>        <span class="n">database</span> <span class="n">name</span> <span class="o">=</span> <span class="n">rectangle_compression</span><span class="o">.</span><span class="n">e</span>
<span class="linenos"> 49</span>        <span class="n">database</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">exodusII</span>
<span class="linenos"> 50</span>        <span class="n">at</span> <span class="n">time</span> <span class="mi">0</span> <span class="n">interval</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="linenos"> 51</span>        <span class="k">global</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">kinetic_energy</span>
<span class="linenos"> 52</span>        <span class="k">global</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">internal_energy</span>
<span class="linenos"> 53</span>        <span class="k">global</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">external_energy</span>
<span class="linenos"> 54</span>        <span class="k">global</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">von_mises_max</span>
<span class="linenos"> 55</span>        <span class="k">global</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">effective_strain_max</span>
<span class="linenos"> 56</span>        <span class="n">nodal</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">displacement</span>
<span class="linenos"> 57</span>        <span class="n">nodal</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">force_external</span>
<span class="linenos"> 58</span>        <span class="n">nodal</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">force_internal</span>
<span class="linenos"> 59</span>        <span class="n">element</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">strain</span>
<span class="linenos"> 60</span>        <span class="n">element</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">unrotated_stress</span>
<span class="linenos"> 61</span>        <span class="n">element</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">effective_strain</span>
<span class="linenos"> 62</span>        <span class="n">element</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">von_mises</span>
<span class="linenos"> 63</span>      <span class="n">end</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span>      <span class="n">begin</span> <span class="n">user</span> <span class="n">output</span>
<span class="linenos"> 66</span>        <span class="n">include</span> <span class="nb">all</span> <span class="n">blocks</span>
<span class="linenos"> 67</span>        <span class="n">compute</span> <span class="k">global</span> <span class="n">von_mises_max</span> <span class="k">as</span> <span class="nb">max</span> <span class="n">absolute</span> <span class="n">value</span> <span class="n">of</span> <span class="n">element</span> <span class="n">von_mises</span>
<span class="linenos"> 68</span>        <span class="n">compute</span> <span class="k">global</span> <span class="n">effective_strain_max</span> <span class="k">as</span> <span class="nb">max</span> <span class="n">absolute</span> <span class="n">value</span> <span class="n">of</span> <span class="n">element</span> <span class="n">effective_strain</span>
<span class="linenos"> 69</span>      <span class="n">end</span> <span class="n">user</span> <span class="n">output</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">displacement</span>
<span class="linenos"> 72</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom_left</span>
<span class="linenos"> 73</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">x</span>
<span class="linenos"> 74</span>      <span class="n">end</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">displacement</span>
<span class="linenos"> 77</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom_left</span>
<span class="linenos"> 78</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 79</span>      <span class="n">end</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">rotation</span>
<span class="linenos"> 82</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom_left</span>
<span class="linenos"> 83</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">x</span>
<span class="linenos"> 84</span>      <span class="n">end</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">rotation</span>
<span class="linenos"> 87</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom_left</span>
<span class="linenos"> 88</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 89</span>      <span class="n">end</span>
<span class="linenos"> 90</span>
<span class="linenos"> 91</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">rotation</span>
<span class="linenos"> 92</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom_left</span>
<span class="linenos"> 93</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">z</span>
<span class="linenos"> 94</span>      <span class="n">end</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span>      <span class="n">begin</span> <span class="n">fixed</span> <span class="n">displacement</span>
<span class="linenos"> 97</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">bottom</span>
<span class="linenos"> 98</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 99</span>      <span class="n">end</span>
<span class="linenos">100</span>
<span class="linenos">101</span>      <span class="n">begin</span> <span class="n">prescribed</span> <span class="n">displacement</span>
<span class="linenos">102</span>        <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">top</span>
<span class="linenos">103</span>        <span class="n">component</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos">104</span>        <span class="n">function</span> <span class="o">=</span> <span class="n">line</span>
<span class="linenos">105</span>        <span class="n">scale</span> <span class="n">factor</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.01</span>
<span class="linenos">106</span>      <span class="n">end</span>
<span class="linenos">107</span>
<span class="linenos">108</span>      <span class="c1">## TODO: Do we need to add traction BC for plane stress? Is there a plane stress element?</span>
<span class="linenos">109</span>
<span class="linenos">110</span>      <span class="n">begin</span> <span class="n">solver</span>
<span class="linenos">111</span>        <span class="n">begin</span> <span class="n">cg</span>
<span class="linenos">112</span>          <span class="n">reference</span> <span class="o">=</span> <span class="n">external</span>
<span class="linenos">113</span>          <span class="n">target</span> <span class="n">relative</span> <span class="n">residual</span> <span class="o">=</span> <span class="mf">1e-10</span>
<span class="linenos">114</span>          <span class="n">begin</span> <span class="n">full</span> <span class="n">tangent</span> <span class="n">preconditioner</span>
<span class="linenos">115</span>            <span class="n">iteration</span> <span class="n">update</span> <span class="o">=</span> <span class="mi">10</span>
<span class="linenos">116</span>          <span class="n">end</span> <span class="n">full</span> <span class="n">tangent</span> <span class="n">preconditioner</span>
<span class="linenos">117</span>        <span class="n">end</span> <span class="n">cg</span>
<span class="linenos">118</span>      <span class="n">end</span> <span class="n">solver</span>
<span class="linenos">119</span>
<span class="linenos">120</span>    <span class="n">end</span> <span class="n">adagio</span> <span class="n">region</span> <span class="n">adagio</span>
<span class="linenos">121</span>
<span class="linenos">122</span>  <span class="n">end</span> <span class="n">adagio</span> <span class="n">procedure</span> <span class="n">adagio</span>
<span class="linenos">123</span>
<span class="linenos">124</span><span class="n">end</span> <span class="n">sierra</span>
</pre></div>
</div>
</div>
</section>
<section id="sconstruct">
<h2>SConstruct<a class="headerlink" href="#sconstruct" title="Link to this heading">#</a></h2>
<p>Note that Sierra requires a separate construction environment from the launching Conda environment. This is because
Sierra ships with a version of Python that conflicts with the launching Conda environment. You may need to update the
Sierra activation shell command according to the instructions on your local system.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">diff</span></code> against the <code class="docutils literal notranslate"><span class="pre">SConstruct</span></code> file from <a class="reference internal" href="tutorial_04_simulation.html#tutorial-simulation"><span class="std std-ref">Tutorial 04: Simulation</span></a> is included below to help identify the
changes made in this tutorial.</p>
<div class="admonition-waves-tutorials-tutorial-cubit-sconstruct admonition">
<p class="admonition-title">waves-tutorials/tutorial_cubit/SConstruct</p>
<div class="highlight-udiff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- /home/runner/work/waves/waves/build/docs/tutorials_tutorial_04_simulation_SConstruct</span>
<span class="gi">+++ /home/runner/work/waves/waves/build/docs/tutorial_cubit_SConstruct</span>
<span class="gu">@@ -1,8 +1,11 @@</span>
<span class="w"> </span>#! /usr/bin/env python
<span class="gd">-&quot;&quot;&quot;Configure the WAVES simulation tutorial.&quot;&quot;&quot;</span>
<span class="gi">+&quot;&quot;&quot;Configure the WAVES Cubit+Abaqus/Fierro/Sierra tutorial.&quot;&quot;&quot;</span>
<span class="w"> </span>
<span class="w"> </span>import os
<span class="w"> </span>import pathlib
<span class="gi">+import subprocess</span>
<span class="gi">+import sys</span>
<span class="gi">+import typing</span>
<span class="w"> </span>
<span class="w"> </span>import waves
<span class="w"> </span>
<span class="gu">@@ -49,6 +52,20 @@</span>
<span class="w"> </span>    metavar=&quot;COMMAND&quot;,
<span class="w"> </span>    help=f&quot;Override for the Abaqus command. Repeat to specify more than one (default: {default_abaqus_commands})&quot;,
<span class="w"> </span>)
<span class="gi">+default_cubit_commands = [</span>
<span class="gi">+    &quot;/apps/Cubit-16.12/cubit&quot;,</span>
<span class="gi">+    &quot;/usr/projects/ea/Cubit/Cubit-16.12/cubit&quot;,</span>
<span class="gi">+    &quot;cubit&quot;,</span>
<span class="gi">+]</span>
<span class="gi">+AddOption(</span>
<span class="gi">+    &quot;--cubit-command&quot;,</span>
<span class="gi">+    dest=&quot;cubit_command&quot;,</span>
<span class="gi">+    nargs=1,</span>
<span class="gi">+    type=&quot;string&quot;,</span>
<span class="gi">+    action=&quot;append&quot;,</span>
<span class="gi">+    metavar=&quot;COMMAND&quot;,</span>
<span class="gi">+    help=f&quot;Override for the Cubit command. Repeat to specify more than one (default: {default_cubit_commands})&quot;,</span>
<span class="gi">+)</span>
<span class="w"> </span>
<span class="w"> </span># Comments used in tutorial code snippets: marker-2
<span class="w"> </span>
<span class="gu">@@ -59,6 +76,7 @@</span>
<span class="w"> </span>    unconditional_build=GetOption(&quot;unconditional_build&quot;),
<span class="w"> </span>    print_build_failures=GetOption(&quot;print_build_failures&quot;),
<span class="w"> </span>    abaqus_commands=GetOption(&quot;abaqus_command&quot;),
<span class="gi">+    cubit_commands=GetOption(&quot;cubit_command&quot;),</span>
<span class="w"> </span>)
<span class="w"> </span>
<span class="w"> </span># Conditionally print failed task *.stdout files
<span class="gu">@@ -70,6 +88,30 @@</span>
<span class="w"> </span>env[&quot;ABAQUS_PROGRAM&quot;] = env.AddProgram(
<span class="w"> </span>    env[&quot;abaqus_commands&quot;] if env[&quot;abaqus_commands&quot;] is not None else default_abaqus_commands
<span class="w"> </span>)
<span class="gi">+env[&quot;CUBIT_PROGRAM&quot;] = env.AddCubit(</span>
<span class="gi">+    env[&quot;cubit_commands&quot;] if env[&quot;cubit_commands&quot;] is not None else default_cubit_commands</span>
<span class="gi">+)</span>
<span class="gi">+env[&quot;FIERRO_IMPLICIT_PROGRAM&quot;] = env.AddProgram([&quot;fierro-parallel-implicit&quot;])</span>
<span class="gi">+</span>
<span class="gi">+</span>
<span class="gi">+# Sierra requires a separate construction environment</span>
<span class="gi">+def return_modulepath(modules: typing.Iterable[str]) -&gt; pathlib.Path:</span>
<span class="gi">+    &quot;&quot;&quot;Return parent path of first found module or the current working directory.&quot;&quot;&quot;</span>
<span class="gi">+    return next((pathlib.Path(path).parent for path in modules if pathlib.Path(path).exists()), pathlib.Path())</span>
<span class="gi">+</span>
<span class="gi">+</span>
<span class="gi">+sierra_modules = [</span>
<span class="gi">+    &quot;/projects/aea_compute/modulefiles/sierra/5.21.6&quot;,</span>
<span class="gi">+]</span>
<span class="gi">+sierra_modulefile_parent = return_modulepath(sierra_modules)</span>
<span class="gi">+try:</span>
<span class="gi">+    env_sierra = waves.scons_extensions.shell_environment(</span>
<span class="gi">+        f&quot;module use {sierra_modulefile_parent} &amp;&amp; module load sierra&quot;</span>
<span class="gi">+    )</span>
<span class="gi">+except subprocess.CalledProcessError:</span>
<span class="gi">+    print(&quot;Failed to initialize the Sierra environment&quot;, file=sys.stderr)</span>
<span class="gi">+    env_sierra = Environment()</span>
<span class="gi">+env_sierra[&quot;sierra&quot;] = waves.scons_extensions.add_program(env_sierra, [&quot;sierra&quot;])</span>
<span class="w"> </span>
<span class="w"> </span># Comments used in tutorial code snippets: marker-4
<span class="w"> </span>
<span class="gu">@@ -85,26 +127,33 @@</span>
<span class="w"> </span>for key, value in project_variables.items():
<span class="w"> </span>    env[key] = value
<span class="w"> </span>
<span class="gd">-# Make the project package importable for Python and Abaqus Python environments</span>
<span class="gd">-env.PrependENVPath(&quot;PYTHONPATH&quot;, project_dir)</span>
<span class="gd">-</span>
<span class="w"> </span># Comments used in tutorial code snippets: marker-5
<span class="w"> </span>
<span class="w"> </span># Add builders and pseudo-builders
<span class="w"> </span>env.Append(BUILDERS={})
<span class="w"> </span>
<span class="gi">+env_sierra.Append(</span>
<span class="gi">+    BUILDERS={</span>
<span class="gi">+        &quot;Sierra&quot;: waves.scons_extensions.sierra_builder_factory(program=env_sierra[&quot;sierra&quot;]),</span>
<span class="gi">+    }</span>
<span class="gi">+)</span>
<span class="gi">+</span>
<span class="w"> </span># Comments used in tutorial code snippets: marker-6
<span class="w"> </span>
<span class="w"> </span># Add simulation targets
<span class="w"> </span>workflow_configurations = [
<span class="gd">-    &quot;tutorial_01_geometry.scons&quot;,</span>
<span class="gd">-    &quot;tutorial_02_partition_mesh.scons&quot;,</span>
<span class="gd">-    &quot;tutorial_03_solverprep.scons&quot;,</span>
<span class="gd">-    &quot;tutorial_04_simulation.scons&quot;,</span>
<span class="gi">+    &quot;abaqus.scons&quot;,</span>
<span class="gi">+    &quot;sierra.scons&quot;,</span>
<span class="gi">+    &quot;fierro.scons&quot;,</span>
<span class="w"> </span>]
<span class="w"> </span>for workflow in workflow_configurations:
<span class="w"> </span>    build_dir = env[&quot;variant_dir_base&quot;] / pathlib.Path(workflow).stem
<span class="gd">-    SConscript(workflow, variant_dir=build_dir, exports={&quot;env&quot;: env}, duplicate=False)</span>
<span class="gi">+    SConscript(</span>
<span class="gi">+        workflow,</span>
<span class="gi">+        variant_dir=build_dir,</span>
<span class="gi">+        exports={&quot;env&quot;: env, &quot;env_sierra&quot;: env_sierra},</span>
<span class="gi">+        duplicate=False,</span>
<span class="gi">+    )</span>
<span class="w"> </span>
<span class="w"> </span># Comments used in tutorial code snippets: marker-7
<span class="w"> </span>
</pre></div>
</div>
</div>
<p>Note that the Cubit Python files don’t perform any imports from the current modsim project package, so the
<code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> modification is no longer required. This tutorial is created in a new, stand-alone subdirectory, so the
previous tutorial workflow configurations are no longer available. Only the <code class="docutils literal notranslate"><span class="pre">sierra</span></code> and <code class="docutils literal notranslate"><span class="pre">abaqus</span></code> workflow
configurations will be found by SCons at execution time. Finally, note that the <code class="docutils literal notranslate"><span class="pre">cubit</span></code> SConscript file is not called
by the <code class="docutils literal notranslate"><span class="pre">SConstruct</span></code> file. Instead, the <code class="docutils literal notranslate"><span class="pre">cubit</span></code> configuration is reused by the <code class="docutils literal notranslate"><span class="pre">sierra</span></code> and <code class="docutils literal notranslate"><span class="pre">abaqus</span></code> workflows,
so the Cubit tasks only need to be defined once. To handle this task reuse some additional variable import and export
statements are required by the <code class="docutils literal notranslate"><span class="pre">cubit</span></code> configuration file.</p>
</section>
<section id="build-targets">
<h2>Build Targets<a class="headerlink" href="#build-targets" title="Link to this heading">#</a></h2>
<ol class="arabic simple" start="9">
<li><p>Build the new targets</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/path/to/waves-tutorials/tutorial_cubit
$<span class="w"> </span>scons<span class="w"> </span>sierra
scons:<span class="w"> </span>Reading<span class="w"> </span>SConscript<span class="w"> </span>files<span class="w"> </span>...
Checking<span class="w"> </span>whether<span class="w"> </span>/apps/abaqus/Commands/abq2024<span class="w"> </span>program<span class="w"> </span>exists.../apps/abaqus/Commands/abq2024
Checking<span class="w"> </span>whether<span class="w"> </span>abq2024<span class="w"> </span>program<span class="w"> </span>exists...no
Checking<span class="w"> </span>whether<span class="w"> </span>/apps/Cubit-16.12/cubit<span class="w"> </span>program<span class="w"> </span>exists.../apps/Cubit-16.12/cubit
Checking<span class="w"> </span>whether<span class="w"> </span>cubit<span class="w"> </span>program<span class="w"> </span>exists...no
Checking<span class="w"> </span>whether<span class="w"> </span>sierra<span class="w"> </span>program<span class="w"> </span>exists.../projects/sierra/sierra5121/install/tools/sntools/engine/sierra
scons:<span class="w"> </span><span class="k">done</span><span class="w"> </span>reading<span class="w"> </span>SConscript<span class="w"> </span>files.
scons:<span class="w"> </span>Building<span class="w"> </span>targets<span class="w"> </span>...
Copy<span class="o">(</span><span class="s2">&quot;build/sierra/rectangle_compression.i&quot;</span>,<span class="w"> </span><span class="s2">&quot;modsim_package/sierra/rectangle_compression.i&quot;</span><span class="o">)</span>
<span class="nb">cd</span><span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/build/sierra<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python<span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_geometry.py<span class="w"> </span>&gt;<span class="w"> </span>rectangle_geometry.stdout<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="nb">cd</span><span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/build/sierra<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python<span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_partition.py<span class="w"> </span>&gt;<span class="w"> </span>rectangle_partition.stdout<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="nb">cd</span><span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/build/sierra<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python<span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/modsim_package/cubit/rectangle_mesh.py<span class="w"> </span>--element-type<span class="w"> </span>SHELL<span class="w"> </span>--solver<span class="w"> </span>sierra<span class="w"> </span>&gt;<span class="w"> </span>rectangle_mesh.stdout<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="nb">cd</span><span class="w"> </span>/home/roppenheimer/waves-tutorials/tutorial_cubit/build/sierra<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>/projects/sierra/sierra5121/install/tools/sntools/engine/sierra<span class="w"> </span>adagio<span class="w"> </span>-i<span class="w"> </span>rectangle_compression.i<span class="w"> </span>&gt;<span class="w"> </span>rectangle_compression.stdout<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
scons:<span class="w"> </span><span class="k">done</span><span class="w"> </span>building<span class="w"> </span>targets.
</pre></div>
</div>
</section>
<section id="output-files">
<h2>Output Files<a class="headerlink" href="#output-files" title="Link to this heading">#</a></h2>
<p>Explore the contents of the <code class="docutils literal notranslate"><span class="pre">build</span></code> directory using the <code class="docutils literal notranslate"><span class="pre">tree</span></code> command against the <code class="docutils literal notranslate"><span class="pre">build/abaqus</span></code> directory, as shown
below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">pwd</span>
/home/roppenheimer/waves-tutorials/tutorial_cubit
$<span class="w"> </span>tree<span class="w"> </span>build/sierra/
build/sierra/
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.e
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.i
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.log
<span class="p">|</span>--<span class="w"> </span>rectangle_compression.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_geometry.cub
<span class="p">|</span>--<span class="w"> </span>rectangle_geometry.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.cub
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.g
<span class="p">|</span>--<span class="w"> </span>rectangle_mesh.stdout
<span class="p">|</span>--<span class="w"> </span>rectangle_partition.cub
<span class="sb">`</span>--<span class="w"> </span>rectangle_partition.stdout

<span class="m">0</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">11</span><span class="w"> </span>files
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorial_cubit_abaqus.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tutorial: Cubit+Abaqus</p>
      </div>
    </a>
    <a class="right-next"
       href="tutorial_cubit_fierro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tutorial: Cubit+Fierro</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="simple visible nav section-nav flex-column">
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-structure">Directory Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconscript">SConscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cubit-journal-files">Cubit Journal Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sierra-input-file-s">Sierra Input File(s)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sconstruct">SConstruct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-targets">Build Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#output-files">Output Files</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kyle Brindley, Prabhu S. Khalsa, Thomas Roberts, Sergio Cordova, Matthew Fister, Chris Johnson, and Scott Ouellette
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022-2025 Triad National Security, LLC. All Rights Reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Oct 10, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>