{"version":3,"file":"project-D_Nx9Gzm.js","sources":["../../src/api/project.ts"],"sourcesContent":["import type { AxiosResponse } from 'axios'\nimport { request } from '@/utils/request'\nimport type { IResponse, IListResp } from '@/types/response'\nimport type { Project, CreateProjectParams, UpdateProjectParams, ProjectListParams } from '@/types/project'\n\nconst api = {\n  list: '/projects/list',\n  create: '/projects/create',\n  updateName: '/projects/update_name',\n  delete: '/projects/delete',\n  restore: '/projects/restore',\n  pin: '/projects/pin',\n  unpin: '/projects/unpin',\n  update_image_type: '/projects/update_image_type',\n  add_member: '/projects/add_user',\n  remove_member: '/projects/remove_user',\n  get_members: '/projects/get_users',\n  sampleCount: '/projects/sample_count',\n  update_timestamp: '/projects/update_timestamp'  // 更新项目的最后访问时间\n}\n\nexport function getProjects(params: ProjectListParams) {\n  return request.get<IResponse<IListResp<Project>>>(api.list, { params })\n}\n\nexport function createProject(data: CreateProjectParams) {\n  return request.post<IResponse<Project>>(api.create, data)\n}\n\nexport interface UpdateNameParams {\n  project_id: number\n  name: string\n}\n\nexport function updateName(data: UpdateNameParams) {\n  return request.patch<IResponse<Project>>(api.updateName, data)\n}\n\nexport function updateProject(id: number, data: UpdateProjectParams) {\n  return request.put<IResponse<Project>>(api.update(id), data)\n}\n\nexport interface DeleteProjectParams {\n  project_id: number\n  is_recycle: number\n}\n\nexport function deleteProject(data: DeleteProjectParams) {\n  return request.post<IResponse<null>>(api.delete, data)\n}\n\nexport interface RestoreProjectParams {\n  project_id: number\n}\n\nexport function restoreProject(data: RestoreProjectParams) {\n  return request.post<IResponse<null>>(api.restore, data)\n}\n\nexport interface PinProjectParams {\n  project_id: number\n}\n\nexport function pinProject(data: PinProjectParams) {\n  return request.post<IResponse<null>>(api.pin, data)\n}\n\nexport interface UnpinProjectParams {\n  project_id: number\n}\n\nexport function unpinProject(data: UnpinProjectParams) {\n  return request.post<IResponse<null>>(api.unpin, data)\n}\n\nexport interface UpdateImageTypeParams {\n  project_id: number\n  image_type: number\n}\n\nexport function updateImageType(data: UpdateImageTypeParams) {\n  return request.post<IResponse<null>>(api.update_image_type, data)\n}\n\n/**\n * 添加项目成员\n * @param data 添加成员参数\n * @returns 添加结果\n */\nexport interface AddMemberParams {\n  project_id: number\n  user_id: number\n}\n\nexport function addProjectMember(data: AddMemberParams) {\n  return request.post<IResponse<null>>(api.add_member, data)\n}\n\n/**\n * 移除项目成员\n * @param data 移除成员参数\n * @returns 移除结果\n */\nexport interface RemoveMemberParams {\n  project_id: number\n  user_id: number\n}\n\nexport function removeProjectMember(data: RemoveMemberParams) {\n  return request.post<IResponse<null>>(api.remove_member, data)\n}\n\n/**\n * 获取项目成员列表\n * @param projectId 项目 ID\n * @returns 项目成员列表\n */\nexport interface ProjectMember {\n  user_id: number\n  username: string\n  permission: number\n}\n\nexport interface ProjectMembersResponse {\n  total: number\n  users: ProjectMember[]\n}\n\nexport function getProjectMembers(projectId: number) {\n  return request.get<IResponse<ProjectMembersResponse>>(api.get_members, { \n    params: { project_id: projectId }\n  })\n}\n\n/**\n * 获取项目样本数量\n * @param projectId 项目 ID\n * @returns 样本数量\n */\n\nexport interface SampleCount {\n  project_id: number\n}\n\nexport interface SampleCountResponse {\n  sample_count: number\n  project_id: number\n}\n\nexport function getSampleCount(data: SampleCount) {\n  return request.get<IResponse<SampleCountResponse>>(api.sampleCount, {\n    params: data\n  })\n}\n\n/**\n * 更新项目最后访问时间\n * @param data 更新时间参数\n * @returns 更新结果\n */\nexport interface UpdateTimestampParams {\n  project_id: number\n}\n\nexport function updateTimestamp(data: UpdateTimestampParams) {\n  return request.post<IResponse<null>>(api.update_timestamp, data)\n}\n"],"names":["api","getProjects","params","request","createProject","data","updateName","deleteProject","restoreProject","pinProject","unpinProject","addProjectMember","removeProjectMember","getProjectMembers","projectId","getSampleCount","updateTimestamp"],"mappings":"yCAKA,MAAMA,EAAM,CACV,KAAM,iBACN,OAAQ,mBACR,WAAY,wBACZ,OAAQ,mBACR,QAAS,oBACT,IAAK,gBACL,MAAO,kBAEP,WAAY,qBACZ,cAAe,wBACf,YAAa,sBACb,YAAa,yBACb,iBAAkB,4BACpB,EAEO,SAASC,EAAYC,EAA2B,CACrD,OAAOC,EAAQ,IAAmCH,EAAI,KAAM,CAAE,OAAAE,EAAQ,CACxE,CAEO,SAASE,EAAcC,EAA2B,CACvD,OAAOF,EAAQ,KAAyBH,EAAI,OAAQK,CAAI,CAC1D,CAOO,SAASC,EAAWD,EAAwB,CACjD,OAAOF,EAAQ,MAA0BH,EAAI,WAAYK,CAAI,CAC/D,CAWO,SAASE,EAAcF,EAA2B,CACvD,OAAOF,EAAQ,KAAsBH,EAAI,OAAQK,CAAI,CACvD,CAMO,SAASG,EAAeH,EAA4B,CACzD,OAAOF,EAAQ,KAAsBH,EAAI,QAASK,CAAI,CACxD,CAMO,SAASI,EAAWJ,EAAwB,CACjD,OAAOF,EAAQ,KAAsBH,EAAI,IAAKK,CAAI,CACpD,CAMO,SAASK,EAAaL,EAA0B,CACrD,OAAOF,EAAQ,KAAsBH,EAAI,MAAOK,CAAI,CACtD,CAqBO,SAASM,EAAiBN,EAAuB,CACtD,OAAOF,EAAQ,KAAsBH,EAAI,WAAYK,CAAI,CAC3D,CAYO,SAASO,EAAoBP,EAA0B,CAC5D,OAAOF,EAAQ,KAAsBH,EAAI,cAAeK,CAAI,CAC9D,CAkBO,SAASQ,EAAkBC,EAAmB,CAC5C,OAAAX,EAAQ,IAAuCH,EAAI,YAAa,CACrE,OAAQ,CAAE,WAAYc,CAAU,CAAA,CACjC,CACH,CAiBO,SAASC,EAAeV,EAAmB,CACzC,OAAAF,EAAQ,IAAoCH,EAAI,YAAa,CAClE,OAAQK,CAAA,CACT,CACH,CAWO,SAASW,EAAgBX,EAA6B,CAC3D,OAAOF,EAAQ,KAAsBH,EAAI,iBAAkBK,CAAI,CACjE"}