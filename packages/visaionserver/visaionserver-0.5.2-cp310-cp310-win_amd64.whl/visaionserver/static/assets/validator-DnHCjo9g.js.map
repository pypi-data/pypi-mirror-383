{"version":3,"file":"validator-DnHCjo9g.js","sources":["../../src/utils/validator.ts"],"sourcesContent":["import { ElMessage } from 'element-plus';\n\n/**\n * 验证名称\n * @param value 名称\n * @param setValueFn 设置值的回调函数（用于清理不合法字符）\n * @param options 验证选项\n * @returns 是否通过验证\n */\nexport const validateName = (\n  value: string, \n  setValueFn?: (value: string) => void,\n  options = {\n    minLength: 2,\n    maxLength: 100,\n    showMessage: true\n  }\n) => {\n  // 如果为空，直接返回\n  if (!value.trim()) {\n    if (options.showMessage) {\n      ElMessage.warning('名称不能为空');\n    }\n    return false;\n  }\n  \n  // 长度验证\n  if (value.length < options.minLength || value.length > options.maxLength) {\n    if (options.showMessage) {\n      ElMessage.warning(`名称长度应为 ${options.minLength}-${options.maxLength} 个字符`);\n    }\n    return false;\n  }\n  \n  // 特殊字符验证：仅允许中文、英文、数字、下划线、横杠和空格\n  const regex = /^[\\u4e00-\\u9fa5a-zA-Z0-9_\\- ]+$/;\n  if (!regex.test(value)) {\n    // 过滤掉不符合规则的字符\n    const sanitized = value.replace(/[^\\u4e00-\\u9fa5a-zA-Z0-9_\\- ]/g, '');\n    \n    // 如果提供了设置值的回调函数，则调用\n    if (setValueFn && sanitized !== value) {\n      setValueFn(sanitized);\n      \n      if (options.showMessage) {\n        ElMessage.warning('名称只能包含中文、英文、数字、下划线、横杠');\n      }\n    }\n    return false;\n  }\n  if (value.includes(' ')){\n    ElMessage.warning('名称不能有空格');\n    return false\n  }\n  return true;\n};\n\n/**\n * 验证密码确认\n * @param value 确认密码值\n * @param password 原密码值\n * @param callback 回调函数\n */\nexport const validateConfirmPassword = (value: string, password: string, callback: Function) => {\n  if (value === '') {\n    callback(new Error('请再次输入密码'));\n  } else if (value !== password) {\n    callback(new Error('两次输入的密码不一致'));\n  } else {\n    callback();\n  }\n}; "],"names":["validateName","value","setValueFn","options","ElMessage","sanitized","validateConfirmPassword","password","callback"],"mappings":"wCASO,MAAMA,EAAe,CAC1BC,EACAC,EACAC,EAAU,CACR,UAAW,EACX,UAAW,IACX,YAAa,EACf,IACG,CAEC,GAAA,CAACF,EAAM,OACT,OAAIE,EAAQ,aACVC,EAAU,QAAQ,QAAQ,EAErB,GAIT,GAAIH,EAAM,OAASE,EAAQ,WAAaF,EAAM,OAASE,EAAQ,UAC7D,OAAIA,EAAQ,aACVC,EAAU,QAAQ,UAAUD,EAAQ,SAAS,IAAIA,EAAQ,SAAS,MAAM,EAEnE,GAKT,GAAI,CADU,kCACH,KAAKF,CAAK,EAAG,CAEtB,MAAMI,EAAYJ,EAAM,QAAQ,iCAAkC,EAAE,EAGhE,OAAAC,GAAcG,IAAcJ,IAC9BC,EAAWG,CAAS,EAEhBF,EAAQ,aACVC,EAAU,QAAQ,uBAAuB,GAGtC,EAAA,CAEL,OAAAH,EAAM,SAAS,GAAG,GACpBG,EAAU,QAAQ,SAAS,EACpB,IAEF,EACT,EAQaE,EAA0B,CAACL,EAAeM,EAAkBC,IAAuB,CAC1FP,IAAU,GACHO,EAAA,IAAI,MAAM,SAAS,CAAC,EACpBP,IAAUM,EACVC,EAAA,IAAI,MAAM,YAAY,CAAC,EAEvBA,EAAA,CAEb"}