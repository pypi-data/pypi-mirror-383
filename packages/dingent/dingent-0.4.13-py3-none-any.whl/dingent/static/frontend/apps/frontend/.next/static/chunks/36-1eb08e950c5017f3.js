(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{62036:(e,t,a)=>{"use strict";a.d(t,{D:()=>B,Providers:()=>Q});var r=a(95155),n=a(12115);a(75356),a(35695);var s=a(76428),i=a(18524),l=a(83170),d=a(61492),o=a(48986),c=a(88775),u=a(93290),g=a(69038),h=a(43066),m=a(58970),x=a(47023),v=a(24976);s.A,i.A,l.A,d.A,d.A,o.A,c.A,o.A,u.A,g.A,h.A,m.A,x.A,v.A,a(91361);var p=a(31860),b=a(73253),f=a(7805),w=a(68025);function j(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,w.QP)((0,f.$)(t))}let y=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function N(e){let{className:t,variant:a,size:n,asChild:s=!1,...i}=e,l=s?p.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:j(y({variant:a,size:n,className:t})),...i})}a(6874);var k=a(44709);let S=(a(40459).env.NEXT_PUBLIC_BACKEND_URL||"")+"/api/v1";function C(e){let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:j("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function z(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:j("bg-accent animate-pulse rounded-md",t),...a})}function A(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:j("w-full caption-bottom text-sm",t),...a})})}function I(e){let{className:t,...a}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:j("[&_tr]:border-b",t),...a})}function P(e){let{className:t,...a}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:j("[&_tr:last-child]:border-0",t),...a})}function _(e){let{className:t,...a}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:j("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function D(e){let{className:t,...a}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:j("text-foreground h-10 px-2 text-start align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pe-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function T(e){let{className:t,...a}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:j("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pe-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}k.A.create({baseURL:S,timeout:12e4}).interceptors.request.use(e=>{let t=localStorage.getItem("DASHBOARD_TOKEN");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),a(47650),a(96798),a(95041),a(66911),a(61030),(0,b.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-start text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pe-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),(0,b.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}}),(0,b.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),a(25041),a(93224);var E=a(46491);function M(e){let{children:t,className:a="",title:n}=e;return(0,r.jsxs)("div",{className:["w-full max-w-7xl","rounded-xl border border-zinc-200/80 dark:border-zinc-800/80","bg-white/70 dark:bg-zinc-900/60 backdrop-blur","shadow-sm hover:shadow-md transition-shadow",a].join(" "),children:[n?(0,r.jsx)("div",{className:"px-4 py-3 border-b border-zinc-200/70 dark:border-zinc-800/70",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-zinc-800 dark:text-zinc-200",children:n})}):null,(0,r.jsx)("div",{className:"p-4 md:p-6",children:t})]})}var R=a(25131),F=a(87321);function L(e){let{sorted:t}=e;return t?(0,r.jsx)("span",{className:"ml-1",children:"asc"===t?(0,r.jsx)("span",{"aria-label":"Ascending",className:"text-primary",children:"▲"}):(0,r.jsx)("span",{"aria-label":"Descending",className:"text-primary",children:"▼"})}):(0,r.jsx)("span",{className:"ml-1 text-muted-foreground opacity-40",children:"↕"})}function K(e){let{row:t}=e;return(0,r.jsxs)("div",{className:"p-4 bg-muted/40 rounded-md animate-in fade-in",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-3 text-muted-foreground",children:"Details"}),(0,r.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:t.getVisibleCells().map(e=>{let t=e.column.columnDef.header,a="function"==typeof t?e.column.id:String(null!=t?t:"");return(0,r.jsxs)("div",{className:"flex flex-col rounded border bg-background/60 p-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-muted-foreground truncate mb-1",children:a}),(0,r.jsx)("div",{className:"text-sm break-all",children:(0,R.Kv)(e.column.columnDef.cell,e.getContext())})]},"".concat(e.id,"-expanded"))})})]})}function V(e){let{table:t}=e,a=t.getState().pagination.pageIndex,n=t.getPageCount()||1;return(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-3 py-4",children:[(0,r.jsxs)("div",{className:"flex-1 text-xs sm:text-sm text-muted-foreground",children:["Page ",a+1," of ",n," (",t.getFilteredRowModel().rows.length," rows total)"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(N,{variant:"outline",size:"sm",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:"First"}),(0,r.jsx)(N,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),(0,r.jsx)(N,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"}),(0,r.jsx)(N,{variant:"outline",size:"sm",onClick:()=>t.setPageIndex(n-1),disabled:!t.getCanNextPage(),children:"Last"})]})]})}function W(e){var t;let{columns:a,data:s,isLoading:i=!1,filterColumnId:l,title:d,pageSize:o=8,enableExpand:c=!0,enableZebra:u=!0,tableContainerClassName:g="",enableHorizontalScroll:h=!0,columnWidth:m=140,columnWidths:x,rowHeight:v=44}=e,[p,b]=(0,n.useState)([]),[f,w]=(0,n.useState)([]),[j,y]=(0,n.useState)({}),k=l&&(null==(t=f.find(e=>e.id===l))?void 0:t.value)||"",S=(0,n.useDeferredValue)(k);n.useEffect(()=>{l&&w(e=>{let t=e.filter(e=>e.id!==l);return S?[...t,{id:l,value:S}]:t})},[S,l]);let E=(0,R.N4)({data:s,columns:a,getRowId:(e,t)=>"row_".concat(t),getCoreRowModel:(0,F.HT)(),getPaginationRowModel:(0,F.kW)(),getSortedRowModel:(0,F.h5)(),getFilteredRowModel:(0,F.hM)(),getExpandedRowModel:(0,F.D0)(),onSortingChange:b,onColumnFiltersChange:w,onExpandedChange:y,initialState:{pagination:{pageSize:o}},state:{sorting:p,columnFilters:f,expanded:j}}),M=(0,n.useCallback)(e=>{let t=e.target.value;l&&w(e=>{let a=e.filter(e=>e.id!==l);return t?[...a,{id:l,value:t}]:a})},[l]),W=E.getState().pagination.pageSize||o,O=e=>{c&&y(j[e.id]?{}:{[e.id]:!0})},H=E.getRowModel().rows,{pageSize:J}=E.getState().pagination,U=E.getRowModel().rows,q=U.length<J?J-U.length:0,B=e=>x&&x[e]||m;return(0,r.jsxs)("div",{className:"space-y-4",children:[d&&(0,r.jsx)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:(0,r.jsx)("h3",{className:"text-xl font-semibold tracking-tight",children:d})}),l&&(0,r.jsx)("div",{className:"max-w-xs",children:(0,r.jsx)(C,{placeholder:"Filter ".concat(l,"..."),value:k,onChange:M,className:"h-9"})}),(0,r.jsx)("div",{className:(h?"overflow-x-auto ":"overflow-hidden ")+"rounded-lg border bg-white/80 backdrop-blur-sm shadow-sm "+g,children:(0,r.jsxs)(A,{className:"min-w-max",children:[(0,r.jsx)(I,{className:"bg-muted/40",children:E.getHeaderGroups().map(e=>(0,r.jsx)(_,{style:{height:v},children:e.headers.map(e=>{if(e.isPlaceholder)return(0,r.jsx)(D,{},e.id);let t=e.column.getIsSorted(),a=e.column.getCanSort(),n=B(e.column.id);return(0,r.jsx)(D,{className:"whitespace-nowrap align-middle px-2 py-1 text-xs font-medium text-muted-foreground",style:{width:n,minWidth:n,maxWidth:n},title:"string"==typeof e.column.columnDef.header?e.column.columnDef.header:e.column.id,children:a?(0,r.jsxs)(N,{variant:"ghost",size:"sm",className:"-ml-2 px-2 hover:bg-transparent data-[state=open]:bg-transparent h-auto",onClick:()=>e.column.toggleSorting("asc"===e.column.getIsSorted()),children:[(0,r.jsx)("span",{className:"truncate max-w-full",children:(0,R.Kv)(e.column.columnDef.header,e.getContext())}),(0,r.jsx)(L,{sorted:t})]}):(0,r.jsx)("span",{className:"truncate block max-w-full",children:(0,R.Kv)(e.column.columnDef.header,e.getContext())})},e.id)})},e.id))}),(0,r.jsxs)(P,{children:[i?Array.from({length:W}).map((e,t)=>(0,r.jsx)(_,{style:{height:v},children:a.map((e,a)=>(0,r.jsx)(T,{children:(0,r.jsx)(z,{className:"h-5 w-full"})},"skeleton-cell-".concat(t,"-").concat(a)))},"skeleton-row-".concat(t))):0===H.length?(0,r.jsx)(_,{style:{height:v},children:(0,r.jsx)(T,{colSpan:a.length,className:"text-center text-sm text-muted-foreground",children:"No results found."})}):H.map((e,t)=>(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(_,{"data-state":e.getIsSelected()&&"selected",tabIndex:c?0:-1,"aria-expanded":c?e.getIsExpanded():void 0,onClick:()=>O(e),onKeyDown:t=>{c&&("Enter"===t.key||" "===t.key)&&(t.preventDefault(),O(e))},className:"cursor-pointer select-none transition-colors hover:bg-accent/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50 ".concat(u&&t%2==1?"bg-muted/20 dark:bg-muted/30":""),style:{height:v},children:e.getVisibleCells().map(e=>{var t;let a=B(e.column.id);return(0,r.jsx)(T,{className:"px-2 py-1 text-sm align-middle",style:{width:a,minWidth:a,maxWidth:a},title:String(null!=(t=e.getValue())?t:""),children:(0,r.jsx)("div",{className:"truncate w-full",children:(0,R.Kv)(e.column.columnDef.cell,e.getContext())})},e.id)})}),c&&e.getIsExpanded()&&(0,r.jsx)(_,{className:"bg-background/70",children:(0,r.jsx)(T,{colSpan:a.length,className:"p-4",children:(0,r.jsx)(K,{row:e})})})]},e.id)),!i&&q>0&&Array.from({length:q}).map((e,t)=>(0,r.jsx)(_,{className:"hover:bg-transparent pointer-events-none",style:{height:v},children:(0,r.jsx)(T,{colSpan:a.length,style:{padding:0,border:"none"},children:(0,r.jsx)("div",{style:{height:v},children:"\xa0"})})},"empty-".concat(t)))]})]})}),(0,r.jsx)(V,{table:E})]})}function O(e){let{data:t,pageSize:a=8,enableExpand:s=!0,enableZebra:i=!0,enableMarkdown:l=!0,filterColumnId:d,tableContainerClassName:o="",remarkPlugins:c,rehypePlugins:u,enableHorizontalScroll:g=!0,columnWidth:h=140,columnWidths:m,rowHeight:x,truncateChars:v}=e,p=t&&Array.isArray(t.columns)&&Array.isArray(t.rows),b=(null==t?void 0:t.title)||"",f=(0,n.useMemo)(()=>p?t.columns.map(e=>({accessorKey:e,header:e,enableSorting:!0,meta:{width:(m&&m[e])!==void 0?m[e]:h},cell:e=>{let{getValue:t}=e,a=t(),n=null==a?"":String(a);return(v&&n.length>v&&(n=n.slice(0,v)+"…"),l)?(0,r.jsx)("div",{className:"truncate",children:(0,r.jsx)(E.oz,{remarkPlugins:c,rehypePlugins:u,components:{p:e=>(0,r.jsx)("span",{...e,className:"m-0 leading-snug"}),a:e=>(0,r.jsx)("a",{...e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline"}),code:e=>(0,r.jsx)("code",{...e,className:"rounded bg-muted px-1 py-0.5 text-xs"})},children:n})}):(0,r.jsx)("span",{className:"block",children:n})}})):[],[t,l,p,c,u,v,h,m]),w=(0,n.useMemo)(()=>p?t.rows:[],[t,p]),j=!p;return(0,r.jsx)(M,{children:(0,r.jsx)(W,{columns:f,data:w,isLoading:j,title:b,filterColumnId:d,pageSize:a,enableExpand:s,enableZebra:i,tableContainerClassName:o,enableHorizontalScroll:g,columnWidth:h,columnWidths:m,rowHeight:x})})}var H=a(8534);function J(e){let{data:t}=e;return(0,r.jsx)(M,{title:t.title,children:(0,r.jsx)(E.oz,{remarkPlugins:[H.A],components:{a:e=>{let{node:t,...a}=e;return(0,r.jsx)("a",{...a,target:"_blank",rel:"noreferrer"})},img:e=>{let{node:t,...a}=e;return(0,r.jsx)("img",{...a,loading:"lazy",style:{maxWidth:"100%"}})}},children:t.content})})}a(75594);var U=a(87953),q=a(88244);function B(e){let{widgets:t}=e;return(0,r.jsx)("div",{className:"h-screen w-full flex flex-col items-center overflow-y-auto pt-8 pb-8 space-y-6",style:{zIndex:1},children:0===t.length?(0,r.jsx)("div",{className:"flex-grow flex justify-center items-center text-gray-500",children:(0,r.jsx)("p",{className:"text-xl p-6 bg-white/60 rounded-lg shadow-md",children:"Agent output will appear here..."})}):t.map(e=>{switch(e.type){case"table":return(0,r.jsx)(O,{data:e.payload},e.id);case"markdown":return(0,r.jsx)(J,{data:e.payload},e.id);default:return null}})})}function X(e){let{children:t}=e,{threads:a,updateThreadTitle:s,...i}=(0,q.vw)(),l=(0,n.useMemo)(()=>({...i,threads:a,updateThreadTitle:s}),[i,a,s]);return(0,r.jsx)(q.qm.Provider,{value:l,children:t})}function G(){let e=JSON.parse(localStorage.getItem("chatThreadIdList")||"[]"),t=localStorage.getItem("currentChatThreadId");if(t&&e.some(e=>e.id===t))return t;if(e.length>0){var a;return null==(a=e[0])?void 0:a.id}}function Q(e){let{children:t}=e,[a,s]=(0,n.useState)(G),i=(0,n.useMemo)(()=>({activeThreadId:a,setActiveThreadId:s,threads:[],isLoading:!0,updateThreadTitle:()=>{},deleteAllThreads:()=>{}}),[a]);return(0,r.jsx)(U.zP,{runtimeUrl:"/api/copilotkit",showDevConsole:!1,agent:"dingent",threadId:a,children:(0,r.jsx)(q.qm.Provider,{value:i,children:(0,r.jsx)(X,{children:t})})})}},88244:(e,t,a)=>{"use strict";a.d(t,{qm:()=>i,vw:()=>o,xH:()=>l});var r=a(12115),n=a(56234),s=a(59663);let i=(0,r.createContext)(void 0),l=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useThreadContext must be used within a ThreadProvider (in Providers component)");return e},d="chatThreadIdList";function o(){let{isLoading:e}=(0,s.U)(),{activeThreadId:t,setActiveThreadId:a}=l(),[i,o]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=JSON.parse(localStorage.getItem(d)||"[]");if(o(e),!t&&0===e.length){let e=(0,n.A)();a(e)}}catch(e){console.error("Initialization failed:",e),o([])}finally{u(!1)}})()},[]),(0,r.useEffect)(()=>{t&&!c&&(localStorage.setItem("currentChatThreadId",t),o(e=>{if(!e.some(e=>e.id===t)){let a=[{id:t,title:"New Chat"},...e];return localStorage.setItem(d,JSON.stringify(a)),a}return e}))},[t,c]),{isLoading:c||e,threads:i,activeThreadId:t||"",setActiveThreadId:a,updateThreadTitle:(0,r.useCallback)((e,t)=>{o(a=>{let r=a.map(a=>a.id===e?{...a,title:t}:a);return localStorage.setItem(d,JSON.stringify(r)),r})},[]),deleteAllThreads:()=>{let e=(0,n.A)(),t={id:e,title:"New Chat"};o([t]),localStorage.setItem(d,JSON.stringify([t])),a(e)}}}},95041:()=>{}}]);