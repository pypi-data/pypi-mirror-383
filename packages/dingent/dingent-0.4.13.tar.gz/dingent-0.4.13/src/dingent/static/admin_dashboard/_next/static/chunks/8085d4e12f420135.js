(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,i,a,n,r,l,o,d,h,u,c,p,m,v,g,f,_,x,b,y,w,j,C,S=e.i(39946),N=e.i(70292),k=e.i(62351),M=e.i(37696),R=e.i(88245),E=e.i(75555),O=e.i(40143),A=e.i(86491),T=e.i(15823),D=e.i(93803),P=e.i(19273),W=e.i(80166),F=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,n=new WeakMap,r=new WeakMap,l=new WeakMap,o=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,c=new WeakMap,p=new WeakMap,m=new WeakMap,v=new WeakMap,g=new WeakSet,f=new WeakSet,_=new WeakSet,x=new WeakSet,b=new WeakSet,y=new WeakSet,w=new WeakSet,j=new WeakSet,C=new WeakSet,class extends T.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,S._)(this,s).addObserver(this),I((0,S._)(this,s),this.options)?(0,M._)(this,g,U).call(this):this.updateResult(),(0,M._)(this,b,z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L((0,S._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L((0,S._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M._)(this,y,V).call(this),(0,M._)(this,w,J).call(this),(0,S._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,a=(0,S._)(this,s);if(this.options=(0,S._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,P.resolveEnabled)(this.options.enabled,(0,S._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,M._)(this,j,X).call(this),(0,S._)(this,s).setOptions(this.options),i._defaulted&&!(0,P.shallowEqualObjects)(this.options,i)&&(0,S._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,S._)(this,s),observer:this});let n=this.hasListeners();n&&q((0,S._)(this,s),a,this.options,i)&&(0,M._)(this,g,U).call(this),this.updateResult(),n&&((0,S._)(this,s)!==a||(0,P.resolveEnabled)(this.options.enabled,(0,S._)(this,s))!==(0,P.resolveEnabled)(i.enabled,(0,S._)(this,s))||(0,P.resolveStaleTime)(this.options.staleTime,(0,S._)(this,s))!==(0,P.resolveStaleTime)(i.staleTime,(0,S._)(this,s)))&&(0,M._)(this,f,B).call(this);let r=(0,M._)(this,_,K).call(this);n&&((0,S._)(this,s)!==a||(0,P.resolveEnabled)(this.options.enabled,(0,S._)(this,s))!==(0,P.resolveEnabled)(i.enabled,(0,S._)(this,s))||r!==(0,S._)(this,m))&&(0,M._)(this,x,H).call(this,r)}getOptimisticResult(e){var i,l;let o=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),e),d=this.createResult(o,e);return i=this,l=d,(0,P.shallowEqualObjects)(i.getCurrentResult(),l)||((0,k._)(this,a,d),(0,k._)(this,r,this.options),(0,k._)(this,n,(0,S._)(this,s).state)),d}getCurrentResult(){return(0,S._)(this,a)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,S._)(this,l).status||(0,S._)(this,l).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,S._)(this,v).add(e)}getCurrentQuery(){return(0,S._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,S._)(this,t).defaultQueryOptions(e),i=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,M._)(this,g,U).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,S._)(this,a)))}createResult(e,t){let c,p=(0,S._)(this,s),m=this.options,v=(0,S._)(this,a),g=(0,S._)(this,n),f=(0,S._)(this,r),_=e!==p?e.state:(0,S._)(this,i),{state:x}=e,b={...x},y=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&I(e,t),a=s&&q(e,p,t,m);(i||a)&&(b={...b,...(0,A.fetchState)(x.data,e.options)}),"isRestoring"===t._optimisticResults&&(b.fetchStatus="idle")}let{error:w,errorUpdatedAt:j,status:C}=b;c=b.data;let N=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===C){let e;if((null==v?void 0:v.isPlaceholderData)&&t.placeholderData===(null==f?void 0:f.placeholderData))e=v.data,N=!0;else{var M;e="function"==typeof t.placeholderData?t.placeholderData(null==(M=(0,S._)(this,u))?void 0:M.state.data,(0,S._)(this,u)):t.placeholderData}void 0!==e&&(C="success",c=(0,P.replaceData)(null==v?void 0:v.data,e,t),y=!0)}if(t.select&&void 0!==c&&!N)if(v&&c===(null==g?void 0:g.data)&&t.select===(0,S._)(this,d))c=(0,S._)(this,h);else try{(0,k._)(this,d,t.select),c=t.select(c),c=(0,P.replaceData)(null==v?void 0:v.data,c,t),(0,k._)(this,h,c),(0,k._)(this,o,null)}catch(e){(0,k._)(this,o,e)}(0,S._)(this,o)&&(w=(0,S._)(this,o),c=(0,S._)(this,h),j=Date.now(),C="error");let R="fetching"===b.fetchStatus,E="pending"===C,O="error"===C,T=E&&R,W=void 0!==c,F={status:C,fetchStatus:b.fetchStatus,isPending:E,isSuccess:"success"===C,isError:O,isInitialLoading:T,isLoading:T,data:c,dataUpdatedAt:b.dataUpdatedAt,error:w,errorUpdatedAt:j,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>_.dataUpdateCount||b.errorUpdateCount>_.errorUpdateCount,isFetching:R,isRefetching:R&&!E,isLoadingError:O&&!W,isPaused:"paused"===b.fetchStatus,isPlaceholderData:y,isRefetchError:O&&W,isStale:Q(e,t),refetch:this.refetch,promise:(0,S._)(this,l),isEnabled:!1!==(0,P.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===F.status?e.reject(F.error):void 0!==F.data&&e.resolve(F.data)},s=()=>{t((0,k._)(this,l,F.promise=(0,D.pendingThenable)()))},i=(0,S._)(this,l);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":("error"===F.status||F.data!==i.value)&&s();break;case"rejected":("error"!==F.status||F.error!==i.reason)&&s()}}return F}updateResult(){let e=(0,S._)(this,a),t=this.createResult((0,S._)(this,s),this.options);if((0,k._)(this,n,(0,S._)(this,s).state),(0,k._)(this,r,this.options),void 0!==(0,S._)(this,n).data&&(0,k._)(this,u,(0,S._)(this,s)),(0,P.shallowEqualObjects)(t,e))return;(0,k._)(this,a,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,S._)(this,v).size)return!0;let i=new Set(null!=s?s:(0,S._)(this,v));return this.options.throwOnError&&i.add("error"),Object.keys((0,S._)(this,a)).some(t=>(0,S._)(this,a)[t]!==e[t]&&i.has(t))};(0,M._)(this,C,Z).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M._)(this,b,z).call(this)}constructor(e,S){super(),(0,R._)(this,g),(0,R._)(this,f),(0,R._)(this,_),(0,R._)(this,x),(0,R._)(this,b),(0,R._)(this,y),(0,R._)(this,w),(0,R._)(this,j),(0,R._)(this,C),(0,N._)(this,t,{writable:!0,value:void 0}),(0,N._)(this,s,{writable:!0,value:void 0}),(0,N._)(this,i,{writable:!0,value:void 0}),(0,N._)(this,a,{writable:!0,value:void 0}),(0,N._)(this,n,{writable:!0,value:void 0}),(0,N._)(this,r,{writable:!0,value:void 0}),(0,N._)(this,l,{writable:!0,value:void 0}),(0,N._)(this,o,{writable:!0,value:void 0}),(0,N._)(this,d,{writable:!0,value:void 0}),(0,N._)(this,h,{writable:!0,value:void 0}),(0,N._)(this,u,{writable:!0,value:void 0}),(0,N._)(this,c,{writable:!0,value:void 0}),(0,N._)(this,p,{writable:!0,value:void 0}),(0,N._)(this,m,{writable:!0,value:void 0}),(0,N._)(this,v,{writable:!0,value:new Set}),this.options=S,(0,k._)(this,t,e),(0,k._)(this,o,null),(0,k._)(this,l,(0,D.pendingThenable)()),this.bindMethods(),this.setOptions(S)}});function I(e,t){return!1!==(0,P.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&L(e,t,t.refetchOnMount)}function L(e,t,s){if(!1!==(0,P.resolveEnabled)(t.enabled,e)&&"static"!==(0,P.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&Q(e,t)}return!1}function q(e,t,s,i){return(e!==t||!1===(0,P.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&Q(e,s)}function Q(e,t){return!1!==(0,P.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,P.resolveStaleTime)(t.staleTime,e))}function U(e){(0,M._)(this,j,X).call(this);let t=(0,S._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(P.noop)),t}function B(){(0,M._)(this,y,V).call(this);let e=(0,P.resolveStaleTime)(this.options.staleTime,(0,S._)(this,s));if(P.isServer||(0,S._)(this,a).isStale||!(0,P.isValidTimeout)(e))return;let t=(0,P.timeUntilStale)((0,S._)(this,a).dataUpdatedAt,e);(0,k._)(this,c,W.timeoutManager.setTimeout(()=>{(0,S._)(this,a).isStale||this.updateResult()},t+1))}function K(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,S._)(this,s)):this.options.refetchInterval)&&e}function H(e){(0,M._)(this,w,J).call(this),(0,k._)(this,m,e),!P.isServer&&!1!==(0,P.resolveEnabled)(this.options.enabled,(0,S._)(this,s))&&(0,P.isValidTimeout)((0,S._)(this,m))&&0!==(0,S._)(this,m)&&(0,k._)(this,p,W.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||E.focusManager.isFocused())&&(0,M._)(this,g,U).call(this)},(0,S._)(this,m)))}function z(){(0,M._)(this,f,B).call(this),(0,M._)(this,x,H).call(this,(0,M._)(this,_,K).call(this))}function V(){(0,S._)(this,c)&&(W.timeoutManager.clearTimeout((0,S._)(this,c)),(0,k._)(this,c,void 0))}function J(){(0,S._)(this,p)&&(W.timeoutManager.clearInterval((0,S._)(this,p)),(0,k._)(this,p,void 0))}function X(){let e=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),this.options);if(e===(0,S._)(this,s))return;let a=(0,S._)(this,s);(0,k._)(this,s,e),(0,k._)(this,i,e.state),this.hasListeners()&&(null==a||a.removeObserver(this),e.addObserver(this))}function Z(e){O.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,S._)(this,a))}),(0,S._)(this,t).getQueryCache().notify({query:(0,S._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var $=e.i(71645),Y=e.i(12598);e.i(18050);var G=$.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=$.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var i,a,n,r,l;let o=$.useContext(ee),d=$.useContext(G),h=(0,Y.useQueryClient)(s),u=h.defaultQueryOptions(e);if(null==(a=h.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,u),u._optimisticResults=o?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}(u.suspense||u.throwOnError||u.experimental_prefetchInRender)&&!d.isReset()&&(u.retryOnMount=!1),$.useEffect(()=>{d.clearReset()},[d]);let c=!h.getQueryCache().get(u.queryHash),[p]=$.useState(()=>new t(h,u)),m=p.getOptimisticResult(u),v=!o&&!1!==e.subscribed;if($.useSyncExternalStore($.useCallback(e=>{let t=v?p.subscribe(O.notifyManager.batchCalls(e)):P.noop;return p.updateResult(),t},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),$.useEffect(()=>{p.setOptions(u)},[u,p]),(null==u?void 0:u.suspense)&&m.isPending)throw et(u,p,d);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:n}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(n&&void 0===t.data||(0,P.shouldThrowError)(i,[t.error,a]))})({result:m,errorResetBoundary:d,throwOnError:u.throwOnError,query:h.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;if(null==(r=h.getDefaultOptions().queries)||null==(n=r._experimental_afterQuery)||n.call(r,u,m),u.experimental_prefetchInRender&&!P.isServer&&m.isLoading&&m.isFetching&&!o){let e=c?et(u,p,d):null==(l=h.getQueryCache().get(u.queryHash))?void 0:l.promise;null==e||e.catch(P.noop).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?m:p.trackResult(m)}(e,F,t)}},54616,e=>{"use strict";e.s(["useMutation",()=>y],54616);var t,s,i,a,n,r,l=e.i(71645),o=e.i(39946),d=e.i(70292),h=e.i(62351),u=e.i(37696),c=e.i(88245),p=e.i(14272),m=e.i(40143),v=e.i(15823),g=e.i(19273),f=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,n=new WeakSet,r=new WeakSet,class extends v.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;let a=this.options;this.options=(0,o._)(this,t).defaultMutationOptions(e),(0,g.shallowEqualObjects)(this.options,a)||(0,o._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,o._)(this,i),observer:this}),(null==a?void 0:a.mutationKey)&&this.options.mutationKey&&(0,g.hashKey)(a.mutationKey)!==(0,g.hashKey)(this.options.mutationKey)?this.reset():(null==(s=(0,o._)(this,i))?void 0:s.state.status)==="pending"&&(0,o._)(this,i).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,o._)(this,i))||e.removeObserver(this)}}onMutationUpdate(e){(0,u._)(this,n,_).call(this),(0,u._)(this,r,x).call(this,e)}getCurrentResult(){return(0,o._)(this,s)}reset(){var e;null==(e=(0,o._)(this,i))||e.removeObserver(this),(0,h._)(this,i,void 0),(0,u._)(this,n,_).call(this),(0,u._)(this,r,x).call(this)}mutate(e,s){var n;return(0,h._)(this,a,s),null==(n=(0,o._)(this,i))||n.removeObserver(this),(0,h._)(this,i,(0,o._)(this,t).getMutationCache().build((0,o._)(this,t),this.options)),(0,o._)(this,i).addObserver(this),(0,o._)(this,i).execute(e)}constructor(e,l){super(),(0,c._)(this,n),(0,c._)(this,r),(0,d._)(this,t,{writable:!0,value:void 0}),(0,d._)(this,s,{writable:!0,value:void 0}),(0,d._)(this,i,{writable:!0,value:void 0}),(0,d._)(this,a,{writable:!0,value:void 0}),(0,h._)(this,t,e),this.setOptions(l),this.bindMethods(),(0,u._)(this,n,_).call(this)}});function _(){var e,t;let a=null!=(t=null==(e=(0,o._)(this,i))?void 0:e.state)?t:(0,p.getDefaultState)();(0,h._)(this,s,{...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset})}function x(e){m.notifyManager.batch(()=>{if((0,o._)(this,a)&&this.hasListeners()){var t,i,n,r,l,d,h,u;let c=(0,o._)(this,s).variables,p=(0,o._)(this,s).context;(null==e?void 0:e.type)==="success"?(null==(t=(i=(0,o._)(this,a)).onSuccess)||t.call(i,e.data,c,p),null==(n=(r=(0,o._)(this,a)).onSettled)||n.call(r,e.data,null,c,p)):(null==e?void 0:e.type)==="error"&&(null==(l=(d=(0,o._)(this,a)).onError)||l.call(d,e.error,c,p),null==(h=(u=(0,o._)(this,a)).onSettled)||h.call(u,void 0,e.error,c,p))}this.listeners.forEach(e=>{e((0,o._)(this,s))})})}var b=e.i(12598);function y(e,t){let s=(0,b.useQueryClient)(t),[i]=l.useState(()=>new f(s,e));l.useEffect(()=>{i.setOptions(e)},[i,e]);let a=l.useSyncExternalStore(l.useCallback(e=>i.subscribe(m.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=l.useCallback((e,t)=>{i.mutate(e,t).catch(g.noop)},[i]);if(a.error&&(0,g.shouldThrowError)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:n,mutateAsync:a.mutate}}},65551,e=>{"use strict";e.s(["default",()=>r],65551);var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,s)=>{let{color:n="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:h,iconNode:u,...c}=e;return(0,t.createElement)("svg",{ref:s,...a,width:r,height:r,stroke:n,strokeWidth:o?24*Number(l)/Number(r):l,className:i("lucide",d),...!h&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...u.map(e=>{let[s,i]=e;return(0,t.createElement)(s,i)}),...Array.isArray(h)?h:[h]])}),r=(e,a)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,t.createElement)(n,{ref:l,iconNode:a,className:i("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return r.displayName=s(e),r}},60910,e=>{"use strict";e.s(["Loader2",()=>t],60910);let t=(0,e.i(65551).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},13136,e=>{"use strict";e.s(["Save",()=>t],13136);let t=(0,e.i(65551).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},73224,e=>{"use strict";e.s(["X",()=>t],73224);let t=(0,e.i(65551).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},69944,e=>{"use strict";e.s(["default",()=>P],69944);var t=e.i(18050),s=e.i(71645),i=e.i(54616),a=e.i(66027),n=e.i(12598),r=e.i(60910);let l=(0,e.i(65551).default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var o=e.i(13136),d=e.i(73224),h=e.i(46696),u=e.i(20892),c=e.i(8838);e.i(84628);var p=e.i(36930),m=e.i(35893),v=e.i(65899),g=e.i(69906),f=e.i(39779),_=e.i(31404),x=e.i(74569),b=e.i(71948),y=e.i(21079),w=e.i(33992),j=e.i(74366),C=e.i(50181),S=e.i(41452),N=e.i(3605),k=e.i(84458),M=e.i(14877),R=e.i(72772),E=e.i(87352),O=e.i(81243),A=e.i(12616);function T(e){var s,i;let{plugin:a,onChange:n,onRemove:l,isRemoving:o}=e,d=(0,c.safeBool)(a.enabled,!1),{level:h,label:u}=(0,c.effectiveStatusForItem)(a.status,d);return(0,t.jsxs)("div",{className:"rounded-md border p-4",children:[" ",(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"font-mono",children:["Plugin: ",(0,c.toStr)(a.name)]}),(0,t.jsx)(k.StatusBadge,{level:h,label:u,title:a.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:"Enable"}),(0,t.jsx)(O.Switch,{checked:d,onCheckedChange:e=>n({...a,enabled:e})})]}),(0,t.jsx)(v.ConfirmDialog,{title:"Confirm Remove Plugin",description:"Are you sure you want to remove plugin '".concat(a.name,"'?"),confirmText:"Confirm Remove",onConfirm:l,trigger:(0,t.jsx)(m.Button,{variant:"destructive",size:"icon",disabled:o,children:o?(0,t.jsx)(r.Loader2,{className:"h-4 w-4 animate-spin"}):"ðŸ—‘ï¸"})})]})]}),!!(null==(s=a.config)?void 0:s.length)&&(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[" ",(0,t.jsx)("div",{className:"text-sm font-medium",children:"User Configuration"}),a.config.map((e,s)=>{var i;let r="cfg_".concat(a.plugin_id,"_").concat(s),l="".concat(e.name).concat(e.required?" (Required)":""),o=e.description||"Set ".concat(e.name),d=null!=(i=e.value)?i:e.default;if("integer"===e.type){let e=Number.isFinite(Number(d))?Number(d):0;return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-[240px_1fr]",children:[(0,t.jsx)(w.Label,{htmlFor:r,children:l}),(0,t.jsx)(y.Input,{id:r,type:"number",value:e,onChange:e=>{let t=structuredClone(a),i=t.config;i&&i.length>s&&(i[s].value=Number(e.target.value)),n(t)},placeholder:o})]},r)}return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-[240px_1fr]",children:[(0,t.jsx)(w.Label,{htmlFor:r,children:l}),(0,t.jsx)(y.Input,{id:r,type:e.secret?"password":"text",value:(0,c.toStr)(d),onChange:e=>{let t=structuredClone(a),i=t.config;i&&i.length>s&&(i[s].value=Number(e.target.value)),n(t)},placeholder:o})]},r)})]}),!!(null==(i=a.tools)?void 0:i.length)&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Tools"}),(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[" ",a.tools.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded border p-3",children:[" ",(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-mono",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-muted-foreground text-xs",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:"Enable"}),(0,t.jsx)(O.Switch,{checked:(0,c.safeBool)(e.enabled,!1),onCheckedChange:e=>{let t=structuredClone(a),i=t.tools;i&&i.length>s&&(i[s].enabled=e),n(t)}})]})]},s))]})]})]})}function D(e){var i;let{assistant:a,onChange:n,availablePlugins:l,onAddPlugin:o,isAddingPlugin:d,addingPluginDetails:h,onRemovePlugin:u,isRemovingPlugin:p,removingPluginDetails:v}=e,g=(0,c.safeBool)(a.enabled,!1),f=new Set((a.plugins||[]).map(e=>e.plugin_id)),_=(0,s.useMemo)(()=>l.filter(e=>!f.has(e.id)).map(e=>({value:e.id,label:e.name})),[l,f]),[x,b]=(0,s.useState)(""),j=d&&(null==h?void 0:h.assistantId)===a.id;return(0,t.jsxs)("div",{className:"space-y-6",children:[" ",(0,t.jsx)("h3",{className:"text-base font-semibold",children:" Basic Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{children:"Name"}),(0,t.jsx)(y.Input,{value:a.name||"",onChange:e=>n({...a,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{children:"Enable assistant"}),(0,t.jsx)("div",{className:"flex h-10 items-center",children:(0,t.jsx)(O.Switch,{checked:g,onCheckedChange:e=>n({...a,enabled:e})})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{children:"Description"}),(0,t.jsx)(M.Textarea,{value:a.description||"",onChange:e=>n({...a,description:e.target.value})})]}),(0,t.jsx)(E.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,t.jsx)("h3",{className:"text-base font-semibold",children:"Plugins"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(A.SearchableSelect,{options:_,value:x,onChange:b,placeholder:"Select plugin to add",className:"min-w-[160px] sm:min-w-[220px]"}),(0,t.jsxs)(m.Button,{disabled:!x||j,onClick:()=>x&&o(x),children:[j&&(0,t.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),j?"Adding...":"Add"]})]})]}),!(null==(i=a.plugins)?void 0:i.length)&&(0,t.jsx)("div",{className:"text-muted-foreground mt-2 text-sm",children:"No plugins configured."}),(0,t.jsx)("div",{className:"space-y-4",children:(a.plugins||[]).map((e,s)=>{let i=p&&(null==v?void 0:v.assistantId)===a.id&&(null==v?void 0:v.pluginId)===e.plugin_id;return(0,t.jsx)(T,{plugin:e,onChange:e=>{let t=structuredClone(a);t.plugins=t.plugins||[],t.plugins[s]=e,n(t)},onRemove:()=>u(e.plugin_id),isRemoving:i},e.plugin_id)})})]})}function P(){let e=(0,n.useQueryClient)(),E=(0,a.useQuery)({queryKey:["assistants"],queryFn:async()=>{var e;return null!=(e=await (0,u.getAssistantsConfig)())?e:[]},staleTime:5e3}),O=(0,a.useQuery)({queryKey:["available-plugins"],queryFn:async()=>{var e;return null!=(e=await (0,u.getAvailablePlugins)())?e:[]},staleTime:3e4}),[A,T]=(0,s.useState)([]),[P,W]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{E.data&&T(JSON.parse(JSON.stringify(E.data)))},[E.data]);let F=(0,i.useMutation)({mutationFn:async e=>(0,u.addPluginToAssistant)(e.assistantId,e.pluginId),onSuccess:async()=>{h.toast.success("Plugin added"),await e.invalidateQueries({queryKey:["assistants"]})},onError:e=>h.toast.error((0,c.getErrorMessage)(e,"Add plugin failed"))}),I=(0,i.useMutation)({mutationFn:async e=>(0,u.removePluginFromAssistant)(e.assistantId,e.pluginId),onSuccess:async()=>{h.toast.success("Plugin removed"),await e.invalidateQueries({queryKey:["assistants"]})},onError:e=>h.toast.error((0,c.getErrorMessage)(e||"Remove plugin failed"))}),[L,q]=(0,s.useState)(!1),[Q,U]=(0,s.useState)(!1),[B,K]=(0,s.useState)({name:"",description:""}),H=(0,i.useMutation)({mutationFn:async e=>{let{name:t,description:s}=e;return(0,u.addAssistant)(t,s)},onSuccess:async()=>{h.toast.success("Assistant added successfully!"),await e.invalidateQueries({queryKey:["assistants"]}),q(!1),K({name:"",description:""})},onError:e=>h.toast.error((0,c.getErrorMessage)(e,"Add assistant failed"))}),z=(0,i.useMutation)({mutationFn:async()=>{let e=A.filter(e=>P.has(e.id));if(0===e.length)return void h.toast.info("No changes to save.");let t=e.map(e=>(0,u.updateAssistant)(e.id,e));await Promise.all(t)},onSuccess:async()=>{h.toast.success("All changes have been saved successfully!"),await e.invalidateQueries({queryKey:["assistants"]}),U(!1)},onError:e=>h.toast.error((0,c.getErrorMessage)(e,"Failed to save some changes."))}),V=(0,i.useMutation)({mutationFn:async e=>(0,u.deleteAssistant)(e),onSuccess:async()=>{h.toast.success("Assistant deleted"),await e.invalidateQueries({queryKey:["assistants"]})},onError:e=>h.toast.error((0,c.getErrorMessage)(e,"Delete assistant failed"))});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(b.Header,{children:[(0,t.jsx)(N.Search,{}),(0,t.jsxs)("div",{className:"ms-auto flex items-center gap-4",children:[(0,t.jsx)(R.ThemeSwitch,{}),(0,t.jsx)(g.ConfigDrawer,{}),(0,t.jsx)(S.ProfileDropdown,{})]})]}),(0,t.jsxs)(x.FloatingActionButtons,{children:[(0,t.jsxs)(f.Dialog,{open:L,onOpenChange:q,children:[(0,t.jsx)(f.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"outline",children:[(0,t.jsx)(l,{className:"mr-2 h-4 w-4"}),"Add Assistant"]})}),(0,t.jsxs)(f.DialogContent,{children:[(0,t.jsx)(f.DialogHeader,{children:(0,t.jsx)(f.DialogTitle,{children:"Add New Assistant"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{htmlFor:"new-name",children:"Name (Required)"}),(0,t.jsx)(y.Input,{id:"new-name",value:B.name,onChange:e=>K(t=>({...t,name:e.target.value})),placeholder:"Enter assistant name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.Label,{htmlFor:"new-desc",children:"Description"}),(0,t.jsx)(M.Textarea,{id:"new-desc",value:B.description,onChange:e=>K(t=>({...t,description:e.target.value})),placeholder:"Enter assistant description"})]})]}),(0,t.jsx)(f.DialogFooter,{children:(0,t.jsxs)(m.Button,{onClick:()=>H.mutate({name:B.name,description:B.description}),disabled:H.isPending,children:[H.isPending?(0,t.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(l,{className:"mr-2 h-4 w-4"}),H.isPending?"Adding...":"Add"]})})]})]}),(0,t.jsxs)(f.Dialog,{open:Q,onOpenChange:U,children:[(0,t.jsx)(f.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(m.Button,{disabled:0===P.size,children:[(0,t.jsx)(o.Save,{className:"mr-2 h-4 w-4"}),"Save Changes"]})}),(0,t.jsxs)(f.DialogContent,{children:[(0,t.jsxs)(f.DialogHeader,{children:[(0,t.jsx)(f.DialogTitle,{children:"Confirm Your Changes"}),(0,t.jsx)(f.DialogDescription,{children:"Are you sure you want to save all changes? This will update the configuration for all assistants and reload them."})]}),(0,t.jsxs)(f.DialogFooter,{className:"gap-2 sm:justify-end",children:[(0,t.jsx)(f.DialogClose,{asChild:!0,children:(0,t.jsxs)(m.Button,{type:"button",variant:"outline",children:[(0,t.jsx)(d.X,{className:"mr-2 h-4 w-4"}),"Cancel"]})}),(0,t.jsxs)(m.Button,{type:"button",onClick:()=>z.mutate(),disabled:z.isPending,children:[z.isPending?(0,t.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(o.Save,{className:"mr-2 h-4 w-4"}),z.isPending?"Saving...":"Confirm & Save"]})]})]})]})]}),(0,t.jsxs)(C.Main,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Assistant Configuration"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage assistants, enable/disable plugins, and edit plugin settings and tools."})]}),(0,t.jsxs)("div",{children:[E.isLoading&&(0,t.jsx)(j.LoadingSkeleton,{lines:5}),E.error&&(0,t.jsx)("div",{className:"text-red-600",children:"Failed to load assistants."}),!E.isLoading&&!E.error&&0===A.length&&(0,t.jsx)(_.EmptyState,{title:"No assistants",description:"There are currently no assistants to configure."}),(0,t.jsx)(p.Accordion,{type:"single",collapsible:!0,className:"w-full space-y-4 pt-3",children:A.map((e,s)=>{let i=(0,c.safeBool)(e.enabled,!1),{level:a,label:n}=(0,c.effectiveStatusForItem)(e.status,i);return(0,t.jsxs)(p.AccordionItem,{value:e.id||"item-".concat(s),className:"rounded-lg border",children:[(0,t.jsx)(p.AccordionTrigger,{className:"px-4 py-3 text-lg font-semibold hover:no-underline",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-4 pr-4",children:[" ",(0,t.jsx)("span",{className:"truncate",children:e.name||"Unnamed"}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(k.StatusBadge,{level:a,label:n,title:e.status})})]})}),(0,t.jsxs)(p.AccordionContent,{className:"p-4 pt-0",children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-end",children:[" ",(0,t.jsx)(v.ConfirmDialog,{title:"Confirm Delete Assistant",description:"Are you sure you want to delete assistant '".concat(e.name||"Unnamed","'?"),confirmText:"Confirm Delete",onConfirm:()=>V.mutate(e.id),trigger:(0,t.jsxs)(m.Button,{variant:"destructive",size:"sm",disabled:V.isPending&&V.variables===e.id,children:[V.isPending&&V.variables===e.id&&(0,t.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete Assistant"]})})]}),(0,t.jsx)(D,{assistant:e,onChange:e=>{let t=[...A];t[s]=e,T(t),W(t=>new Set(t).add(e.id))},availablePlugins:O.data||[],onAddPlugin:t=>F.mutate({assistantId:e.id,pluginId:t}),isAddingPlugin:F.isPending,addingPluginDetails:F.variables,onRemovePlugin:t=>I.mutate({assistantId:e.id,pluginId:t}),isRemovingPlugin:I.isPending,removingPluginDetails:I.variables||null})]})]},e.id||s)})})]})]})]})}}]);