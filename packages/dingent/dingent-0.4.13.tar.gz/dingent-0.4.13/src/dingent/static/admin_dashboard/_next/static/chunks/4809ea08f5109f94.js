(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,i,a,l,r,n,o,h,d,c,u,p,m,f,v,_,g,b,x,y,w,j,R,C=e.i(39946),S=e.i(70292),N=e.i(62351),O=e.i(37696),k=e.i(88245),E=e.i(75555),M=e.i(40143),T=e.i(86491),F=e.i(15823),I=e.i(93803),W=e.i(19273),Q=e.i(80166),q=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,v=new WeakSet,_=new WeakSet,g=new WeakSet,b=new WeakSet,x=new WeakSet,y=new WeakSet,w=new WeakSet,j=new WeakSet,R=new WeakSet,class extends F.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,C._)(this,s).addObserver(this),A((0,C._)(this,s),this.options)?(0,O._)(this,v,B).call(this):this.updateResult(),(0,O._)(this,x,G).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U((0,C._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U((0,C._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,O._)(this,y,z).call(this),(0,O._)(this,w,V).call(this),(0,C._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,a=(0,C._)(this,s);if(this.options=(0,C._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,W.resolveEnabled)(this.options.enabled,(0,C._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,O._)(this,j,J).call(this),(0,C._)(this,s).setOptions(this.options),i._defaulted&&!(0,W.shallowEqualObjects)(this.options,i)&&(0,C._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,C._)(this,s),observer:this});let l=this.hasListeners();l&&L((0,C._)(this,s),a,this.options,i)&&(0,O._)(this,v,B).call(this),this.updateResult(),l&&((0,C._)(this,s)!==a||(0,W.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,W.resolveEnabled)(i.enabled,(0,C._)(this,s))||(0,W.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s))!==(0,W.resolveStaleTime)(i.staleTime,(0,C._)(this,s)))&&(0,O._)(this,_,P).call(this);let r=(0,O._)(this,g,K).call(this);l&&((0,C._)(this,s)!==a||(0,W.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,W.resolveEnabled)(i.enabled,(0,C._)(this,s))||r!==(0,C._)(this,m))&&(0,O._)(this,b,H).call(this,r)}getOptimisticResult(e){var i,n;let o=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),e),h=this.createResult(o,e);return i=this,n=h,(0,W.shallowEqualObjects)(i.getCurrentResult(),n)||((0,N._)(this,a,h),(0,N._)(this,r,this.options),(0,N._)(this,l,(0,C._)(this,s).state)),h}getCurrentResult(){return(0,C._)(this,a)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,C._)(this,n).status||(0,C._)(this,n).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,C._)(this,f).add(e)}getCurrentQuery(){return(0,C._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,C._)(this,t).defaultQueryOptions(e),i=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,O._)(this,v,B).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,C._)(this,a)))}createResult(e,t){let u,p=(0,C._)(this,s),m=this.options,f=(0,C._)(this,a),v=(0,C._)(this,l),_=(0,C._)(this,r),g=e!==p?e.state:(0,C._)(this,i),{state:b}=e,x={...b},y=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&A(e,t),a=s&&L(e,p,t,m);(i||a)&&(x={...x,...(0,T.fetchState)(b.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:w,errorUpdatedAt:j,status:R}=x;u=x.data;let S=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===R){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==_?void 0:_.placeholderData))e=f.data,S=!0;else{var O;e="function"==typeof t.placeholderData?t.placeholderData(null==(O=(0,C._)(this,c))?void 0:O.state.data,(0,C._)(this,c)):t.placeholderData}void 0!==e&&(R="success",u=(0,W.replaceData)(null==f?void 0:f.data,e,t),y=!0)}if(t.select&&void 0!==u&&!S)if(f&&u===(null==v?void 0:v.data)&&t.select===(0,C._)(this,h))u=(0,C._)(this,d);else try{(0,N._)(this,h,t.select),u=t.select(u),u=(0,W.replaceData)(null==f?void 0:f.data,u,t),(0,N._)(this,d,u),(0,N._)(this,o,null)}catch(e){(0,N._)(this,o,e)}(0,C._)(this,o)&&(w=(0,C._)(this,o),u=(0,C._)(this,d),j=Date.now(),R="error");let k="fetching"===x.fetchStatus,E="pending"===R,M="error"===R,F=E&&k,Q=void 0!==u,q={status:R,fetchStatus:x.fetchStatus,isPending:E,isSuccess:"success"===R,isError:M,isInitialLoading:F,isLoading:F,data:u,dataUpdatedAt:x.dataUpdatedAt,error:w,errorUpdatedAt:j,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>g.dataUpdateCount||x.errorUpdateCount>g.errorUpdateCount,isFetching:k,isRefetching:k&&!E,isLoadingError:M&&!Q,isPaused:"paused"===x.fetchStatus,isPlaceholderData:y,isRefetchError:M&&Q,isStale:D(e,t),refetch:this.refetch,promise:(0,C._)(this,n),isEnabled:!1!==(0,W.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===q.status?e.reject(q.error):void 0!==q.data&&e.resolve(q.data)},s=()=>{t((0,N._)(this,n,q.promise=(0,I.pendingThenable)()))},i=(0,C._)(this,n);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":("error"===q.status||q.data!==i.value)&&s();break;case"rejected":("error"!==q.status||q.error!==i.reason)&&s()}}return q}updateResult(){let e=(0,C._)(this,a),t=this.createResult((0,C._)(this,s),this.options);if((0,N._)(this,l,(0,C._)(this,s).state),(0,N._)(this,r,this.options),void 0!==(0,C._)(this,l).data&&(0,N._)(this,c,(0,C._)(this,s)),(0,W.shallowEqualObjects)(t,e))return;(0,N._)(this,a,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,C._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,C._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,C._)(this,a)).some(t=>(0,C._)(this,a)[t]!==e[t]&&i.has(t))};(0,O._)(this,R,X).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,O._)(this,x,G).call(this)}constructor(e,C){super(),(0,k._)(this,v),(0,k._)(this,_),(0,k._)(this,g),(0,k._)(this,b),(0,k._)(this,x),(0,k._)(this,y),(0,k._)(this,w),(0,k._)(this,j),(0,k._)(this,R),(0,S._)(this,t,{writable:!0,value:void 0}),(0,S._)(this,s,{writable:!0,value:void 0}),(0,S._)(this,i,{writable:!0,value:void 0}),(0,S._)(this,a,{writable:!0,value:void 0}),(0,S._)(this,l,{writable:!0,value:void 0}),(0,S._)(this,r,{writable:!0,value:void 0}),(0,S._)(this,n,{writable:!0,value:void 0}),(0,S._)(this,o,{writable:!0,value:void 0}),(0,S._)(this,h,{writable:!0,value:void 0}),(0,S._)(this,d,{writable:!0,value:void 0}),(0,S._)(this,c,{writable:!0,value:void 0}),(0,S._)(this,u,{writable:!0,value:void 0}),(0,S._)(this,p,{writable:!0,value:void 0}),(0,S._)(this,m,{writable:!0,value:void 0}),(0,S._)(this,f,{writable:!0,value:new Set}),this.options=C,(0,N._)(this,t,e),(0,N._)(this,o,null),(0,N._)(this,n,(0,I.pendingThenable)()),this.bindMethods(),this.setOptions(C)}});function A(e,t){return!1!==(0,W.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&U(e,t,t.refetchOnMount)}function U(e,t,s){if(!1!==(0,W.resolveEnabled)(t.enabled,e)&&"static"!==(0,W.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&D(e,t)}return!1}function L(e,t,s,i){return(e!==t||!1===(0,W.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&D(e,s)}function D(e,t){return!1!==(0,W.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,W.resolveStaleTime)(t.staleTime,e))}function B(e){(0,O._)(this,j,J).call(this);let t=(0,C._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(W.noop)),t}function P(){(0,O._)(this,y,z).call(this);let e=(0,W.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s));if(W.isServer||(0,C._)(this,a).isStale||!(0,W.isValidTimeout)(e))return;let t=(0,W.timeUntilStale)((0,C._)(this,a).dataUpdatedAt,e);(0,N._)(this,u,Q.timeoutManager.setTimeout(()=>{(0,C._)(this,a).isStale||this.updateResult()},t+1))}function K(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,C._)(this,s)):this.options.refetchInterval)&&e}function H(e){(0,O._)(this,w,V).call(this),(0,N._)(this,m,e),!W.isServer&&!1!==(0,W.resolveEnabled)(this.options.enabled,(0,C._)(this,s))&&(0,W.isValidTimeout)((0,C._)(this,m))&&0!==(0,C._)(this,m)&&(0,N._)(this,p,Q.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||E.focusManager.isFocused())&&(0,O._)(this,v,B).call(this)},(0,C._)(this,m)))}function G(){(0,O._)(this,_,P).call(this),(0,O._)(this,b,H).call(this,(0,O._)(this,g,K).call(this))}function z(){(0,C._)(this,u)&&(Q.timeoutManager.clearTimeout((0,C._)(this,u)),(0,N._)(this,u,void 0))}function V(){(0,C._)(this,p)&&(Q.timeoutManager.clearInterval((0,C._)(this,p)),(0,N._)(this,p,void 0))}function J(){let e=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),this.options);if(e===(0,C._)(this,s))return;let a=(0,C._)(this,s);(0,N._)(this,s,e),(0,N._)(this,i,e.state),this.hasListeners()&&(null==a||a.removeObserver(this),e.addObserver(this))}function X(e){M.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,C._)(this,a))}),(0,C._)(this,t).getQueryCache().notify({query:(0,C._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Y=e.i(71645),Z=e.i(12598);e.i(18050);var $=Y.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Y.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var i,a,l,r,n;let o=Y.useContext(ee),h=Y.useContext($),d=(0,Z.useQueryClient)(s),c=d.defaultQueryOptions(e);if(null==(a=d.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,c),c._optimisticResults=o?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!h.isReset()&&(c.retryOnMount=!1),Y.useEffect(()=>{h.clearReset()},[h]);let u=!d.getQueryCache().get(c.queryHash),[p]=Y.useState(()=>new t(d,c)),m=p.getOptimisticResult(c),f=!o&&!1!==e.subscribed;if(Y.useSyncExternalStore(Y.useCallback(e=>{let t=f?p.subscribe(M.notifyManager.batchCalls(e)):W.noop;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Y.useEffect(()=>{p.setOptions(c)},[c,p]),(null==c?void 0:c.suspense)&&m.isPending)throw et(c,p,h);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:l}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(l&&void 0===t.data||(0,W.shouldThrowError)(i,[t.error,a]))})({result:m,errorResetBoundary:h,throwOnError:c.throwOnError,query:d.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if(null==(r=d.getDefaultOptions().queries)||null==(l=r._experimental_afterQuery)||l.call(r,c,m),c.experimental_prefetchInRender&&!W.isServer&&m.isLoading&&m.isFetching&&!o){let e=u?et(c,p,h):null==(n=d.getQueryCache().get(c.queryHash))?void 0:n.promise;null==e||e.catch(W.noop).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}(e,q,t)}},26131,e=>{"use strict";e.s(["default",()=>g]);var t=e.i(18050),s=e.i(71645),i=e.i(66027),a=e.i(12598),l=e.i(46696),r=e.i(20892);e.i(84628);var n=e.i(69906),o=e.i(74569),h=e.i(71948),d=e.i(50181),c=e.i(41452),u=e.i(3605),p=e.i(72772),m=e.i(35893),f=e.i(21079);let v={DEBUG:"#808080",INFO:"#0066CC",WARNING:"#FF8C00",ERROR:"#FF4444",CRITICAL:"#CC0000"},_=["All","DEBUG","INFO","WARNING","ERROR","CRITICAL"];function g(){var e,g,b;let x=(0,a.useQueryClient)(),[y,w]=(0,s.useState)(!1),j=(0,i.useQuery)({queryKey:["log-stats"],queryFn:r.getLogStatistics,refetchInterval:!!y&&1e4}),[R,C]=(0,s.useState)("All"),[S,N]=(0,s.useState)(""),[O,k]=(0,s.useState)(""),[E,M]=(0,s.useState)(100),T=(0,i.useQuery)({queryKey:["logs",R,S,O,E],queryFn:()=>(0,r.getLogs)({level:"All"===R?null:R,module:S.trim()||null,search:O.trim()||null,limit:E}),staleTime:2e3,refetchInterval:!!y&&1e4}),F=null!=(b=null==(e=j.data)?void 0:e.total_logs)?b:0,I=(0,s.useMemo)(()=>{var e,t;return Object.entries(null!=(t=null==(e=j.data)?void 0:e.by_level)?t:{})},[j.data]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Header,{children:[(0,t.jsx)(u.Search,{}),(0,t.jsxs)("div",{className:"ms-auto flex items-center gap-4",children:[(0,t.jsx)(p.ThemeSwitch,{}),(0,t.jsx)(n.ConfigDrawer,{}),(0,t.jsx)(c.ProfileDropdown,{})]})]}),(0,t.jsxs)(o.FloatingActionButtons,{children:[(0,t.jsx)(m.Button,{variant:y?"default":"outline",onClick:()=>w(e=>!e),className:"w-40 justify-center shadow-lg",children:y?"Auto Refresh: ON":"Auto Refresh: OFF"}),(0,t.jsx)(m.Button,{onClick:async()=>{await x.invalidateQueries({queryKey:["logs"]}),await x.invalidateQueries({queryKey:["log-stats"]})},className:"shadow-lg",children:"Refresh"}),(0,t.jsx)(m.Button,{variant:"destructive",onClick:async()=>{await (0,r.clearAllLogs)()?(l.toast.success("All logs cleared"),await x.invalidateQueries({queryKey:["logs"]}),await x.invalidateQueries({queryKey:["log-stats"]})):l.toast.error("Failed to clear logs")},className:"shadow-lg",children:"Clear All"})]}),(0,t.jsxs)(d.Main,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"System Logs"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Inspect logs and filter by level, module, or keywords."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-[2fr_1fr]",children:[(0,t.jsxs)("div",{className:"rounded border p-3",children:[(0,t.jsx)("div",{className:"mb-2 font-medium",children:"Log Statistics"}),F>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:F}),!!I.length&&(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:I.map(e=>{let[s,i]=e;return(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm",style:{borderColor:v[s]||"#999",color:v[s]||"#999"},children:[s," ",(0,t.jsx)("span",{className:"font-semibold",children:i})]},s)})})]}):(0,t.jsx)("div",{className:"text-muted-foreground text-sm",children:"No logs available"})]}),(0,t.jsxs)("div",{className:"rounded border p-3",children:[(0,t.jsx)("div",{className:"mb-2 font-medium",children:"Filter"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map(e=>(0,t.jsx)("button",{className:"rounded-full border px-3 py-1 text-sm ".concat(e===R?"bg-primary text-primary-foreground":"hover:bg-muted"),onClick:()=>C(e),children:e},e))}),(0,t.jsx)(f.Input,{placeholder:"Module (e.g., config_manager)",value:S,onChange:e=>N(e.target.value)}),(0,t.jsx)(f.Input,{placeholder:"Search in message...",value:O,onChange:e=>k(e.target.value)}),(0,t.jsx)(f.Input,{type:"number",min:10,max:500,step:10,value:E,onChange:e=>M(Number(e.target.value))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[T.isLoading&&(0,t.jsx)("div",{children:"Loading logs..."}),T.error&&(0,t.jsx)("div",{className:"text-red-600",children:"Failed to load logs"}),T.data&&T.data.length>0&&(0,t.jsxs)("div",{className:"text-sm font-medium",children:["Showing ",T.data.length," logs"]}),null==(g=T.data)?void 0:g.map((e,s)=>{var i;let a=v[e.level]||"#000000";return(0,t.jsxs)("details",{className:"rounded border p-2",children:[(0,t.jsxs)("summary",{className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"font-semibold",style:{color:a},children:e.level})," ",(0,t.jsxs)("span",{className:"text-muted-foreground",children:["[",(e.timestamp||"").slice(0,19),"]"]})," ",(0,t.jsxs)("code",{children:[e.module||"unknown",".",e.function||"unknown"]})," ","- ",null==(i=e.message)?void 0:i.slice(0,100)]}),(0,t.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Level:"})," ",(0,t.jsx)("span",{style:{color:a},children:e.level})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Timestamp:"})," ",e.timestamp]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Module:"})," ",(0,t.jsx)("code",{children:e.module})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Function:"})," ",(0,t.jsx)("code",{children:e.function})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"font-semibold",children:"Message:"}),(0,t.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(e.message||""),l.toast.success("Message copied")},children:"Copy"})]}),(0,t.jsx)("pre",{className:"bg-muted rounded p-2 text-sm whitespace-pre-wrap",children:e.message}),e.context&&Object.keys(e.context).length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"font-semibold",children:"Context:"}),(0,t.jsx)("pre",{className:"bg-muted rounded p-2 text-sm whitespace-pre-wrap",children:JSON.stringify(e.context,null,2)})]}),e.correlation_id&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Correlation ID:"})," ",(0,t.jsx)("code",{children:e.correlation_id})]})]})]},s)}),T.data&&0===T.data.length&&(0,t.jsx)("div",{className:"text-muted-foreground text-sm",children:"No logs match the current filters."})]})]})]})}}]);