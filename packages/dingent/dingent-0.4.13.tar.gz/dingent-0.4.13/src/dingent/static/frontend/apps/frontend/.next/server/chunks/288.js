"use strict";exports.id=288,exports.ids=[288],exports.modules={51288:(a,b,c)=>{c.d(b,{GetRoleCredentialsCommand:()=>M,SSOClient:()=>a4});var d=c(64120),e=c(76205),f=c(52800);let g={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var h=c(73748),i=c(66365);class j extends i.T{constructor(a){super(a),Object.setPrototypeOf(this,j.prototype)}}class k extends j{name="InvalidRequestException";$fault="client";constructor(a){super({name:"InvalidRequestException",$fault:"client",...a}),Object.setPrototypeOf(this,k.prototype)}}class l extends j{name="ResourceNotFoundException";$fault="client";constructor(a){super({name:"ResourceNotFoundException",$fault:"client",...a}),Object.setPrototypeOf(this,l.prototype)}}class m extends j{name="TooManyRequestsException";$fault="client";constructor(a){super({name:"TooManyRequestsException",$fault:"client",...a}),Object.setPrototypeOf(this,m.prototype)}}class n extends j{name="UnauthorizedException";$fault="client";constructor(a){super({name:"UnauthorizedException",$fault:"client",...a}),Object.setPrototypeOf(this,n.prototype)}}let o=a=>({...a,...a.accessToken&&{accessToken:h.$}}),p=a=>({...a,...a.roleCredentials&&{roleCredentials:(a=>({...a,...a.secretAccessKey&&{secretAccessKey:h.$},...a.sessionToken&&{sessionToken:h.$}}))(a.roleCredentials)}});var q=c(49337),r=c(77537),s=c(65288),t=c(50610),u=c(65798),v=c(3278),w=c(34869);let x=async(a,b)=>{let c,d=(0,r.l)(a,b),e=(0,s.Tj)({},t.e,{[L]:a[H]});d.bp("/federation/credentials");let f=(0,s.Tj)({[K]:[,(0,u.Y0)(a[J],"roleName")],[I]:[,(0,u.Y0)(a[G],"accountId")]});return d.m("GET").h(e).q(f).b(c),d.build()},y=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return z(a,b);let c=(0,s.Tj)({$metadata:F(a)}),d=(0,u.Y0)((0,u.Xk)(await (0,q.Y2)(a.body,b)),"body");return Object.assign(c,(0,s.s)(d,{roleCredentials:v.S})),c},z=async(a,b)=>{let c={...a,body:await (0,q.CG)(a.body,b)},d=(0,q.cJ)(a,c.body);switch(d){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await B(c,b);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await C(c,b);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await D(c,b);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await E(c,b);default:return A({output:a,parsedBody:c.body,errorCode:d})}},A=(0,w.j)(j),B=async(a,b)=>{let c=(0,s.Tj)({}),d=a.body;Object.assign(c,(0,s.s)(d,{message:u.lK}));let e=new k({$metadata:F(a),...c});return(0,i.M)(e,a.body)},C=async(a,b)=>{let c=(0,s.Tj)({}),d=a.body;Object.assign(c,(0,s.s)(d,{message:u.lK}));let e=new l({$metadata:F(a),...c});return(0,i.M)(e,a.body)},D=async(a,b)=>{let c=(0,s.Tj)({}),d=a.body;Object.assign(c,(0,s.s)(d,{message:u.lK}));let e=new m({$metadata:F(a),...c});return(0,i.M)(e,a.body)},E=async(a,b)=>{let c=(0,s.Tj)({}),d=a.body;Object.assign(c,(0,s.s)(d,{message:u.lK}));let e=new n({$metadata:F(a),...c});return(0,i.M)(e,a.body)},F=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),G="accountId",H="accessToken",I="account_id",J="roleName",K="role_name",L="x-amz-sso_bearer_token";class M extends f.u.classBuilder().ep(g).m(function(a,b,c,f){return[(0,e.TM)(c,this.serialize,this.deserialize),(0,d.r)(c,a.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(o,p).ser(x).de(y).build(){}var N=c(8081),O=c(79178),P=c(88086),Q=c(43410),R=c(94119),S=c(25612),T=c(10738),U=c(89319),V=c(94183),W=c(42901),X=c(934),Y=c(98087),Z=c(30639),$=c(74006),_=c(46110),aa=c(42401);let ab=async(a,b,c)=>({operation:(0,_.u)(b).operation,region:await (0,aa.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),ac=a=>{let b=[];switch(a.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":b.push({schemeId:"smithy.api#noAuth"});break;default:b.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})})}return b},ad={rE:"3.888.0"};var ae=c(1972),af=c(52750),ag=c(25649),ah=c(39778),ai=c(22322),aj=c(39664),ak=c(4831),al=c(55250),am=c(81803),an=c(56919),ao=c(2121),ap=c(33949),aq=c(73131),ar=c(65326),as=c(54172),at=c(45874),au=c(36921),av=c(46420),aw=c(79369),ax=c(940),ay=c(74760),az=c(26491),aA=c(37923),aB=c(80410);let aC="required",aD="argv",aE="isSet",aF="booleanEquals",aG="error",aH="endpoint",aI="tree",aJ="PartitionResult",aK="getAttr",aL={[aC]:!1,type:"String"},aM={[aC]:!0,default:!1,type:"Boolean"},aN={ref:"Endpoint"},aO={fn:aF,[aD]:[{ref:"UseFIPS"},!0]},aP={fn:aF,[aD]:[{ref:"UseDualStack"},!0]},aQ={},aR={fn:aK,[aD]:[{ref:aJ},"supportsFIPS"]},aS={ref:aJ},aT={fn:aF,[aD]:[!0,{fn:aK,[aD]:[aS,"supportsDualStack"]}]},aU=[aO],aV=[aP],aW=[{ref:"Region"}],aX={version:"1.0",parameters:{Region:aL,UseDualStack:aM,UseFIPS:aM,Endpoint:aL},rules:[{conditions:[{fn:aE,[aD]:[aN]}],rules:[{conditions:aU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:aG},{conditions:aV,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:aG},{endpoint:{url:aN,properties:aQ,headers:aQ},type:aH}],type:aI},{conditions:[{fn:aE,[aD]:aW}],rules:[{conditions:[{fn:"aws.partition",[aD]:aW,assign:aJ}],rules:[{conditions:[aO,aP],rules:[{conditions:[{fn:aF,[aD]:[!0,aR]},aT],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aQ,headers:aQ},type:aH}],type:aI},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:aG}],type:aI},{conditions:aU,rules:[{conditions:[{fn:aF,[aD]:[aR,!0]}],rules:[{conditions:[{fn:"stringEquals",[aD]:[{fn:aK,[aD]:[aS,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:aQ,headers:aQ},type:aH},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:aQ,headers:aQ},type:aH}],type:aI},{error:"FIPS is enabled but this partition does not support FIPS",type:aG}],type:aI},{conditions:aV,rules:[{conditions:[aT],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aQ,headers:aQ},type:aH}],type:aI},{error:"DualStack is enabled but this partition does not support DualStack",type:aG}],type:aI},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:aQ,headers:aQ},type:aH}],type:aI}],type:aI},{error:"Invalid Configuration: Missing Region",type:aG}]},aY=new az.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),aZ=(a,b={})=>aY.get(a,()=>(0,aA.s)(aX,{endpointParams:a,logger:b.logger}));aB.m.aws=ay.UF;var a$=c(19896),a_=c(64866),a0=c(50225),a1=c(71736),a2=c(64529),a3=c(35118);class a4 extends Z.K{config;constructor(...[a]){let b=(a=>{(0,a0.I)(process.version);let b=(0,a_.I)(a),c=()=>b().then(a$.l),d=(a=>({apiVersion:"2019-06-10",base64Decoder:a?.base64Decoder??au.E,base64Encoder:a?.base64Encoder??av.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??aZ,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??ac,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new aq.f2},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ar.m}],logger:a?.logger??new as.N,serviceId:a?.serviceId??"SSO",urlParser:a?.urlParser??at.D,utf8Decoder:a?.utf8Decoder??aw.a,utf8Encoder:a?.utf8Encoder??ax.P}))(a);(0,ae.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,al.Z)(af.$,e),bodyLengthChecker:a?.bodyLengthChecker??ao.n,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,ag.pf)({serviceId:d.serviceId,clientVersion:ad.rE}),maxAttempts:a?.maxAttempts??(0,al.Z)(X.qs,a),region:a?.region??(0,al.Z)(ah.GG,{...ah.zH,...e}),requestHandler:am.$.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,al.Z)({...X.kN,default:async()=>(await c()).retryMode||ap.L0},a),sha256:a?.sha256??ak.V.bind(null,"sha256"),streamCollector:a?.streamCollector??an.k,useDualstackEndpoint:a?.useDualstackEndpoint??(0,al.Z)(ai.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,al.Z)(aj.Ko,e),userAgentAppId:a?.userAgentAppId??(0,al.Z)(ag.hV,e)}})(a||{});super(b),this.initConfig=b;let c=(a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}))(b),d=(0,Q.Dc)(c),e=(0,X.$z)(d),f=(0,R.T)(e),g=(0,N.OV)(f),h=((a,b)=>{let c=Object.assign((0,a1.Rq)(a),(0,a3.xA)(a),(0,a2.e)(a),(a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}})(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,a1.$3)(c),(0,a3.uv)(c),(0,a2.j)(c),(a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}))(c))})((a=>Object.assign((0,$.h)(a),{authSchemePreference:(0,aa.t)(a.authSchemePreference??[])}))((0,W.C)(g)),a?.extensions||[]);this.config=h,this.middlewareStack.use((0,Q.sM)(this.config)),this.middlewareStack.use((0,Y.ey)(this.config)),this.middlewareStack.use((0,V.vK)(this.config)),this.middlewareStack.use((0,N.TC)(this.config)),this.middlewareStack.use((0,O.Y7)(this.config)),this.middlewareStack.use((0,P.n)(this.config)),this.middlewareStack.use((0,S.w)(this.config,{httpAuthSchemeParametersProvider:ab,identityProviderConfigProvider:async a=>new T.h({"aws.auth#sigv4":a.credentials})})),this.middlewareStack.use((0,U.l)(this.config))}destroy(){super.destroy()}}},65326:(a,b,c)=>{c.d(b,{m:()=>d});class d{async sign(a,b,c){return a}}}};