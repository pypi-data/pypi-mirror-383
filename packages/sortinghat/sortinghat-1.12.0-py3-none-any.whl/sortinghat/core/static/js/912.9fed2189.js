(self["webpackChunksortinghat_ui"]=self["webpackChunksortinghat_ui"]||[]).push([[912],{3939:e=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(a>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|t.indexOf(e.charAt(r))>>>6-2*a);return n}};e.exports=n})()},10838:(e,t,n)=>{"use strict";var r=n(46518),a=n(43839).findLast,i=n(6469);r({target:"Array",proto:!0},{findLast:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},15203:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});n(62010),n(79432);var r=n(20641),a=n(53751),i=n(90033),o=n(13892),u=n(4189),l=n(41720),s=n(79669),d=n(57254),c=n(4913),f=n(97505),m=n(88249),p=n(51161),g={key:2};function v(e,t,n,v,k,h){var b=(0,r.g2)("avatar"),_=(0,r.g2)("router-link"),y=(0,r.g2)("expanded-individual");return(0,r.uX)(),(0,r.Wv)(u.J,(0,r.v6)({class:["mx-auto",{locked:n.isLocked,dropzone:k.isDragging,selected:n.isSelected&&!n.recommendation,highlighted:n.isHighlighted,disabled:!n.selectable,"selected--merge":k.state.merge,"selected--dismiss":k.state.dismiss}],ripple:n.selectable},e.$attrs,{onDrop:t[5]||(t[5]=(0,a.D$)((function(e){return h.onDrop(e)}),["prevent","stop"])),onDragover:t[6]||(t[6]=(0,a.D$)((function(e){return h.isDropZone(e,!0)}),["prevent","stop"])),onDragenter:t[7]||(t[7]=(0,a.D$)((function(e){return h.isDropZone(e,!0)}),["prevent","stop"])),onDragleave:t[8]||(t[8]=function(e){return h.isDropZone(e,!1)}),onClick:h.selectIndividual}),(0,r.eX)({prepend:(0,r.k6)((function(){return[(0,r.bF)(b,{name:n.name,email:n.email,size:30},null,8,["name","email"])]})),item:(0,r.k6)((function(){return[(0,r.bF)(d.g,{class:"grow pa-2",lines:"three"},{default:(0,r.k6)((function(){return[(0,r.bF)(c.U,{class:"font-weight-medium"},{default:(0,r.k6)((function(){return[(0,r.bF)(_,{to:{name:"Individual",params:{mk:n.uuid}},target:"_blank",class:"link--underline"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",{onClick:t[0]||(t[0]=(0,a.D$)((function(){}),["stop"]))},(0,i.v_)(n.name||n.email),1)]})),_:1},8,["to"])]})),_:1}),h.organization?((0,r.uX)(),(0,r.Wv)(f.w,{key:0},{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(h.organization),1)]})),_:1})):(0,r.Q3)("",!0),n.detailed?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(f.w,{key:1},{default:(0,r.k6)((function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.sources,(function(e){return(0,r.uX)(),(0,r.Wv)(p.y,{key:e.name,location:"bottom",transition:"expand-y-transition","open-delay":"300"},{activator:(0,r.k6)((function(t){var n=t.props;return[(0,r.bF)(s.w,(0,r.v6)({ref_for:!0},n,{size:"small",start:""}),{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(e.icon),1)]})),_:2},1040)]})),default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,i.v_)(e.name),1)]})),_:2},1024)})),128))]})),_:1})),n.detailed?((0,r.uX)(),(0,r.CE)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.emails,(function(e,n){return(0,r.uX)(),(0,r.Wv)(f.w,{key:n},{default:(0,r.k6)((function(){return[(0,r.bF)(s.w,{size:"x-small",class:"mr-1"},{default:(0,r.k6)((function(){return t[9]||(t[9]=[(0,r.eW)("mdi-email-outline",-1)])})),_:1,__:[9]}),(0,r.eW)(" "+(0,i.v_)(e),1)]})),_:2},1024)})),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.usernames,(function(e){return(0,r.uX)(),(0,r.CE)(r.FK,null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(JSON.parse(e),(function(e,t){return(0,r.uX)(),(0,r.Wv)(f.w,{key:t},{default:(0,r.k6)((function(){return[(0,r.bF)(s.w,{size:"x-small",class:"mr-1"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,i.v_)(t),1)]})),_:2},1024),(0,r.eW)(" "+(0,i.v_)(e),1)]})),_:2},1024)})),128))],64)})),256))])):(0,r.Q3)("",!0)]})),_:1})]})),append:(0,r.k6)((function(){return[n.isLocked?((0,r.uX)(),(0,r.Wv)(s.w,{key:0,size:"x-small",class:"mr-2"},{default:(0,r.k6)((function(){return t[10]||(t[10]=[(0,r.eW)("mdi-lock",-1)])})),_:1,__:[10]})):(0,r.Q3)("",!0),(0,r.bF)(m.q,{offset:"4",location:"right","close-on-content-click":!1},{activator:(0,r.k6)((function(e){var n=e.props;return[(0,r.bF)(o.D,(0,r.v6)({variant:"text",class:"mr-1",density:"compact",icon:"mdi-magnify-plus-outline"},n,{"data-cy":"expand-button","aria-label":"Expand information",onMousedown:t[1]||(t[1]=(0,a.D$)((function(){}),["stop"])),onKeyup:t[2]||(t[2]=(0,a.D$)((function(){}),["stop"]))}),null,16)]})),default:(0,r.k6)((function(){return[(0,r.bF)(u.J,{class:"pa-1"},{default:(0,r.k6)((function(){return[(0,r.bF)(y,{compact:"",enrollments:n.enrollments,identities:n.identities,uuid:n.uuid},null,8,["enrollments","identities","uuid"])]})),_:1})]})),_:1}),n.closable?((0,r.uX)(),(0,r.Wv)(o.D,{key:1,icon:"mdi-close",density:"compact",variant:"text","aria-label":"Remove",onClick:t[3]||(t[3]=(0,a.D$)((function(t){return e.$emit("remove")}),["stop"])),onMousedown:t[4]||(t[4]=(0,a.D$)((function(){}),["stop"]))})):(0,r.Q3)("",!0)]})),default:(0,r.k6)((function(){return[(0,r.RG)(e.$slots,"default",{},void 0,!0)]})),_:2},[n.recommendation?{name:"actions",fn:(0,r.k6)((function(){return[(0,r.bF)(l.h),(0,r.bF)(o.D,{color:k.state.dismiss?"red-darken-2":"default",class:"v-chip v-chip--label text-caption",variant:"tonal",size:"small",onClick:h.handleDismiss},{default:(0,r.k6)((function(){return[(0,r.bF)(s.w,{start:""},{default:(0,r.k6)((function(){return t[11]||(t[11]=[(0,r.eW)("mdi-close",-1)])})),_:1,__:[11]}),t[12]||(t[12]=(0,r.eW)(" Keep separate ",-1))]})),_:1,__:[12]},8,["color","onClick"]),(0,r.bF)(o.D,{color:k.state.merge?"light-green-darken-2":"default",class:"v-chip v-chip--label text-caption",variant:"tonal",size:"small",onClick:h.handleMerge},{default:(0,r.k6)((function(){return[(0,r.bF)(s.w,{start:""},{default:(0,r.k6)((function(){return t[13]||(t[13]=[(0,r.eW)("mdi-call-merge",-1)])})),_:1,__:[13]}),t[14]||(t[14]=(0,r.eW)(" Merge ",-1))]})),_:1,__:[14]},8,["color","onClick"])]})),key:"0"}:void 0]),1040,["class","ripple","onClick"])}var k=n(74721),h=(n(28706),n(2008),n(10838),n(74423),n(62062),n(18111),n(22489),n(61701),n(26099),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(21699),n(47764),n(62953),n(40018)),b=n(78521);const _={name:"individualcard",components:{Avatar:h.A,ExpandedIndividual:b.A},props:{name:{type:String,required:!1,default:null},email:{type:String,required:!1,default:null},sources:{type:Array,required:!1,default:function(){return[]}},isSelected:{type:Boolean,required:!1,default:!1},uuid:{type:String,required:!0},identities:{type:Array,required:!1},enrollments:{type:Array,required:!1},isHighlighted:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},closable:{type:Boolean,required:!1},selectable:{type:Boolean,required:!1},emails:{type:[Set,Array],required:!1},usernames:{type:[Set,Array],required:!1},detailed:{type:Boolean,required:!1,default:!1},recommendation:{type:Boolean,required:!1,default:!1}},data:function(){return{isDragging:!1,state:{merge:!1,dismiss:!1}}},computed:{organization:function(){return this.enrollments&&this.enrollments.length>0?this.enrollments.findLast((function(e){return!e.group.parentOrg})).group.name:null}},methods:{selectSourceIcon:function(e){var t=e.toLowerCase();return"others"===t?"mdi-account-multiple":"mdi-".concat(t)},onDrop:function(e){if(this.isDragging=!1,!this.isLocked){var t=e.dataTransfer.getData("type");"move"===t?this.moveIndividual(e):e.dataTransfer.getData("group")?this.enrollIndividual(e):this.mergeIndividuals(e)}},selectIndividual:function(){this.$emit("select")},moveIndividual:function(e){var t=e.dataTransfer.getData("uuid");this.$emit("move",{fromUuid:t,toUuid:this.uuid})},mergeIndividuals:function(e){var t=JSON.parse(e.dataTransfer.getData("individuals")),n=t.filter((function(e){return!e.isLocked})).map((function(e){return e.uuid}));n.length>0&&this.$emit("merge",[this.uuid].concat((0,k.A)(n)))},enrollIndividual:function(e){var t=e.dataTransfer.getData("group"),n=e.dataTransfer.getData("parentorg");this.$emit("enroll",{group:t,parentOrg:n})},isDropZone:function(e,t){var n=e.dataTransfer.types;t&&!n.includes("lockactions")?this.isDragging=!0:this.isDragging=!1},handleMerge:function(){this.state.merge?(this.state.merge=!1,this.$emit("apply",null)):(this.state.merge=!0,this.$emit("apply",!0),this.state.dismiss&&(this.state.dismiss=!1))},handleDismiss:function(){this.state.dismiss?(this.state.dismiss=!1,this.$emit("apply",null)):(this.state.dismiss=!0,this.$emit("apply",!1),this.state.merge&&(this.state.merge=!1))}}};var y=n(64621);const F=(0,y.A)(_,[["render",v],["__scopeId","data-v-29466d81"]]),D=F},40018:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(20641),a=n(90033),i=n(73416),o=["src"],u={class:"text-white"};function l(e,t,n,l,s,d){return(0,r.uX)(),(0,r.Wv)(i.y,{color:d.getAvatarColor,size:n.size},{default:(0,r.k6)((function(){return[n.email?((0,r.uX)(),(0,r.CE)("img",{key:0,src:d.getGravatar,style:(0,a.Tr)({width:"".concat(n.size+2,"px"),height:"".concat(n.size+2,"px")}),"aria-hidden":"true"},null,12,o)):(0,r.Q3)("",!0),(0,r.Lk)("span",u,(0,a.v_)(d.getNameInitials),1)]})),_:1},8,["color","size"])}n(48598),n(62062),n(62010),n(18111),n(61701),n(2892),n(26099),n(42762);var s=n(83503),d=n.n(s),c=["#f41900","#E35017","#F58E0C","#f4bc00","#3fa500","#436436","#00a156","#003756","#0090E3","#0B22E3","#7218F5","#6b00f4","#3c0056","#bc00f4","#a5003f","#F52537"];const f={props:{name:{type:String,required:!1},email:{type:String,required:!1},size:{type:Number,required:!1,default:40}},computed:{getAvatarColor:function(){var e=this.getNameInitials.split("").map((function(e){return e.charCodeAt(0)})).join(""),t=e%c.length;return c[t]},getGravatar:function(){if(this.email){var e=d()(this.email.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(e,".jpg?d=blank&s=40")}return null},getNameInitials:function(){var e=this.name||this.email||"",t=e.split(" "),n=t[0].substring(0,1).toUpperCase();return t.length>1&&(n+=t[t.length-1].substring(0,1).toUpperCase()),n}}};var m=n(64621);const p=(0,m.A)(f,[["render",l],["__scopeId","data-v-c0142cc6"]]),g=p},43839:(e,t,n)=>{"use strict";var r=n(76080),a=n(47055),i=n(48981),o=n(26198),u=function(e){var t=1===e;return function(n,u,l){var s,d,c=i(n),f=a(c),m=o(f),p=r(u,l);while(m-- >0)if(s=f[m],d=p(s,m,c),d)switch(e){case 0:return s;case 1:return m}return t?-1:void 0}};e.exports={findLast:u(0),findLastIndex:u(1)}},44966:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});n(62010);var r=n(20641),a=n(90033),i=n(13892),o=n(4189),u=n(30697),l=n(93745),s=n(56756),d=n(35526),c=n(41720),f=n(79669),m=n(86449),p=n(88249),g=n(83260),v=n(51161),k={class:"pb-2"},h={class:"text-subtitle-2"},b={key:0},_={key:0},y=["disabled"],F={class:"grey--text text--darken-2"},D=["disabled"],x={class:"grey--text text--darken-2"};function C(e,t,n,C,w,L){var V=(0,r.g2)("date-input");return(0,r.uX)(),(0,r.CE)("div",k,[(0,r.bF)(m.w,{class:"mb-2"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",h," Organizations ("+(0,a.v_)(w.items.length)+") ",1),n.compact?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",b,[(0,r.bF)(i.D,{class:"mr-4",size:"small",variant:"outlined",disabled:n.isLocked,onClick:t[0]||(t[0]=function(t){return e.$emit("openEnrollmentModal")})},{default:(0,r.k6)((function(){return[(0,r.bF)(f.w,{size:"small",start:""},{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("mdi-plus",-1)])})),_:1,__:[1]}),t[2]||(t[2]=(0,r.eW)(" Add ",-1))]})),_:1,__:[2]},8,["disabled"]),(0,r.bF)(i.D,{size:"small",variant:"outlined",disabled:n.enrollments.length<1||n.isLocked,onClick:L.withdrawAll},{default:(0,r.k6)((function(){return[(0,r.bF)(f.w,{size:"small",start:""},{default:(0,r.k6)((function(){return t[3]||(t[3]=[(0,r.eW)("mdi-delete",-1)])})),_:1,__:[3]}),t[4]||(t[4]=(0,r.eW)(" Remove all ",-1))]})),_:1,__:[4]},8,["disabled","onClick"])]))]})),_:1}),n.compact?((0,r.uX)(),(0,r.Wv)(g.Z,{key:0,density:"compact"},{default:(0,r.k6)((function(){return[n.enrollments.length>0?((0,r.uX)(),(0,r.CE)("thead",_,t[5]||(t[5]=[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"text-left"},"Name"),(0,r.Lk)("th",{class:"text-left"},"From"),(0,r.Lk)("th",{class:"text-left"},"To")],-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.enrollments,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.name},[(0,r.Lk)("td",null,(0,a.v_)(e.group.name),1),(0,r.Lk)("td",null,(0,a.v_)(L.formatDate(e.start)),1),(0,r.Lk)("td",null,(0,a.v_)(L.formatDate(e.end)),1)])})),128))])]})),_:1})):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(w.items,(function(m){return(0,r.uX)(),(0,r.Wv)(s.L,{key:m.id,class:"mx-2"},{default:(0,r.k6)((function(){return[(0,r.bF)(d.B,{cols:"1",class:"pl-2"},{default:(0,r.k6)((function(){return[m.group.parentOrg?((0,r.uX)(),(0,r.Wv)(v.y,{key:1,location:"bottom"},{activator:(0,r.k6)((function(e){var n=e.props;return[(0,r.bF)(f.w,(0,r.v6)({ref_for:!0},n,{class:"mr-3"}),{default:(0,r.k6)((function(){return t[8]||(t[8]=[(0,r.eW)(" mdi-account-multiple ",-1)])})),_:2,__:[8]},1040)]})),default:(0,r.k6)((function(){return[t[9]||(t[9]=(0,r.Lk)("span",null,"Team",-1))]})),_:1,__:[9]})):((0,r.uX)(),(0,r.Wv)(v.y,{key:0,location:"bottom"},{activator:(0,r.k6)((function(e){var n=e.props;return[(0,r.bF)(f.w,(0,r.v6)({ref_for:!0},n,{class:"mr-3"}),{default:(0,r.k6)((function(){return t[6]||(t[6]=[(0,r.eW)(" mdi-sitemap ",-1)])})),_:2,__:[6]},1040)]})),default:(0,r.k6)((function(){return[t[7]||(t[7]=(0,r.Lk)("span",null,"Organization",-1))]})),_:1,__:[7]}))]})),_:2},1024),(0,r.bF)(d.B,{cols:"2"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(m.group.name),1)]})),_:2},1024),(0,r.bF)(d.B,{cols:"2"},{default:(0,r.k6)((function(){return[(0,r.bF)(p.q,{modelValue:m.form.fromDateMenu,"onUpdate:modelValue":function(e){return m.form.fromDateMenu=e},"close-on-content-click":!1,"return-value":m.form.fromDate,"onUpdate:returnValue":function(e){return m.form.fromDate=e},transition:"scale-transition","offset-y":"","min-width":"290px"},{activator:(0,r.k6)((function(e){var i=e.props;return[(0,r.Lk)("button",(0,r.v6)({disabled:n.isLocked},{ref_for:!0},i,{class:"v-small-dialog__activator"}),[(0,r.Lk)("span",F,(0,a.v_)(L.formatDate(m.start)),1),(0,r.bF)(f.w,{size:"small",end:""},{default:(0,r.k6)((function(){return t[10]||(t[10]=[(0,r.eW)(" mdi-lead-pencil ",-1)])})),_:1,__:[10]})],16,y)]})),default:(0,r.k6)((function(){return[(0,r.bF)(o.J,{"min-width":"180"},{default:(0,r.k6)((function(){return[(0,r.bF)(u.O,null,{default:(0,r.k6)((function(){return[(0,r.bF)(V,{modelValue:m.form.fromDate,"onUpdate:modelValue":function(e){return m.form.fromDate=e},label:"Date from","nudge-top":"20","nudge-right":"10",max:m.end},null,8,["modelValue","onUpdate:modelValue","max"])]})),_:2},1024),(0,r.bF)(l.S,{class:"pt-0"},{default:(0,r.k6)((function(){return[(0,r.bF)(c.h),(0,r.bF)(i.D,{text:"",color:"primary",onClick:function(e){return m.form.fromDateMenu=!1}},{default:(0,r.k6)((function(){return t[11]||(t[11]=[(0,r.eW)(" Cancel ",-1)])})),_:2,__:[11]},1032,["onClick"]),(0,r.bF)(i.D,{disabled:!m.form.fromDate,color:"primary",text:"",onClick:function(t){var n;e.$emit("updateEnrollment",{fromDate:m.start,toDate:m.end,newFromDate:m.form.fromDate,group:m.group.name,parentOrg:null===(n=m.group.parentOrg)||void 0===n?void 0:n.name}),m.form.fromDateMenu=!1}},{default:(0,r.k6)((function(){return t[12]||(t[12]=[(0,r.eW)(" Save ",-1)])})),_:2,__:[12]},1032,["disabled","onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["modelValue","onUpdate:modelValue","return-value","onUpdate:returnValue"])]})),_:2},1024),(0,r.bF)(d.B,{cols:"2"},{default:(0,r.k6)((function(){return[(0,r.bF)(p.q,{modelValue:m.form.toDateMenu,"onUpdate:modelValue":function(e){return m.form.toDateMenu=e},"close-on-content-click":!1,"return-value":m.form.toDate,"onUpdate:returnValue":function(e){return m.form.toDate=e},transition:"scale-transition","offset-y":"","min-width":"290px"},{activator:(0,r.k6)((function(e){var i=e.props;return[(0,r.Lk)("button",(0,r.v6)({disabled:n.isLocked},{ref_for:!0},i,{class:"v-small-dialog__activator"}),[(0,r.Lk)("span",x,(0,a.v_)(L.formatDate(m.end)),1),(0,r.bF)(f.w,{size:"small",end:""},{default:(0,r.k6)((function(){return t[13]||(t[13]=[(0,r.eW)(" mdi-lead-pencil ",-1)])})),_:1,__:[13]})],16,D)]})),default:(0,r.k6)((function(){return[(0,r.bF)(o.J,{"min-width":"180"},{default:(0,r.k6)((function(){return[(0,r.bF)(u.O,null,{default:(0,r.k6)((function(){return[(0,r.bF)(V,{modelValue:m.form.toDate,"onUpdate:modelValue":function(e){return m.form.toDate=e},min:m.start,label:"Date to","nudge-top":"20","nudge-right":"10"},null,8,["modelValue","onUpdate:modelValue","min"])]})),_:2},1024),(0,r.bF)(l.S,{class:"pt-0"},{default:(0,r.k6)((function(){return[(0,r.bF)(c.h),(0,r.bF)(i.D,{text:"",color:"primary",onClick:function(e){return m.form.toDateMenu=!1}},{default:(0,r.k6)((function(){return t[14]||(t[14]=[(0,r.eW)(" Cancel ",-1)])})),_:2,__:[14]},1032,["onClick"]),(0,r.bF)(i.D,{disabled:!m.form.toDate,color:"primary",text:"",onClick:function(t){var n;e.$emit("updateEnrollment",{fromDate:m.start,toDate:m.end,newToDate:m.form.toDate,group:m.group.name,parentOrg:null===(n=m.group.parentOrg)||void 0===n?void 0:n.name}),m.form.toDateMenu=!1}},{default:(0,r.k6)((function(){return t[15]||(t[15]=[(0,r.eW)(" Save ",-1)])})),_:2,__:[15]},1032,["disabled","onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["modelValue","onUpdate:modelValue","return-value","onUpdate:returnValue"])]})),_:2},1024),(0,r.bF)(d.B,{class:"d-flex justify-end align-center pr-1"},{default:(0,r.k6)((function(){return[(0,r.bF)(v.y,{location:"bottom",transition:"expand-y-transition","open-delay":"200"},{activator:(0,r.k6)((function(t){var a=t.props;return[m.group.numchild>0?((0,r.uX)(),(0,r.Wv)(i.D,(0,r.v6)({key:0,ref_for:!0},a,{disabled:n.isLocked,"aria-label":"Add to team",icon:"mdi-plus",variant:"text",onClick:function(t){return e.$emit("openTeamModal",m.group.name)}}),null,16,["disabled","onClick"])):(0,r.Q3)("",!0)]})),default:(0,r.k6)((function(){return[t[16]||(t[16]=(0,r.Lk)("span",null,"Add to team",-1))]})),_:2,__:[16]},1024),(0,r.bF)(v.y,{location:"bottom",transition:"expand-y-transition","open-delay":"200"},{activator:(0,r.k6)((function(t){var a=t.props;return[(0,r.bF)(i.D,(0,r.v6)({ref_for:!0},a,{"aria-label":"Remove affiliation",icon:"mdi-delete",variant:"text",disabled:n.isLocked,onClick:function(t){var n;return e.$emit("withdraw",{name:m.group.name,fromDate:m.start,toDate:m.end,parentOrg:null===(n=m.group.parentOrg)||void 0===n?void 0:n.name})}}),null,16,["disabled","onClick"])]})),default:(0,r.k6)((function(){return[t[17]||(t[17]=(0,r.Lk)("span",null,"Remove affiliation",-1))]})),_:2,__:[17]},1024)]})),_:2},1024)]})),_:2},1024)})),128))])}n(51629),n(62062),n(18111),n(7588),n(61701),n(26099),n(23500);var w=n(71721);const L={name:"EnrollmentList",components:{DateInput:w.A},props:{enrollments:{type:Array,required:!0},compact:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1}},data:function(){return{items:{}}},methods:{formatDate:function(e){return e.split("T")[0]},createForms:function(e){return e.map((function(e){var t={fromDate:e.start.split("T")[0],fromDateMenu:!1,toDate:e.end.split("T")[0],toDateMenu:!1};return Object.assign({},e,{form:t})}))},withdrawAll:function(){var e=this;this.enrollments.forEach((function(t){e.$emit("withdraw",{name:t.group.name,fromDate:t.start,toDate:t.end,parentOrg:t.group.parentOrg?t.group.parentOrg.name:null})}))}},watch:{enrollments:function(e){this.items=this.createForms(e)}},created:function(){this.items=this.createForms(this.enrollments)}};var V=n(64621);const z=(0,V.A)(L,[["render",C],["__scopeId","data-v-58815c52"]]),A=z},54640:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(20641),a=n(90033),i=n(53751),o=n(31969),u=n(13892),l=n(4189),s=n(91606),d=n(30697),c=n(93745),f=n(91772),m=n(1560),p=n(56756),g=n(35526),v=n(41720),k=n(43948),h={key:0,class:"title"},b={key:1,class:"title"};function _(e,t,n,_,y,F){var D=(0,r.g2)("date-input");return(0,r.uX)(),(0,r.Wv)(f.p,{"model-value":n.isOpen,persistent:"","max-width":"650"},{default:(0,r.k6)((function(){return[(0,r.bF)(l.J,{class:"section"},{default:(0,r.k6)((function(){return[(0,r.bF)(s.r,{class:"header"},{default:(0,r.k6)((function(){return[n.team?((0,r.uX)(),(0,r.CE)("span",h," Add to "+(0,a.v_)(n.team)+" in "+(0,a.v_)(n.organization),1)):((0,r.uX)(),(0,r.CE)("span",b,"Add to "+(0,a.v_)(n.organization)+" team",1))]})),_:1}),(0,r.bF)(d.O,{class:"mt-3"},{default:(0,r.k6)((function(){return[(0,r.bF)(m.n,{ref:"form"},{default:(0,r.k6)((function(){return[(0,r.bF)(p.L,null,{default:(0,r.k6)((function(){return[n.team?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(g.B,{key:0,cols:"4"},{default:(0,r.k6)((function(){return[(0,r.bF)(k.W,{modelValue:y.form.team,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y.form.team=e}),rules:y.validations.required,label:"Team",outlined:"",dense:""},null,8,["modelValue","rules"])]})),_:1})),(0,r.bF)(g.B,{cols:n.team?6:4},{default:(0,r.k6)((function(){return[(0,r.bF)(D,{modelValue:y.form.dateFrom,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y.form.dateFrom=e}),max:y.form.dateTo,label:"Date from",outlined:""},null,8,["modelValue","max"])]})),_:1},8,["cols"]),(0,r.bF)(g.B,{cols:n.team?6:4},{default:(0,r.k6)((function(){return[(0,r.bF)(D,{modelValue:y.form.dateTo,"onUpdate:modelValue":t[2]||(t[2]=function(e){return y.form.dateTo=e}),min:y.form.dateFrom,label:"Date to",outlined:""},null,8,["modelValue","min"])]})),_:1},8,["cols"])]})),_:1})]})),_:1},512),y.errorMessage?((0,r.uX)(),(0,r.Wv)(o.l,{key:0,text:"",type:"error"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(y.errorMessage),1)]})),_:1})):(0,r.Q3)("",!0),(0,r.bF)(c.S,null,{default:(0,r.k6)((function(){return[(0,r.bF)(v.h),(0,r.bF)(u.D,{color:"primary darken-1",variant:"text",onClick:(0,i.D$)(F.closeModal,["prevent"])},{default:(0,r.k6)((function(){return t[3]||(t[3]=[(0,r.eW)(" Cancel ",-1)])})),_:1,__:[3]},8,["onClick"]),(0,r.bF)(u.D,{variant:"flat",color:"primary",disabled:!n.team&&!y.form.team,onClick:(0,i.D$)(F.onSave,["prevent"])},{default:(0,r.k6)((function(){return t[4]||(t[4]=[(0,r.eW)(" Save ",-1)])})),_:1,__:[4]},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model-value"])}var y=n(14048),F=n(30388),D=(n(28706),n(15086),n(62010),n(18111),n(13579),n(26099),n(71721));const x={name:"TeamEnrollModal",components:{DateInput:D.A},props:{isOpen:{type:Boolean,required:!1,default:!1},uuid:{type:String,required:!0},enrollments:{type:Array,required:!1},organization:{type:String,required:!1},team:{type:String,required:!1},enroll:{type:Function,required:!0}},data:function(){return{form:{team:null,dateFrom:null,dateTo:null},validations:{required:[function(e){return!!e||"Required"}]},errorMessage:null}},methods:{closeModal:function(){this.$emit("update:isOpen",!1),this.$emit("updateTable"),this.$refs.form.reset(),this.form=[{team:null,dateFrom:null,dateTo:null}],this.errorMessage=null},onSave:function(){var e=this;return(0,F.A)((0,y.A)().mark((function t(){var n,r,a;return(0,y.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$refs.form.validate(),n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r=e.team||e.form.team,e.enrollments.some((function(t){return t.group.name===e.organization}))||e.enroll(e.uuid,e.organization,e.form.dateFrom,e.form.dateTo),t.next=8,e.enroll(e.uuid,r,e.form.dateFrom,e.form.dateTo,e.organization);case 8:a=t.sent,a&&!a.errors&&(e.$logger.debug("Enrolled individual ".concat(e.uuid),{uuid:e.uuid,group:r,parentOrg:e.organization,fromDate:e.form.dateFrom,toDate:e.form.dateTo}),e.$emit("updateIndividual",a.data.enroll.individual),e.closeModal()),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](3),e.errorMessage=e.$getErrorMessage(t.t0),e.$logger.error("Error enrolling individual ".concat(e.uuid,": ").concat(t.t0),e.form);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))()}}};var C=n(64621);const w=(0,C.A)(x,[["render",_]]),L=w},56105:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(20641),a=n(90033),i=n(31969),o=n(13892),u=n(4189),l=n(91606),s=n(30697),d=n(93745),c=n(91772),f=n(56756),m=n(35526),p=n(41720),g={key:0,class:"pt-2 pb-2 text-body-2"},v={key:1,class:"subheader"};function k(e,t,n,k,h,b){var _=(0,r.g2)("organization-selector"),y=(0,r.g2)("date-input");return(0,r.uX)(),(0,r.Wv)(c.p,{"model-value":n.isOpen,"max-width":n.organization?"550px":"740px"},{default:(0,r.k6)((function(){return[(0,r.bF)(u.J,{class:"pa-3"},{default:(0,r.k6)((function(){return[(0,r.bF)(l.r,{class:"headline"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(n.title),1)]})),_:1}),(0,r.bF)(s.O,null,{default:(0,r.k6)((function(){return[n.text?((0,r.uX)(),(0,r.CE)("p",g,(0,a.v_)(n.text),1)):(0,r.Q3)("",!0),n.organization?((0,r.uX)(),(0,r.CE)("h6",v," Enrollment dates (optional) ")):(0,r.Q3)("",!0),(0,r.bF)(f.L,null,{default:(0,r.k6)((function(){return[n.organization?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(m.B,{key:0,cols:"6"},{default:(0,r.k6)((function(){return[(0,r.bF)(_,{modelValue:h.form.organization,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.form.organization=e}),"add-organization":n.addOrganization,"fetch-organizations":n.fetchOrganizations,onError:t[1]||(t[1]=function(e){return h.errorMessage=e})},null,8,["modelValue","add-organization","fetch-organizations"])]})),_:1})),(0,r.bF)(m.B,{cols:n.organization?6:3},{default:(0,r.k6)((function(){return[(0,r.bF)(y,{modelValue:h.form.dateFrom,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.dateFrom=e}),label:"Date from",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["cols"]),(0,r.bF)(m.B,{cols:n.organization?6:3},{default:(0,r.k6)((function(){return[(0,r.bF)(y,{modelValue:h.form.dateTo,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.dateTo=e}),label:"Date to",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["cols"])]})),_:1}),h.errorMessage?((0,r.uX)(),(0,r.Wv)(i.l,{key:2,variant:"tonal",type:"error"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(h.errorMessage),1)]})),_:1})):(0,r.Q3)("",!0)]})),_:1}),(0,r.bF)(d.S,null,{default:(0,r.k6)((function(){return[(0,r.bF)(p.h),(0,r.bF)(o.D,{variant:"text",onClick:b.onClose},{default:(0,r.k6)((function(){return t[4]||(t[4]=[(0,r.eW)(" Cancel ",-1)])})),_:1,__:[4]},8,["onClick"]),(0,r.bF)(o.D,{disabled:!n.organization&&!h.form.organization,color:"primary",id:"confirm",variant:"flat",onClick:b.onSave},{default:(0,r.k6)((function(){return t[5]||(t[5]=[(0,r.eW)(" Confirm ",-1)])})),_:1,__:[5]},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1},8,["model-value","max-width"])}var h=n(14048),b=n(30388),_=n(71721),y=n(62477);const F={name:"EnrollModal",components:{DateInput:_.A,OrganizationSelector:y.A},props:{isOpen:{type:Boolean,required:!0},enroll:{type:Function,required:!0},uuid:{type:String,required:!1},title:{type:String,required:!1},text:{type:String,required:!1},organization:{type:String,required:!1},addOrganization:{type:Function,required:!1,default:function(){}},fetchOrganizations:{type:Function,required:!1,default:function(){}}},data:function(){return{form:{organization:this.organization,dateFrom:"",dateTo:""},errorMessage:""}},methods:{onSave:function(){var e=this;return(0,b.A)((0,h.A)().mark((function t(){return(0,h.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.enroll(e.uuid,e.form.organization,e.form.dateFrom,e.form.dateTo);case 3:e.onClose(),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),e.errorMessage=e.$getErrorMessage(t.t0),e.$logger.error("Error enrolling individual: ".concat(t.t0),e.form);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onClose:function(){this.$emit("update:isOpen",!1),this.form={organization:this.organization,dateFrom:"",dateTo:""},this.errorMessage=""}},watch:{organization:function(e){this.form.organization=e}}};var D=n(64621);const x=(0,D.A)(F,[["render",k],["__scopeId","data-v-65b7cc04"]]),C=x},57712:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});n(62010);var r=n(20641),a=n(90033),i=n(13892),o=n(4189),u=n(85832),l=n(79669),s=n(86449),d=n(69915),c=n(57254),f=n(83260),m=n(51161),p={class:"text-subtitle-2"},g={key:0};function v(e,t,n,v,k,h){var b=(0,r.g2)("identity");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s.w,null,{default:(0,r.k6)((function(){return[(0,r.Lk)("span",p,"Identities ("+(0,a.v_)(h.identitiesCount)+")",1),n.compact?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(i.D,{key:0,disabled:1===h.identitiesCount||n.isLocked,onClick:h.splitAll},{default:(0,r.k6)((function(){return[(0,r.bF)(l.w,{size:"small",start:""},{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("mdi-call-split",-1)])})),_:1,__:[1]}),t[2]||(t[2]=(0,r.eW)(" Split all ",-1))]})),_:1,__:[2]},8,["disabled","onClick"]))]})),_:1}),n.compact?((0,r.uX)(),(0,r.Wv)(f.Z,{key:0,density:"compact"},{default:(0,r.k6)((function(){return[h.identitiesCount>0?((0,r.uX)(),(0,r.CE)("thead",g,t[3]||(t[3]=[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"text-left"},"Name"),(0,r.Lk)("th",{class:"text-left"},"Email"),(0,r.Lk)("th",{class:"text-left"},"Username"),(0,r.Lk)("th",{class:"text-left"},"Source")],-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.flatIdentities,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e.uuid},[(0,r.Lk)("td",null,(0,a.v_)(e.name||"-"),1),(0,r.Lk)("td",null,(0,a.v_)(e.email||"-"),1),(0,r.Lk)("td",null,(0,a.v_)(e.username||"-"),1),(0,r.Lk)("td",null,[(0,r.bF)(m.y,{location:"bottom",transition:"expand-y-transition","open-delay":"300"},{activator:(0,r.k6)((function(t){var n=t.props;return[(0,r.bF)(l.w,(0,r.v6)({ref_for:!0},n,{size:"small"}),{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(e.icon),1)]})),_:2},1040)]})),default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,a.v_)(e.source.toLowerCase()),1)]})),_:2},1024)])])})),128))])]})),_:1})):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(n.identities,(function(o,u){return(0,r.uX)(),(0,r.Wv)(d.x8,{key:o.name,class:(0,a.C4)([{"row-border":u!==n.identities.length-1},"indented"]),dense:""},{default:(0,r.k6)((function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.sortSources(o.identities,"source"),(function(u,s){return(0,r.uX)(),(0,r.Wv)(c.g,{class:(0,a.C4)({draggable:n.draggable&&u.uuid!==n.uuid}),key:u.uuid,draggable:n.draggable&&!n.isLocked&&u.uuid!==n.uuid,onDragstart:function(e){return h.startDrag(u,e)},onDragend:t[0]||(t[0]=function(e){return h.dragEnd(e)})},{prepend:(0,r.k6)((function(){return[(0,r.bF)(m.y,{location:"bottom",transition:"expand-y-transition","open-delay":"300"},{activator:(0,r.k6)((function(e){var t=e.props;return[0===s?((0,r.uX)(),(0,r.Wv)(l.w,(0,r.v6)({key:0,ref_for:!0},t),{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(o.icon),1)]})),_:2},1040)):(0,r.Q3)("",!0)]})),default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,a.v_)(o.name),1)]})),_:2},1024)]})),append:(0,r.k6)((function(){return[(0,r.bF)(m.y,{location:"bottom",transition:"expand-y-transition","open-delay":"200"},{activator:(0,r.k6)((function(t){var a=t.props;return[(0,r.bF)(i.D,(0,r.v6)({icon:"mdi-call-split",variant:"text",disabled:u.uuid===n.uuid||n.isLocked},{ref_for:!0},a,{onClick:function(t){return e.$emit("unmerge",[u.uuid,n.uuid])}}),null,16,["disabled","onClick"])]})),default:(0,r.k6)((function(){return[t[4]||(t[4]=(0,r.Lk)("span",null,"Split identity",-1))]})),_:2,__:[4]},1024),(0,r.bF)(m.y,{location:"bottom",transition:"expand-y-transition","open-delay":"200"},{activator:(0,r.k6)((function(e){var a=e.props;return[n.draggable?((0,r.uX)(),(0,r.Wv)(l.w,(0,r.v6)({key:0,disabled:u.uuid===n.uuid||n.isLocked},{ref_for:!0},a),{default:(0,r.k6)((function(){return t[5]||(t[5]=[(0,r.eW)(" mdi-drag-vertical ",-1)])})),_:2,__:[5]},1040,["disabled"])):(0,r.Q3)("",!0)]})),default:(0,r.k6)((function(){return[t[6]||(t[6]=(0,r.Lk)("span",null,"Move identity",-1))]})),_:2,__:[6]},1024)]})),default:(0,r.k6)((function(){return[(0,r.bF)(b,{uuid:u.uuid,name:u.name,email:u.email,username:u.username,source:u.source||o.name,"is-main":u.uuid===n.uuid},null,8,["uuid","name","email","username","source","is-main"])]})),_:2},1032,["class","draggable","onDragstart"])})),128))]})),_:2},1032,["class"])})),128)),(0,r.bF)(o.J,{class:"dragged-identity",color:"primary",dark:""},{default:(0,r.k6)((function(){return[(0,r.bF)(u.Z,null,{default:(0,r.k6)((function(){return t[7]||(t[7]=[(0,r.eW)(" Moving 1 identity",-1)])})),_:1,__:[7]})]})),_:1})])}n(46449),n(62062),n(72712),n(34782),n(26910),n(93514),n(18111),n(61701),n(18237),n(26099);var k=n(87524),h=n(56756),b=n(35526),_={class:"clip mr-1"},y={key:0,class:"d-sr-only"},F={class:"text-break"},D=["href"],x=["href"],C={key:2,class:"text-break"};function w(e,t,n,o,u,s){return(0,r.uX)(),(0,r.Wv)(h.L,{class:"d-flex align-center flex-nowrap","no-gutters":""},{default:(0,r.k6)((function(){return[(0,r.bF)(b.B,{class:"uuid d-flex align-center"},{default:(0,r.k6)((function(){return[(0,r.bF)(k.x,{class:(0,a.C4)(["text-center pr-2",{"v-chip--border":n.isMain}]),variant:n.isMain?"tonal":"outlined"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",_,(0,a.v_)(n.uuid),1),n.isMain?((0,r.uX)(),(0,r.CE)("span",y," Main identity ")):(0,r.Q3)("",!0),(0,r.bF)(m.y,{"open-delay":"100",location:"bottom"},{activator:(0,r.k6)((function(e){var a=e.props;return[(0,r.bF)(i.D,(0,r.v6)(a,{density:"comfortable",icon:"mdi-content-copy",size:"small",variant:"text",onClick:t[0]||(t[0]=function(e){return s.copy(n.uuid)}),onMouseenter:s.resetCopyText}),null,16,["onMouseenter"])]})),default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,a.v_)(e.tooltip),1)]})),_:1})]})),_:1},8,["class","variant"])]})),_:1}),(0,r.bF)(b.B,{class:"ma-2",md:"2"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,a.v_)(n.name),1)]})),_:1}),(0,r.bF)(b.B,{class:"ma-2",cols:"3"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",F,(0,a.v_)(n.email),1)]})),_:1}),(0,r.bF)(b.B,{class:"ma-2"},{default:(0,r.k6)((function(){var e,i;return["github"===(null===(e=n.source)||void 0===e?void 0:e.toLowerCase())?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"http://github.com/".concat(n.username),class:"link--underline font-weight-regular",target:"_blank"},[(0,r.eW)((0,a.v_)(n.username)+" ",1),(0,r.bF)(l.w,{size:"x-small",end:""},{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("mdi-open-in-new",-1)])})),_:1,__:[1]})],8,D)):"linkedin"===(null===(i=n.source)||void 0===i?void 0:i.toLowerCase())?((0,r.uX)(),(0,r.CE)("a",{key:1,href:"https://www.linkedin.com/in/".concat(n.username),class:"link--underline font-weight-regular",target:"_blank"},[(0,r.eW)((0,a.v_)(n.username)+" ",1),(0,r.bF)(l.w,{size:"x-small",end:""},{default:(0,r.k6)((function(){return t[2]||(t[2]=[(0,r.eW)("mdi-open-in-new",-1)])})),_:1,__:[2]})],8,x)):((0,r.uX)(),(0,r.CE)("span",C,(0,a.v_)(n.username),1))]})),_:1}),null!==n.source?((0,r.uX)(),(0,r.Wv)(b.B,{key:0,class:"ma-2"},{default:(0,r.k6)((function(){return[(0,r.Lk)("span",null,(0,a.v_)(n.source),1)]})),_:1})):(0,r.Q3)("",!0)]})),_:1})}var L="Copy full UUID",V="Copied";const z={name:"identity",props:{uuid:{type:String,required:!0},name:{type:String,required:!1},email:{type:String,required:!1},username:{type:String,required:!1},source:{type:String,required:!1,default:null},isMain:{type:Boolean,required:!1}},data:function(){return{tooltip:L}},methods:{copy:function(e){var t=this;navigator.clipboard.writeText(e).then((function(){t.tooltip=V}))},resetCopyText:function(){this.tooltip=L}}};var A=n(64621);const W=(0,A.A)(z,[["render",w],["__scopeId","data-v-82224040"]]),S=W,q={name:"IdentitiesList",components:{Identity:S},props:{identities:{type:Array,required:!0},isLocked:{type:Boolean,required:!1,default:!1},compact:{type:Boolean,required:!1,default:!1},uuid:{type:String,required:!0},draggable:{type:Boolean,required:!1,default:!1}},methods:{sortSources:function(e,t){return e.slice().sort((function(e,n){var r=e[t].toLowerCase(),a=n[t].toLowerCase();return r.localeCompare(a)}))},startDrag:function(e,t){var n=document.querySelector(".dragged-identity");t.dataTransfer.setDragImage(n,0,0),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("type","move"),t.dataTransfer.setData("uuid",e.uuid),t.target.classList.add("dragging")},dragEnd:function(e){e.target.classList.remove("dragging")},splitAll:function(){var e=this.flatIdentities.map((function(e){return e.uuid}));this.$emit("unmerge",e)}},computed:{identitiesCount:function(){return this.identities.reduce((function(e,t){return e+t.identities.length}),0)},sources:function(){return this.identities.map((function(e){return e.name}))},flatIdentities:function(){return this.identities.map((function(e){return e.identities.map((function(t){return Object.assign({icon:e.icon},t)}))})).flat()}}},M=(0,A.A)(q,[["render",v],["__scopeId","data-v-5d95be59"]]),O=M},57884:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(20641),a=n(90033),i=n(53751),o=n(31969),u=n(13892),l=n(4189),s=n(91606),d=n(30697),c=n(93745),f=n(40276),m=n(91772),p=n(7511),g=n(41720),v={class:"my-4"};function k(e,t,n,k,h,b){var _=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.Wv)(m.p,{modelValue:n.isOpen,"max-width":"500px","onClick:outside":b.closeModal},{default:(0,r.k6)((function(){return[(0,r.bF)(l.J,{class:"pa-3"},{default:(0,r.k6)((function(){return[(0,r.bF)(s.r,{class:"headline"},{default:(0,r.k6)((function(){return t[7]||(t[7]=[(0,r.eW)("Recommend matches",-1)])})),_:1,__:[7]}),h.jobId?((0,r.uX)(),(0,r.Wv)(d.O,{key:0},{default:(0,r.k6)((function(){return[(0,r.bF)(o.l,{type:"success",text:""},{default:(0,r.k6)((function(){return[(0,r.Lk)("p",null,[t[8]||(t[8]=(0,r.eW)(" Enqueued job ",-1)),(0,r.Lk)("code",null,(0,a.v_)(h.jobId),1),t[9]||(t[9]=(0,r.eW)(" to recommend matches. ",-1))]),(0,r.bF)(_,{to:{name:"SettingsJobs"},target:"_blank"},{default:(0,r.k6)((function(){return t[10]||(t[10]=[(0,r.eW)(" View jobs ",-1)])})),_:1,__:[10]})]})),_:1})]})),_:1})):((0,r.uX)(),(0,r.Wv)(d.O,{key:1},{default:(0,r.k6)((function(){return[t[11]||(t[11]=(0,r.Lk)("p",{class:"subtitle-2 mt-2"}," Find possible matches based on this profile's: ",-1)),(0,r.Lk)("div",null,[(0,r.bF)(f.a,{modelValue:h.form.criteria,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.form.criteria=e}),label:"Name",value:"name",dense:"","hide-details":""},null,8,["modelValue"]),(0,r.bF)(f.a,{modelValue:h.form.criteria,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.criteria=e}),label:"Email",value:"email",dense:"","hide-details":""},null,8,["modelValue"]),(0,r.bF)(f.a,{modelValue:h.form.criteria,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.criteria=e}),label:"Username",value:"username",dense:"","hide-details":""},null,8,["modelValue"]),(0,r.bF)(f.a,{class:"ml-4",modelValue:h.form.matchSource,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.matchSource=e}),label:"Only recommend identities that share the same source",dense:""},null,8,["modelValue"])]),(0,r.bF)(p.G),(0,r.Lk)("div",v,[(0,r.bF)(f.a,{modelValue:h.form.strict,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h.form.strict=e}),label:"Strict matching criteria",dense:"","hide-details":""},null,8,["modelValue"]),(0,r.bF)(f.a,{modelValue:h.form.exclude,"onUpdate:modelValue":t[5]||(t[5]=function(e){return h.form.exclude=e}),label:"Exclude individuals in RecommenderExclusionTerm list",dense:"","hide-details":""},null,8,["modelValue"]),(0,r.bF)(f.a,{modelValue:h.form.guessGithubUser,"onUpdate:modelValue":t[6]||(t[6]=function(e){return h.form.guessGithubUser=e}),label:"Match GitHub users to GitHub-generated emails",dense:"","hide-details":""},null,8,["modelValue"])]),h.error?((0,r.uX)(),(0,r.Wv)(o.l,{key:0,dense:"",text:"",type:"error"},{default:(0,r.k6)((function(){return[(0,r.eW)((0,a.v_)(h.error),1)]})),_:1})):(0,r.Q3)("",!0)]})),_:1,__:[11]})),h.jobId?((0,r.uX)(),(0,r.Wv)(c.S,{key:2},{default:(0,r.k6)((function(){return[(0,r.bF)(g.h),(0,r.bF)(u.D,{text:"",color:"primary",onClick:b.closeModal},{default:(0,r.k6)((function(){return t[12]||(t[12]=[(0,r.eW)(" OK ",-1)])})),_:1,__:[12]},8,["onClick"])]})),_:1})):((0,r.uX)(),(0,r.Wv)(c.S,{key:3},{default:(0,r.k6)((function(){return[(0,r.bF)(g.h),(0,r.bF)(u.D,{text:"",onClick:b.closeModal},{default:(0,r.k6)((function(){return t[13]||(t[13]=[(0,r.eW)(" Cancel ",-1)])})),_:1,__:[13]},8,["onClick"]),(0,r.bF)(u.D,{color:"primary",id:"confirm",depressed:"",onClick:(0,i.D$)(b.createJob,["stop"])},{default:(0,r.k6)((function(){return t[14]||(t[14]=[(0,r.eW)(" Confirm ",-1)])})),_:1,__:[14]},8,["onClick"])]})),_:1}))]})),_:1})]})),_:1},8,["modelValue","onClick:outside"])}var h=n(14048),b=n(30388);const _={name:"MatchesModal",props:{isOpen:{type:Boolean,required:!0},recommendMatches:{type:Function,required:!0},uuid:{type:String,required:!0}},data:function(){return{form:{criteria:["name","email","username"],exclude:!0,strict:!0,matchSource:!1,guessGithubUser:!1},jobId:null,error:null}},methods:{closeModal:function(){this.$emit("update:isOpen",!1),this.form={criteria:["name","email","username"],exclude:!0,strict:!0,guessGithubUser:!1},this.error=null,this.jobId=null},createJob:function(){var e=this;return(0,b.A)((0,h.A)().mark((function t(){var n;return(0,h.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.recommendMatches(e.form.criteria,e.form.exclude,e.form.strict,[e.uuid],e.form.matchSource,e.form.guessGithubUser);case 3:n=t.sent,e.jobId=n.data.recommendMatches.jobId,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=e.$getErrorMessage(t.t0),e.$logger.error("Error recommending matches: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}};var y=n(64621);const F=(0,y.A)(_,[["render",k]]),D=F},62477:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});n(27495),n(5746);var r=n(20641),a=n(90033),i=n(92239),o=n(57254),u=n(4913);function l(e,t,n,l,s,d){return(0,r.uX)(),(0,r.Wv)(i.V,{modelValue:s.inputValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.inputValue=e}),items:s.organizations,label:n.label,loading:s.isLoading,filter:d.filterItems,"no-data-text":'No matches for "'.concat(s.searchValue,'"'),"hide-no-data":s.isLoading,"item-title":"name","item-value":"name",variant:"outlined",density:"comfortable",clearable:"","onUpdate:search":d.search},{"append-item":(0,r.k6)((function(){return[d.appendContent?((0,r.uX)(),(0,r.Wv)(o.g,{key:0,onClick:d.createOrganization},{default:(0,r.k6)((function(){return[(0,r.bF)(u.U,null,{default:(0,r.k6)((function(){return[t[1]||(t[1]=(0,r.Lk)("span",{class:"font-weight-regular"},"Create",-1)),(0,r.eW)(" "+(0,a.v_)(s.searchValue),1)]})),_:1,__:[1]})]})),_:1},8,["onClick"])):(0,r.Q3)("",!0)]})),_:1},8,["modelValue","items","label","loading","filter","no-data-text","hide-no-data","onUpdate:search"])}var s=n(74721),d=n(14048),c=n(30388);n(28706),n(15086),n(62010),n(18111),n(13579),n(26099),n(76031);const f={name:"OrganizationSelector",data:function(){return{inputValue:"",organizations:[],isLoading:!1,searchValue:null}},emits:["update:modelValue"],props:{addOrganization:{type:Function,required:!0},fetchOrganizations:{type:Function,required:!0},label:{type:String,required:!1,default:"Organization"}},methods:{debounceSearch:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.getSelectorItems(e)}),500)},getSelectorItems:function(e){var t=this;return(0,c.A)((0,d.A)().mark((function n(){var r,a;return(0,d.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e?{term:e}:{},n.next=3,t.fetchOrganizations(1,10,r);case 3:a=n.sent,a&&(t.organizations=a.entities,t.isLoading=!1);case 5:case"end":return n.stop()}}),n)})))()},createOrganization:function(){var e=this;return(0,c.A)((0,d.A)().mark((function t(){var n,r;return(0,d.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addOrganization(e.searchValue);case 3:n=t.sent,r={name:n.data.addOrganization.organization.name},e.organizations=[r].concat((0,s.A)(e.organizations)),e.inputValue=e.searchValue,e.$logger.debug('Created organization "'.concat(e.searchValue,'"')),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$logger.error("Error creating organization: ".concat(t.t0)),e.$emit("error",e.$getErrorMessage(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},filterItems:function(e){return e},search:function(e){this.searchValue=e,(!e||e.length>2&&e!==this.inputValue)&&(this.isLoading=!0,this.debounceSearch(e))}},computed:{appendContent:function(){var e=this;return this.searchValue&&!this.organizations.some((function(t){return t.name.toLowerCase()===e.searchValue.toLowerCase()||t.aliases.some((function(t){return t.alias.toLowerCase()===e.searchValue.toLowerCase()}))}))}},watch:{inputValue:function(){this.$emit("update:modelValue",this.inputValue)}},mounted:function(){this.getSelectorItems(this.value)}};var m=n(64621);const p=(0,m.A)(f,[["render",l]]),g=p},71721:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(20641),a=n(93095),i=n(88249),o=n(43948);function u(e,t,n,u,l,s){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(o.W,{modelValue:l.inputDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.inputDate=e}),density:"outlined"==n.variant?"comfortable":"default","error-messages":l.error,label:n.label,variant:n.variant,"single-line":n.singleLine,rules:l.isValid,height:"30",clearable:"",hint:"YYYY-MM-DD",onChange:t[1]||(t[1]=function(e){return s.formatDate(l.inputDate)}),"onClick:clear":t[2]||(t[2]=function(e){return s.formatDate()}),"onUpdate:focused":function(){}},null,8,["modelValue","density","error-messages","label","variant","single-line","rules"]),(0,r.bF)(i.q,{modelValue:l.openPicker,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.openPicker=e}),"close-on-content-click":!1,activator:"parent",location:"right",transition:"scale-transition","min-width":"290px","offset-x":""},{default:(0,r.k6)((function(){return[(0,r.bF)(a.f,{modelValue:l.pickerDate,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return l.pickerDate=e}),t[4]||(t[4]=function(e){return s.formatDate(e)})],min:n.min,max:n.max,color:"primary","hide-header":"","hide-weekdays":""},null,8,["modelValue","min","max"])]})),_:1},8,["modelValue"])])}n(23288);var l=n(72666);const s={name:"DateInput",props:{modelValue:{type:[String,Date]},label:{type:String,required:!0},min:{type:[String,Date],required:!1},max:{type:[String,Date],required:!1},variant:{type:String,required:!1,default:"outlined"},singleLine:{type:Boolean,required:!1,default:!1}},data:function(){var e=this;return{dateFormatter:null,openPicker:!1,error:null,inputDate:this.modelValue,pickerDate:null,isValid:[function(t){return!t||!e.error}]}},emits:["update:modelValue"],methods:{setError:function(e){this.error=e},formatDate:function(e){if(this.setError(null),this.openPicker=!1,e)try{var t=this.dateFormatter.date(e),n=Math.abs(-6e4*t.getTimezoneOffset()),r=new Date(t.getTime()+n),a=this.dateFormatter.toISO(r),i="".concat(a,"T00:00:00+00:00");this.inputDate=a,this.pickerDate=r,this.$emit("update:modelValue",i)}catch(o){this.setError("Invalid date"),this.pickerDate=null}else this.$emit("update:modelValue",null),this.inputDate="",this.pickerDate=null}},mounted:function(){this.dateFormatter=(0,l.S_)(),this.formatDate(this.modelValue)}};var d=n(64621);const c=(0,d.A)(s,[["render",u],["__scopeId","data-v-04e08a30"]]),f=c},78521:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(20641),a=n(90033);function i(e,t,n,i,o,u){var l=(0,r.g2)("identities-list"),s=(0,r.g2)("enrollment-list");return(0,r.uX)(),(0,r.CE)("td",{class:(0,a.C4)({compact:n.compact}),colspan:"5"},[(0,r.bF)(l,{identities:n.identities,uuid:n.uuid,compact:n.compact,"is-locked":n.isLocked,draggable:"",onUnmerge:t[0]||(t[0]=function(t){return e.$emit("unmerge",t)})},null,8,["identities","uuid","compact","is-locked"]),(0,r.bF)(s,{enrollments:n.enrollments,compact:n.compact,"is-locked":n.isLocked,onOpenEnrollmentModal:t[1]||(t[1]=function(t){return e.$emit("openEnrollmentModal")}),onOpenTeamModal:t[2]||(t[2]=function(t){return e.$emit("openTeamModal",{uuid:n.uuid,organization:t,enrollments:n.enrollments})}),onUpdateEnrollment:t[3]||(t[3]=function(t){return e.$emit("updateEnrollment",Object.assign(t,{uuid:n.uuid}))}),onWithdraw:t[4]||(t[4]=function(t){return e.$emit("withdraw",t)})},null,8,["enrollments","compact","is-locked"])],2)}var o=n(14048),u=n(30388),l=n(57712),s=n(44966);const d={name:"ExpandedIndividual",components:{IdentitiesList:l.A,EnrollmentList:s.A},props:{gender:{type:String,required:!1},country:{type:Object,required:!1},isBot:{type:Boolean,required:!1},isLocked:{type:Boolean,required:!1},identities:{type:Array,required:!0},enrollments:{type:Array,required:!0},compact:{type:Boolean,required:!1,default:!1},uuid:{type:String,required:!0},getCountries:{type:Function,required:!1}},data:function(){return{countries:[],form:{gender:this.gender,country:this.country,isBot:this.isBot},enrollmentsForm:[]}},methods:{getCountryList:function(){var e=this;return(0,u.A)((0,o.A)().mark((function t(){var n;return(0,o.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCountries();case 2:n=t.sent,n&&(e.countries=n);case 4:case"end":return t.stop()}}),t)})))()}}};var c=n(64621);const f=(0,c.A)(d,[["render",i],["__scopeId","data-v-f64f804c"]]),m=f},80220:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var r=n(14048),a=n(30388),i=n(87131),o=n(20595),u={data:function(){return{enrollmentModal:{open:!1,title:"",text:"",action:"",organization:null,uuid:null},teamModal:{isOpen:!1,organization:null,team:null,uuid:null,enrollments:null}}},methods:{confirmEnroll:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.group,a=n.parentOrg;a?Object.assign(this.teamModal,{isOpen:!0,organization:a,team:r,uuid:e.uuid,enrollments:e.enrollments}):Object.assign(this.enrollmentModal,{open:!0,title:"Affiliate individual to ".concat(r?r+"?":"an organization"),organization:r,uuid:e.uuid,text:null,dateFrom:null,dateTo:null,showDates:!0,action:function(){return t.enrollIndividual()}})},enrollIndividual:function(e,t,n,o,u){var l=this;return(0,a.A)((0,r.A)().mark((function a(){var s;return(0,r.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return l.closeDialog(),r.next=3,l.enroll(e,t,n,o,u);case 3:s=r.sent,s&&(l.$emit("updateWorkspace",{update:(0,i.G5)([s.data.enroll.individual])}),l.$emit("updateOrganizations"),l.$emit("updateIndividuals"),l.queryIndividuals&&l.queryIndividuals(),l.individual&&(l.individual=(0,i.G5)([s.data.enroll.individual])[0]),l.$logger.debug("Enrolled individual",{group:t,uuid:e,dateFrom:n,dateTo:o,parentOrg:u}),Object.assign(l.teamModal,{isOpen:!1,organization:null,team:null,uuid:null}));case 5:case"end":return r.stop()}}),a)})))()},addOrganization:function(e){var t=this;return(0,a.A)((0,r.A)().mark((function n(){var a;return(0,r.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.F3)(t.$apollo,e);case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()}}}},83503:(e,t,n)=>{(function(){var t=n(3939),r=n(92151).utf8,a=n(87206),i=n(92151).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?i.stringToBytes(e):r.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var u=t.bytesToWords(e),l=8*e.length,s=1732584193,d=-271733879,c=-1732584194,f=271733878,m=0;m<u.length;m++)u[m]=16711935&(u[m]<<8|u[m]>>>24)|4278255360&(u[m]<<24|u[m]>>>8);u[l>>>5]|=128<<l%32,u[14+(l+64>>>9<<4)]=l;var p=o._ff,g=o._gg,v=o._hh,k=o._ii;for(m=0;m<u.length;m+=16){var h=s,b=d,_=c,y=f;s=p(s,d,c,f,u[m+0],7,-680876936),f=p(f,s,d,c,u[m+1],12,-389564586),c=p(c,f,s,d,u[m+2],17,606105819),d=p(d,c,f,s,u[m+3],22,-1044525330),s=p(s,d,c,f,u[m+4],7,-176418897),f=p(f,s,d,c,u[m+5],12,1200080426),c=p(c,f,s,d,u[m+6],17,-1473231341),d=p(d,c,f,s,u[m+7],22,-45705983),s=p(s,d,c,f,u[m+8],7,1770035416),f=p(f,s,d,c,u[m+9],12,-1958414417),c=p(c,f,s,d,u[m+10],17,-42063),d=p(d,c,f,s,u[m+11],22,-1990404162),s=p(s,d,c,f,u[m+12],7,1804603682),f=p(f,s,d,c,u[m+13],12,-40341101),c=p(c,f,s,d,u[m+14],17,-1502002290),d=p(d,c,f,s,u[m+15],22,1236535329),s=g(s,d,c,f,u[m+1],5,-165796510),f=g(f,s,d,c,u[m+6],9,-1069501632),c=g(c,f,s,d,u[m+11],14,643717713),d=g(d,c,f,s,u[m+0],20,-373897302),s=g(s,d,c,f,u[m+5],5,-701558691),f=g(f,s,d,c,u[m+10],9,38016083),c=g(c,f,s,d,u[m+15],14,-660478335),d=g(d,c,f,s,u[m+4],20,-405537848),s=g(s,d,c,f,u[m+9],5,568446438),f=g(f,s,d,c,u[m+14],9,-1019803690),c=g(c,f,s,d,u[m+3],14,-187363961),d=g(d,c,f,s,u[m+8],20,1163531501),s=g(s,d,c,f,u[m+13],5,-1444681467),f=g(f,s,d,c,u[m+2],9,-51403784),c=g(c,f,s,d,u[m+7],14,1735328473),d=g(d,c,f,s,u[m+12],20,-1926607734),s=v(s,d,c,f,u[m+5],4,-378558),f=v(f,s,d,c,u[m+8],11,-2022574463),c=v(c,f,s,d,u[m+11],16,1839030562),d=v(d,c,f,s,u[m+14],23,-35309556),s=v(s,d,c,f,u[m+1],4,-1530992060),f=v(f,s,d,c,u[m+4],11,1272893353),c=v(c,f,s,d,u[m+7],16,-155497632),d=v(d,c,f,s,u[m+10],23,-1094730640),s=v(s,d,c,f,u[m+13],4,681279174),f=v(f,s,d,c,u[m+0],11,-358537222),c=v(c,f,s,d,u[m+3],16,-722521979),d=v(d,c,f,s,u[m+6],23,76029189),s=v(s,d,c,f,u[m+9],4,-640364487),f=v(f,s,d,c,u[m+12],11,-421815835),c=v(c,f,s,d,u[m+15],16,530742520),d=v(d,c,f,s,u[m+2],23,-995338651),s=k(s,d,c,f,u[m+0],6,-198630844),f=k(f,s,d,c,u[m+7],10,1126891415),c=k(c,f,s,d,u[m+14],15,-1416354905),d=k(d,c,f,s,u[m+5],21,-57434055),s=k(s,d,c,f,u[m+12],6,1700485571),f=k(f,s,d,c,u[m+3],10,-1894986606),c=k(c,f,s,d,u[m+10],15,-1051523),d=k(d,c,f,s,u[m+1],21,-2054922799),s=k(s,d,c,f,u[m+8],6,1873313359),f=k(f,s,d,c,u[m+15],10,-30611744),c=k(c,f,s,d,u[m+6],15,-1560198380),d=k(d,c,f,s,u[m+13],21,1309151649),s=k(s,d,c,f,u[m+4],6,-145523070),f=k(f,s,d,c,u[m+11],10,-1120210379),c=k(c,f,s,d,u[m+2],15,718787259),d=k(d,c,f,s,u[m+9],21,-343485551),s=s+h>>>0,d=d+b>>>0,c=c+_>>>0,f=f+y>>>0}return t.endian([s,d,c,f])};o._ff=function(e,t,n,r,a,i,o){var u=e+(t&n|~t&r)+(a>>>0)+o;return(u<<i|u>>>32-i)+t},o._gg=function(e,t,n,r,a,i,o){var u=e+(t&r|n&~r)+(a>>>0)+o;return(u<<i|u>>>32-i)+t},o._hh=function(e,t,n,r,a,i,o){var u=e+(t^n^r)+(a>>>0)+o;return(u<<i|u>>>32-i)+t},o._ii=function(e,t,n,r,a,i,o){var u=e+(n^(t|~r))+(a>>>0)+o;return(u<<i|u>>>32-i)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}})()},87131:(e,t,n)=>{"use strict";n.d(t,{p4:()=>p,G5:()=>g,x_:()=>d,gE:()=>f});var r=n(41034),a=n(23772),i=n(47914),o=n(22036),u=n(12635),l=n(3531);function s(e){return(0,i.A)(e)||(0,o.A)(e)||(0,u.A)(e)||(0,l.A)()}n(50113),n(10838),n(62062),n(44114),n(72712),n(34782),n(26910),n(60739),n(62010),n(18111),n(61701),n(18237),n(33110),n(26099),n(16034),n(27495),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(47764),n(25440),n(62953);var d=function(e,t,n){if(e.length===new Set(e).size){var r=s(e),a=r[0],i=r.slice(1),o=i.map((function(e){return e.uuid?e.uuid:e}));c(n,t,o,a.uuid||a)}},c=function(e,t,n,r){Object.assign(e,{open:!0,title:"Merge the selected individuals?",text:"",action:function(){return t(n,r)}})},f=function(e,t,n,r){e!==t&&Object.assign(r,{open:!0,title:"Move identity to this individual?",text:"",action:function(){return n(e,t)}})},m=function(e){var t=[{source:"confluence",icon:"fa:fab fa-confluence"},{source:"gerrit",icon:"$gerrit"},{source:"git",icon:"mdi-git"},{source:"github",icon:"mdi-github"},{source:"gitlab",icon:"mdi-gitlab"},{source:"dockerhub",icon:"mdi-docker"},{source:"jenkins",icon:"fa:fab fa-jenkins"},{source:"jira",icon:"mdi-jira"},{source:"launchpad",icon:"mdi-ubuntu"},{source:"linkedin",icon:"mdi-linkedin"},{source:"phorge",icon:"mdi-cog"},{source:"maniphest",icon:"fa:fab fa-phabricator"},{source:"mbox",icon:"mdi-email-newsletter"},{source:"meetup",icon:"fa:fab fa-meetup"},{source:"phabricator",icon:"fa:fab fa-phabricator"},{source:"pipermail",icon:"mdi-email-newsletter"},{source:"rss",icon:"mdi-rss"},{source:"slack",icon:"mdi-slack"},{source:"stackexchange",icon:"mdi-stack-exchange"},{source:"telegram",icon:"mdi-telegram"},{source:"twitter",icon:"mdi-twitter"}],n="Other sources",i=e.reduce((function(e,r){var i=r.source.toLowerCase().replace(/\s+/g,""),o=t.find((function(e){return e.source===i}));return o||(i=n),e.usernames||(e.usernames=new Set,e.emails=new Set,e.identitiesBysource={}),r.email&&e.emails.add(r.email),r.username&&e.usernames.add(JSON.stringify((0,a.A)({},(null===o||void 0===o?void 0:o.icon)||"mdi-account-multiple",r.username))),e.identitiesBysource[i]?e.identitiesBysource[i].identities.push(r):e.identitiesBysource[i]={name:i,identities:[r],icon:o?o.icon:"mdi-account-multiple"},e}),{}),o=Object.values(i.identitiesBysource).sort((function(e,t){return e.name===n?1:t.name===n?-1:e.name.localeCompare(t.name)}));return(0,r.A)({identities:o},i)},p=function(e){var t=m(e.identities),n=t.identities,r=t.emails,a=t.usernames,i={name:e.profile.name,id:e.profile.id,uuid:e.mk,email:e.profile.email,emails:r,sources:n.map((function(e){return{name:e.name,icon:e.icon,count:e.identities.length}})),identities:n,enrollments:e.enrollments,gender:e.profile.gender,country:e.profile.country,isLocked:e.isLocked,isBot:e.profile.isBot,lastReviewed:e.lastReviewed,lastModified:e.lastModified,usernames:a};if(e.enrollments&&e.enrollments.length>0){var o,u=null===(o=e.enrollments.findLast((function(e){return!e.group.parentOrg})))||void 0===o?void 0:o.group.name;Object.assign(i,{organization:u})}if(e.matchRecommendationSet){var l=e.matchRecommendationSet.map((function(e){return{id:e.id,individual:p(e.individual)}}));Object.assign(i,{matchRecommendations:l})}return i},g=function(e){return e.map((function(e){return p(e)}))}},87206:e=>{function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||n(e)||!!e._isBuffer)}},92151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t}}]);
//# sourceMappingURL=912.9fed2189.js.map