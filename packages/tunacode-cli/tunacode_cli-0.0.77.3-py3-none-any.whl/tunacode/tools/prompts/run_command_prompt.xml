<?xml version="1.0" encoding="UTF-8"?>
<tool_prompt>
    <description>
Executes system commands with enhanced control and monitoring capabilities. This tool provides advanced features for running commands including environment variable management, working directory control, and timeout handling.

Key features:
- Execute any system command or script
- Set custom working directory
- Manage environment variables
- Configure execution timeout
- Control output capture
- Support for background execution

Security considerations:
- Commands are validated for potentially destructive operations
- Working directories are verified before execution
- Environment variables are sanitized
- Timeout limits prevent runaway processes
    </description>

    <parameters>
        <parameter name="command" required="true">
            <description>The command to execute</description>
            <type>string</type>
        </parameter>

        <parameter name="cwd" required="false">
            <description>Working directory for the command (defaults to current)</description>
            <type>string</type>
        </parameter>

        <parameter name="env" required="false">
            <description>Additional environment variables to set</description>
            <type>object</type>
        </parameter>

        <parameter name="timeout" required="false">
            <description>Command timeout in seconds (default 30, max 300)</description>
            <type>integer</type>
        </parameter>

        <parameter name="capture_output" required="false">
            <description>Whether to capture stdout/stderr (default true)</description>
            <type>boolean</type>
        </parameter>
    </parameters>

    <examples>
        <example>
            <title>Run command in specific directory</title>
            <command>{"command": "npm install", "cwd": "/home/user/project"}</command>
        </example>

        <example>
            <title>Run with environment variables</title>
            <command>{"command": "python script.py", "env": {"PYTHONPATH": "/custom/path", "DEBUG": "true"}}</command>
        </example>

        <example>
            <title>Run with extended timeout</title>
            <command>{"command": "make build", "timeout": 120}</command>
        </example>
    </examples>
</tool_prompt>
