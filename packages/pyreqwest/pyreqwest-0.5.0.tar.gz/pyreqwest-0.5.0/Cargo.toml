[package]
name = "pyreqwest"
version = "0.5.0"
edition = "2024"
readme = "README.md"

[lib]
name = "pyreqwest"
crate-type = ["cdylib"]

[dependencies.reqwest]
version = "=0.12.23"
default-features = false
features = ["rustls-tls-native-roots", "http2", "cookies", "gzip", "zstd", "brotli", "deflate", "multipart", "stream", "socks"]

[dependencies]
pyo3 = { version = "=0.26.0", features = ["extension-module", "experimental-async", "time", "generate-import-lib"] }
pyo3-bytes = "=0.4.0"
pythonize = "=0.26.0"
hyper = { version = "1.7.0", features = ["client", "http1", "http2"] }
rustls = "=0.23.31"
http = "=1.3.1"
tokio = { version = "=1.47.1", features = ["rt", "time", "sync", "macros"] }
tokio-util = "=0.7.16"
futures-util = "=0.3.31"
serde = { version = "1.0.225", features = ["derive"] }
serde_json = "=1.0.145"
serde_urlencoded = "=0.7.1"
bytes = "=1.10.1"
url = { version = "=2.5.7", features = ["serde"] }
mime = "=0.3.17"
cookie = "=0.18.1"
cookie_store = { version = "=0.22.0", features = ["preserve_order"] }
encoding_rs = "=0.8.35"
http-body-util = "=0.1.3"
pin-project = "1.1.10"
time = "=0.3.43"
regex = "=1.11.2"

[build-dependencies]
pyo3-build-config = "=0.26.0"

[profile.release]
lto = "fat"
codegen-units = 1
strip = true

[lints.clippy]
all = "deny"
unwrap_used = "deny"
expect_used = "deny"
panic = "deny"
indexing_slicing = "deny"
unwrap_in_result = "deny"
ok_expect = "deny"
