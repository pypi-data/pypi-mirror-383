{
  "graph": { "id": "energycalculation", "schema_version": "1.1" },
  "nodes": [
    {
      "id": "compute",
      "label": "compute_bm_spectrum",
      "task_type": "class",
      "task_identifier": "ewokstomo.tasks.energycalculation.ComputeBMSpectrum"
    },
    {
      "id": "attenuate",
      "label": "apply_attenuators",
      "task_type": "class",
      "task_identifier": "ewokstomo.tasks.energycalculation.ApplyAttenuators"
    },
    {
      "id": "stats",
      "label": "spectrum_stats",
      "task_type": "class",
      "task_identifier": "ewokstomo.tasks.energycalculation.SpectrumStats"
    }
  ],
  "links": [
    {
      "source": "compute",
      "target": "attenuate",
      "data_mapping": [
        { "source_output": "energy_eV",      "target_input": "energy_eV" },
        { "source_output": "spectral_power", "target_input": "spectral_power" },
        { "source_output": "flux",           "target_input": "flux" }
      ]
    },
    {
      "source": "attenuate",
      "target": "stats",
      "data_mapping": [
        { "source_output": "energy_eV",                   "target_input": "energy_eV" },
        { "source_output": "attenuated_flux",             "target_input": "attenuated_flux" }
      ]
    }
  ]
}