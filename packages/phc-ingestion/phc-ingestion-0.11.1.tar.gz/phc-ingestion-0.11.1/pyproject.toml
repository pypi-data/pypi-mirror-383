[project]
name = "phc-ingestion"
version = "0.11.1"
description = "Functions for LifeOmic PHC genomic ingestions"
authors = [
    { name = "LifeOmic Development", email = "development@lifeomic.com" },
]
dependencies = [
    "lifeomic-logging>=0.3.2,<0.4.0",
    "xmltodict>=0.14.2",
    "natsort==7.1.1",
    "ruamel.yaml==0.17.21",
    "pandas>=2.2.3",
    "jsonschema>=4.16.0,<5.0.0",
    "schema>=0.7.5",
    "packaging>=23.1",
    "numpy>=2.1.2",
    "boto3>=1.28.34",
    "urllib3>=1.26.16",
    "mypy-boto3-lambda>=1.28.19",
]
requires-python = ">=3.11"
readme = "PYPI.md"

[project.license]
text = "MIT"

[build-system]
requires = [
    "pdm-pep517>=0.12.0",
]
build-backend = "pdm.pep517.api"

[tool.black]
line-length = 100

[tool.pdm.dev-dependencies]
dev = [
    "black==24.4.0",
    "pytest==8.1.1",
    "pytest-cov==5.0.0",
    "coverage==7.4.4",
]

[tool.pdm.build]
excludes = [
    "tests/",
]

[tool.pdm.scripts]
test = "python3 -m pytest -v --cov-report term-missing --cov=ingestion --log-level=INFO tests/"
lint = "black --check tests/ ingestion/"
lint-fix = "black tests/ ingestion/"
