Metadata-Version: 2.4
Name: codehealthanalyzer
Version: 1.1.5
Summary: Biblioteca Python para anÃ¡lise de qualidade e saÃºde de cÃ³digo
Home-page: https://github.com/imparcialista/codehealthanalyzer
Author: Luarco Team
Author-email: contato@luarco.com.br
Project-URL: Bug Reports, https://github.com/imparcialista/codehealthanalyzer/issues
Project-URL: Source, https://github.com/imparcialista/codehealthanalyzer
Project-URL: Documentation, https://codehealthanalyzer.readthedocs.io/
Keywords: code-quality,static-analysis,code-health,linting,python,html,css,javascript,ruff,analysis,metrics,reporting
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Quality Assurance
Classifier: Topic :: Software Development :: Testing
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: ruff>=0.1.0
Requires-Dist: click>=8.0.0
Requires-Dist: rich>=12.0.0
Requires-Dist: fastapi>=0.104.0
Requires-Dist: uvicorn[standard]>=0.24.0
Requires-Dist: jinja2>=3.1.0
Requires-Dist: python-multipart>=0.0.6
Requires-Dist: websockets>=12.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: isort>=5.0.0; extra == "dev"
Requires-Dist: bandit>=1.7.4; extra == "dev"
Requires-Dist: nox>=2024.4.15; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Provides-Extra: docs
Requires-Dist: sphinx>=5.0.0; extra == "docs"
Requires-Dist: sphinx-rtd-theme>=1.0.0; extra == "docs"
Provides-Extra: web
Requires-Dist: fastapi>=0.104.0; extra == "web"
Requires-Dist: uvicorn[standard]>=0.24.0; extra == "web"
Requires-Dist: jinja2>=3.1.0; extra == "web"
Requires-Dist: python-multipart>=0.0.6; extra == "web"
Requires-Dist: websockets>=12.0; extra == "web"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: license-file
Dynamic: project-url
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# ğŸ” CodeHealthAnalyzer

> Uma biblioteca Python completa para anÃ¡lise de qualidade e saÃºde de cÃ³digo

ğŸ‡§ğŸ‡· PortuguÃªs | [ğŸ‡ºğŸ‡¸ English](README_EN.md)

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Code Style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

## ğŸš€ VisÃ£o Geral

CodeHealthAnalyzer Ã© uma biblioteca Python moderna e abrangente para anÃ¡lise de qualidade de cÃ³digo. Ela combina mÃºltiplas ferramentas de anÃ¡lise em uma interface unificada, fornecendo insights detalhados sobre a saÃºde do seu cÃ³digo.

### âœ¨ Principais Funcionalidades

- **ğŸš¨ AnÃ¡lise de ViolaÃ§Ãµes**: Detecta funÃ§Ãµes, classes e mÃ³dulos que excedem limites de tamanho
- **ğŸ¨ AnÃ¡lise de Templates**: Identifica CSS/JS inline em templates HTML que podem ser extraÃ­dos
- **âš ï¸ IntegraÃ§Ã£o com Ruff**: Analisa erros de linting e os categoriza por prioridade
- **ğŸ“Š Score de Qualidade**: Calcula um score de 0-100 baseado na saÃºde geral do cÃ³digo
- **ğŸ¯ PriorizaÃ§Ã£o Inteligente**: Sugere aÃ§Ãµes baseadas na criticidade dos problemas
- **ğŸ“ˆ RelatÃ³rios MÃºltiplos**: Gera relatÃ³rios em JSON, HTML, Markdown e CSV
- **ğŸ–¥ï¸ CLI AmigÃ¡vel**: Interface de linha de comando completa e intuitiva
- **ğŸ”§ Altamente ConfigurÃ¡vel**: Personalize limites, regras e categorias

## ğŸ“¦ InstalaÃ§Ã£o

### InstalaÃ§Ã£o via pip (recomendado)

```bash
# InstalaÃ§Ã£o bÃ¡sica
pip install codehealthanalyzer

# InstalaÃ§Ã£o com dashboard web interativo
pip install codehealthanalyzer[web]

# InstalaÃ§Ã£o completa (web + desenvolvimento)
pip install codehealthanalyzer[web,dev]
```

### InstalaÃ§Ã£o para desenvolvimento

```bash
git clone https://github.com/imparcialista/codehealthanalyzer.git
cd codehealthanalyzer
pip install -e .[web,dev]
```

### DependÃªncias

- Python 3.8+
- ruff >= 0.1.0
- click >= 8.0.0
- rich >= 12.0.0 (opcional, para saÃ­da colorida)

## ğŸ¯ Uso RÃ¡pido

### ğŸŒ Dashboard Interativo

```bash
# Iniciar dashboard web com mÃ©tricas em tempo real
codehealthanalyzer dashboard

# Dashboard em host e porta especÃ­ficos
codehealthanalyzer dashboard --host 0.0.0.0 --port 8080

# Dashboard com reload automÃ¡tico para desenvolvimento
codehealthanalyzer dashboard --reload
```

**Funcionalidades do Dashboard:**
- ğŸ“Š MÃ©tricas em tempo real com atualizaÃ§Ãµes automÃ¡ticas
- ğŸ“ˆ GrÃ¡ficos interativos de tendÃªncia de qualidade
- ğŸ¯ VisualizaÃ§Ã£o de violaÃ§Ãµes por tipo
- ğŸ“‹ Tabela de arquivos com problemas
- ğŸ”„ WebSockets para atualizaÃ§Ãµes instantÃ¢neas
- ğŸ“± Interface responsiva e moderna

### CLI (Interface de Linha de Comando)

```bash
# AnÃ¡lise completa do projeto atual (o diretÃ³rio padrÃ£o Ã© '.')
codehealthanalyzer analyze

# Por padrÃ£o, um JSON Ã© gerado em ./reports/full_report.json
# Formatos adicionais (HTML, Markdown ou todos):
codehealthanalyzer analyze --format html
codehealthanalyzer analyze --format markdown
codehealthanalyzer analyze --format all

# Desativar JSON padrÃ£o
codehealthanalyzer analyze --format html --no-json

# Definir diretÃ³rio de saÃ­da (padrÃ£o: ./reports)
codehealthanalyzer analyze --format all --output out/

# Apenas score de qualidade
codehealthanalyzer score

# InformaÃ§Ãµes do projeto
codehealthanalyzer info

# AnÃ¡lise especÃ­fica de violaÃ§Ãµes
codehealthanalyzer violations --format all

# AnÃ¡lise especÃ­fica de templates
codehealthanalyzer templates --format all

# AnÃ¡lise especÃ­fica de erros (Ruff)
codehealthanalyzer errors --format all

## Comandos disponÃ­veis

- `analyze [PROJECT_PATH]` (padrÃ£o: `.`): anÃ¡lise completa (violations, templates, errors) e geraÃ§Ã£o de relatÃ³rios.
- `violations [PROJECT_PATH]`: apenas violaÃ§Ãµes de tamanho/linhas.
- `templates [PROJECT_PATH]`: apenas templates HTML com CSS/JS inline.
- `errors [PROJECT_PATH]`: apenas erros Ruff.
- `score [PROJECT_PATH]`: exibe apenas o score de qualidade.
- `info [PROJECT_PATH]`: informaÃ§Ãµes bÃ¡sicas do projeto.
- `dashboard [PROJECT_PATH]`: inicia a UI web (FastAPI) com mÃ©tricas ao vivo.
- `format [PROJECT_PATH]`: aplica auto-fixes e formataÃ§Ã£o (isort + black + ruff --fix).
- `lint [PROJECT_PATH]`: executa checagens (ruff, isort --check, black --check, bandit).

### OpÃ§Ãµes comuns Ãºteis

- `--output`, `-o`: diretÃ³rio de saÃ­da dos relatÃ³rios. PadrÃ£o: `./reports`.
- `--format`, `-f`: formato adicional do relatÃ³rio: `html`, `markdown` ou `all`.
- `--no-json`: por padrÃ£o, sempre Ã© gerado um JSON. Use esta flag para NÃƒO gerar o JSON.
- `--config`, `-c`: caminho para um `config.json` com suas preferÃªncias.
- `--no-default-excludes`: nÃ£o aplicar as exclusÃµes padrÃ£o (tests, scripts, reports, venv etc.).

Exemplos por comando

```bash
# analyze: JSON + HTML + MD em ./reports
codehealthanalyzer analyze --format all

# analyze: HTML apenas, sem JSON
codehealthanalyzer analyze --format html --no-json

# violations: JSON por padrÃ£o + HTML/MD
codehealthanalyzer violations --format all

# templates: JSON por padrÃ£o + HTML/MD
codehealthanalyzer templates --format all

# errors (Ruff): JSON por padrÃ£o + HTML/MD
codehealthanalyzer errors --format all

# desativar exclusÃµes padrÃ£o e usar config.json
codehealthanalyzer analyze --no-default-excludes --config config.json

# format: aplicar auto-fixes e formataÃ§Ã£o
codehealthanalyzer format
codehealthanalyzer format --no-ruff   # p.ex., sÃ³ isort + black

# lint: checar qualidade e seguranÃ§a
codehealthanalyzer lint
```
```

### API Python

```python
from codehealthanalyzer import CodeAnalyzer

# Inicializa o analisador
analyzer = CodeAnalyzer('/path/to/project')

# Gera relatÃ³rio completo
report = analyzer.generate_full_report(output_dir='reports/')

# ObtÃ©m score de qualidade
score = analyzer.get_quality_score()
print(f"Score de Qualidade: {score}/100")

# AnÃ¡lises individuais
violations = analyzer.analyze_violations()
templates = analyzer.analyze_templates()
errors = analyzer.analyze_errors()
```

## ğŸ“Š Exemplo de SaÃ­da

```
ğŸ“Š RESUMO DA ANÃLISE
==================================================
âœ… Score de Qualidade: 85/100 - Excelente!
ğŸ“ Arquivos analisados: 124
âš ï¸  Arquivos com violaÃ§Ãµes: 8
ğŸ¨ Templates: 15
ğŸ” Erros Ruff: 0
ğŸ”¥ Issues de alta prioridade: 2

ğŸ¯ PRIORIDADES DE AÃ‡ÃƒO:
1. ğŸ”´ ViolaÃ§Ãµes de Alta Prioridade (2)
2. ğŸŸ¡ Templates com Muito CSS/JS Inline (3)
```

## ğŸ”§ ConfiguraÃ§Ã£o

### Arquivo de ConfiguraÃ§Ã£o JSON

```json
{
  "limits": {
    "python_function": {"yellow": 30, "red": 50},
    "python_class": {"yellow": 300, "red": 500},
    "python_module": {"yellow": 500, "red": 1000},
    "html_template": {"yellow": 150, "red": 200},
    "test_file": {"yellow": 400, "red": 600}
  },
  "target_dir": "src/",
  "ruff_fix": true,
  "templates_dir": ["templates/", "app/templates/"],
  "file_rules": {
    "critical_files": ["main.py", "core.py"],
    "skip_patterns": [".git", "__pycache__", "node_modules"]
  },
  "exclude_dirs": ["legacy/", "playground/"]
}
```

### Uso com ConfiguraÃ§Ã£o

```bash
codehealthanalyzer analyze . --config config.json
```

```python
import json
from codehealthanalyzer import CodeAnalyzer

with open('config.json') as f:
    config = json.load(f)

analyzer = CodeAnalyzer('/path/to/project', config)
```

### Novas opÃ§Ãµes de configuraÃ§Ã£o

- `templates_dir`:
  - Define um ou mais diretÃ³rios onde os templates HTML serÃ£o buscados.
  - Aceita string (ex.: `"templates/"`) ou lista de strings (ex.: `["templates/", "app/templates/"]`).
  - PadrÃµes automÃ¡ticos: `templates/` e `luarco/templates/` (se existirem no projeto).

- `target_dir` (ErrorsAnalyzer/Ruff):
  - DiretÃ³rio raiz analisado pelo Ruff. PadrÃ£o agora Ã© `"."` (raiz do projeto).

- `ruff_fix` (ErrorsAnalyzer):
  - Quando `true`, executa `ruff check --fix` antes de coletar os erros.
  - PadrÃ£o: `false`.

- ExclusÃµes de diretÃ³rios (padrÃ£o e personalizadas):
  - Por padrÃ£o, os analisadores ignoram diretÃ³rios nÃ£o relacionados a cÃ³digo-fonte:
    - `.git`, `__pycache__`, `.pytest_cache`, `node_modules`, `.ruff_cache`
    - `tests`, `scripts`, `reports`, `dist`, `build`, `site-packages`
    - `.tox`, `.nox`, `.venv`, `venv`, `.env`, `migrations`
  - Para desativar as exclusÃµes padrÃ£o: use a flag `--no-default-excludes` nos comandos `analyze`, `violations`, `templates`, `errors`.
  - Para definir exclusÃµes personalizadas via config:
    ```json
    {
      "exclude_dirs": ["legacy/", "playground/"]
    }
    ```

### ObservaÃ§Ã£o para Windows (encoding do console)

Para evitar problemas de encoding (CP1252) no console do Windows, a CLI usa apenas caracteres ASCII.
Se desejar usar emojis/Unicode, configure o terminal para UTF-8. Exemplo no PowerShell:

```powershell
$OutputEncoding = [Console]::OutputEncoding = [System.Text.UTF8Encoding]::new()
```

## ğŸŒ TraduÃ§Ãµes

- Arquivos compilados `.mo` agora sÃ£o incluÃ­dos no pacote distribuÃ­do.
- Para compilar localmente, use `scripts/compile_translations.py` (requer `gettext` ou fallback Python embutido).

## ğŸ” IntegraÃ§Ã£o ContÃ­nua (CI)

  - Lint com Ruff (`ruff check`).
  - Testes com `pytest`.
  - Matriz Python: 3.8 a 3.12.
  - (Opcional) Build de documentaÃ§Ã£o Sphinx.

## ğŸ“ˆ Tipos de AnÃ¡lise

### ğŸš¨ AnÃ¡lise de ViolaÃ§Ãµes

Detecta:
- FunÃ§Ãµes muito longas (> 50 linhas)
- Classes muito grandes (> 500 linhas)
- MÃ³dulos muito extensos (> 1000 linhas)
- Templates HTML muito longos (> 200 linhas)

### ğŸ¨ AnÃ¡lise de Templates

Identifica:
- CSS inline em atributos `style`
- JavaScript inline em eventos (`onclick`, etc.)
- Tags `<style>` com muito conteÃºdo
- Tags `<script>` com muito cÃ³digo

### âš ï¸ AnÃ¡lise de Erros

Integra com Ruff para detectar:
- Erros de sintaxe
- Problemas de estilo
- Imports nÃ£o utilizados
- VariÃ¡veis nÃ£o definidas
- Complexidade excessiva

## ğŸ“Š Score de Qualidade

O score Ã© calculado baseado em:
- **ViolaÃ§Ãµes de alta prioridade**: -10 pontos cada
- **Erros de linting**: -2 pontos cada
- **Templates problemÃ¡ticos**: -5 pontos cada
- **Base**: 100 pontos

### InterpretaÃ§Ã£o
- **80-100**: ğŸŸ¢ Excelente
- **60-79**: ğŸŸ¡ Bom
- **0-59**: ğŸ”´ Precisa melhorar

## ğŸ¯ CategorizaÃ§Ã£o Inteligente

### Arquivos
- **Arquivo CrÃ­tico**: Arquivos essenciais do sistema
- **Views Admin**: Interfaces administrativas
- **Blueprint CrÃ­tico**: Rotas crÃ­ticas da aplicaÃ§Ã£o
- **Template Base**: Templates fundamentais

### Prioridades
- **Alta**: Problemas que afetam funcionalidade
- **MÃ©dia**: Problemas de manutenibilidade
- **Baixa**: Melhorias recomendadas

## ğŸ“‹ Formatos de RelatÃ³rio

### JSON
```json
{
  "metadata": {
    "generated_at": "2024-01-15T10:30:00",
    "generator": "CodeHealthAnalyzer v1.0.0"
  },
  "summary": {
    "quality_score": 85,
    "total_files": 124,
    "violation_files": 8
  },
  "priorities": [...],
  "violations": [...],
  "templates": [...],
  "errors": [...]
}
```

### HTML
RelatÃ³rio completo e navegÃ¡vel, com:
- Resumo (Score, totais)
- Prioridades de aÃ§Ã£o
- Tabela de Arquivos com ViolaÃ§Ãµes (arquivo, prioridade, nÂº violaÃ§Ãµes, linhas)
- Tabela de Erros (Ruff)
- Tabela de Templates (CSS/JS chars)

### Markdown
RelatÃ³rio rico em Markdown com:
- Resumo em tabela
- Prioridades
- Tabelas para ViolaÃ§Ãµes, Erros e Templates

### CSV
Dados tabulares para anÃ¡lise em planilhas.

## ğŸ› ï¸ API AvanÃ§ada

### Analisadores Individuais

```python
from codehealthanalyzer.analyzers import (
    ViolationsAnalyzer,
    TemplatesAnalyzer,
    ErrorsAnalyzer
)

# AnÃ¡lise especÃ­fica de violaÃ§Ãµes
violations_analyzer = ViolationsAnalyzer('/path/to/project')
violations_report = violations_analyzer.analyze()

# AnÃ¡lise especÃ­fica de templates
templates_analyzer = TemplatesAnalyzer('/path/to/project')
templates_report = templates_analyzer.analyze()

# AnÃ¡lise especÃ­fica de erros
errors_analyzer = ErrorsAnalyzer('/path/to/project')
errors_report = errors_analyzer.analyze()
```

### GeraÃ§Ã£o de RelatÃ³rios

```python
from codehealthanalyzer.reports import ReportGenerator, ReportFormatter

generator = ReportGenerator()
formatter = ReportFormatter()

# Gera relatÃ³rio consolidado
full_report = generator.generate_full_report(
    violations=violations_report,
    templates=templates_report,
    errors=errors_report,
    output_dir='reports/'
)

# Converte para diferentes formatos
html_content = generator.generate_html_report(full_report, 'report.html')
markdown_content = formatter.to_markdown(full_report, 'report.md')
formatter.to_csv(full_report, 'report.csv')
```

### UtilitÃ¡rios

```python
from codehealthanalyzer.utils import (
    Categorizer,
    PathValidator,
    FileHelper,
    ColorHelper
)

# CategorizaÃ§Ã£o
categorizer = Categorizer()
category = categorizer.categorize_file(Path('src/main.py'))
priority = categorizer.determine_priority('file', {'lines': 150, 'type': 'python'})

# ValidaÃ§Ã£o
validator = PathValidator()
is_valid = validator.is_python_project('/path/to/project')
project_info = validator.get_project_info('/path/to/project')

# Helpers
file_helper = FileHelper()
data = file_helper.read_json('config.json')
file_helper.write_json(data, 'output.json')

# Cores para terminal
print(ColorHelper.success("Sucesso!"))
print(ColorHelper.error("Erro!"))
print(ColorHelper.warning("Aviso!"))
```

## ğŸ§ª Testes

```bash
# Instala dependÃªncias de desenvolvimento
pip install -e ".[dev]"

# Executa testes
pytest

# Executa testes com cobertura
pytest --cov=codehealthanalyzer

# Executa linting
ruff check codehealthanalyzer/
black --check codehealthanalyzer/
```

## ğŸ§° Ferramentas de Qualidade e SeguranÃ§a (para seu projeto)

AlÃ©m de usar o CodeHealthAnalyzer, recomendamos rodar as seguintes ferramentas diretamente no seu projeto (exemplos a seguir). Substitua `luarco/` pelo diretÃ³rio do seu projeto.

### Ruff (Linter & Auto-fix)

```bash
# Verificar erros com ruff
ruff check luarco/

# Corrigir erros automaticamente (quando possÃ­vel)
ruff check luarco/ --fix

# Ver apenas erros crÃ­ticos
ruff check luarco/ --select=F821,F841,E9
```

### Black (FormataÃ§Ã£o automÃ¡tica)

```bash
# Black - FormataÃ§Ã£o automÃ¡tica
black .
```

### isort (OrganizaÃ§Ã£o de imports)

```bash
# isort - OrganizaÃ§Ã£o de imports
isort .
```

### Bandit (SeguranÃ§a)

```bash
# bandit - SeguranÃ§a (gera relatÃ³rio JSON)
bandit -r luarco/ -f json -o bandit-report.json
```

ObservaÃ§Ãµes:
- Ã‰ comum rodar `ruff check --fix`, depois `isort .` e `black .` para padronizar o cÃ³digo.
- VocÃª pode integrar essas ferramentas no seu CI, semelhante ao nosso workflow em `.github/workflows/ci.yml`.

## ğŸ¤ ContribuiÃ§Ã£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### Diretrizes de ContribuiÃ§Ã£o

- Siga o estilo de cÃ³digo existente
- Adicione testes para novas funcionalidades
- Atualize a documentaÃ§Ã£o quando necessÃ¡rio
- Use commits semÃ¢nticos

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ™ Agradecimentos

- [Ruff](https://github.com/astral-sh/ruff) - Linter Python ultrarrÃ¡pido
- [Click](https://click.palletsprojects.com/) - Framework para CLI
- [Rich](https://github.com/Textualize/rich) - FormataÃ§Ã£o rica para terminal

## ğŸ“ Suporte

- ğŸ“§ Email: contato@luarco.com.br
- ğŸ› Issues: [GitHub Issues](https://github.com/imparcialista/codehealthanalyzer/issues)
- ğŸ“– DocumentaÃ§Ã£o: [ReadTheDocs](https://codehealthanalyzer.readthedocs.io/)

---

**Feito com â¤ï¸ pela equipe Imparcialista**

---

# ğŸ” CodeHealthAnalyzer

> A comprehensive Python library for code quality and health analysis

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Code Style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

[ğŸ‡§ğŸ‡· PortuguÃªs](README.md) | ğŸ‡ºğŸ‡¸ English

## ğŸš€ Overview

CodeHealthAnalyzer is a modern and comprehensive Python library for code quality analysis. It combines multiple analysis tools into a unified interface, providing detailed insights into your code's health.

### âœ¨ Key Features

- **ğŸš¨ Violations Analysis**: Detects functions, classes, and modules that exceed size limits
- **ğŸ¨ Template Analysis**: Identifies inline CSS/JS in HTML templates that can be extracted
- **âš ï¸ Ruff Integration**: Analyzes linting errors and categorizes them by priority
- **ğŸ“Š Quality Score**: Calculates a 0-100 score based on overall code health
- **ğŸ¯ Smart Prioritization**: Suggests actions based on problem criticality
- **ğŸ“ˆ Multiple Reports**: Generates reports in JSON, HTML, Markdown, and CSV
- **ğŸ–¥ï¸ Friendly CLI**: Complete and intuitive command-line interface
- **ğŸ”§ Highly Configurable**: Customize limits, rules, and categories

## ğŸ“¦ Installation

### Installation via pip (recommended)

```bash
# Basic installation
pip install codehealthanalyzer

# Installation with interactive web dashboard
pip install codehealthanalyzer[web]

# Complete installation (web + development)
pip install codehealthanalyzer[web,dev]
```

### Development Installation

```bash
git clone https://github.com/imparcialista/codehealthanalyzer.git
cd codehealthanalyzer
pip install -e .[web,dev]
```

### Dependencies

- Python 3.8+
- ruff >= 0.1.0
- click >= 8.0.0
- rich >= 12.0.0 (optional, for colored output)

## ğŸ¯ Quick Start

### ğŸŒ Interactive Dashboard

```bash
# Start web dashboard with real-time metrics
codehealthanalyzer dashboard .

# Dashboard on specific host and port
codehealthanalyzer dashboard . --host 0.0.0.0 --port 8080

# Dashboard with auto-reload for development
codehealthanalyzer dashboard . --reload
```

**Dashboard Features:**
- ğŸ“Š Real-time metrics with automatic updates
- ğŸ“ˆ Interactive quality trend charts
- ğŸ¯ Violations visualization by type
- ğŸ“‹ Problem files table
- ğŸ”„ WebSockets for instant updates
- ğŸ“± Responsive and modern interface

### CLI (Command Line Interface)

```bash
# Complete analysis of current project
codehealthanalyzer analyze .

# Analysis with HTML output
codehealthanalyzer analyze . --format html --output reports/

# Quality score only
codehealthanalyzer score .

# Project information
codehealthanalyzer info .

# Specific violations analysis
codehealthanalyzer violations . --output violations.json
```

### Python API

```python
from codehealthanalyzer import CodeAnalyzer

# Initialize analyzer
analyzer = CodeAnalyzer('/path/to/project')

# Generate complete report
report = analyzer.generate_full_report(output_dir='reports/')

# Get quality score
score = analyzer.get_quality_score()
print(f"Quality Score: {score}/100")

# Individual analyses
violations = analyzer.analyze_violations()
templates = analyzer.analyze_templates()
errors = analyzer.analyze_errors()
```

## ğŸ“Š Example Output

```
ğŸ“Š ANALYSIS SUMMARY
==================================================
âœ… Quality Score: 85/100 - Excellent!
ğŸ“ Files analyzed: 124
âš ï¸  Files with violations: 8
ğŸ¨ Templates: 15
ğŸ” Ruff Errors: 0
ğŸ”¥ High priority issues: 2

ğŸ¯ ACTION PRIORITIES:
1. ğŸ”´ High Priority Violations (2)
2. ğŸŸ¡ Templates with Too Much Inline CSS/JS (3)
```

## ğŸ”§ Configuration

### JSON Configuration File

```json
{
  "limits": {
    "python_function": {"yellow": 30, "red": 50},
    "python_class": {"yellow": 300, "red": 500},
    "python_module": {"yellow": 500, "red": 1000},
    "html_template": {"yellow": 150, "red": 200},
    "test_file": {"yellow": 400, "red": 600}
  },
  "target_dir": "src/",
  "file_rules": {
    "critical_files": ["main.py", "core.py"],
    "skip_patterns": [".git", "__pycache__", "node_modules"]
  }
}
```

### Usage with Configuration

```bash
codehealthanalyzer analyze . --config config.json
```

```python
import json
from codehealthanalyzer import CodeAnalyzer

with open('config.json') as f:
    config = json.load(f)

analyzer = CodeAnalyzer('/path/to/project', config)
```

## ğŸ“ˆ Analysis Types

### ğŸš¨ Violations Analysis

Detects:
- Functions too long (> 50 lines)
- Classes too large (> 500 lines)
- Modules too extensive (> 1000 lines)
- HTML templates too long (> 200 lines)

### ğŸ¨ Template Analysis

Identifies:
- Inline CSS in `style` attributes
- Inline JavaScript in events (`onclick`, etc.)
- `<style>` tags with too much content
- `<script>` tags with too much code

### âš ï¸ Error Analysis

Integrates with Ruff to detect:
- Syntax errors
- Style issues
- Unused imports
- Undefined variables
- Excessive complexity

## ğŸ“Š Quality Score

The score is calculated based on:
- **High priority violations**: -10 points each
- **Linting errors**: -2 points each
- **Problematic templates**: -5 points each
- **Base**: 100 points

### Interpretation
- **80-100**: ğŸŸ¢ Excellent
- **60-79**: ğŸŸ¡ Good
- **0-59**: ğŸ”´ Needs improvement

## ğŸŒ Internationalization

### Language Support

CodeHealthAnalyzer supports multiple languages:
- **Portuguese (Brazil)**: Default language
- **English**: Full translation available

### Setting Language

```python
from codehealthanalyzer.i18n import set_language

# Set to English
set_language('en')

# Set to Portuguese (Brazil)
set_language('pt_BR')

# Auto-detect system language
from codehealthanalyzer.i18n import auto_configure_language
auto_configure_language()
```

### Environment Variable

```bash
# Set language via environment
export CODEHEALTHANALYZER_LANG=en
codehealthanalyzer analyze .
```

## ğŸ› ï¸ Advanced API

### Individual Analyzers

```python
from codehealthanalyzer.analyzers import (
    ViolationsAnalyzer,
    TemplatesAnalyzer,
    ErrorsAnalyzer
)

# Specific violations analysis
violations_analyzer = ViolationsAnalyzer('/path/to/project')
violations_report = violations_analyzer.analyze()

# Specific templates analysis
templates_analyzer = TemplatesAnalyzer('/path/to/project')
templates_report = templates_analyzer.analyze()

# Specific errors analysis
errors_analyzer = ErrorsAnalyzer('/path/to/project')
errors_report = errors_analyzer.analyze()
```

### Report Generation

```python
from codehealthanalyzer.reports import ReportGenerator, ReportFormatter

generator = ReportGenerator()
formatter = ReportFormatter()

# Generate consolidated report
full_report = generator.generate_full_report(
    violations=violations_report,
    templates=templates_report,
    errors=errors_report,
    output_dir='reports/'
)

# Convert to different formats
html_content = generator.generate_html_report(full_report, 'report.html')
markdown_content = formatter.to_markdown(full_report, 'report.md')
formatter.to_csv(full_report, 'report.csv')
```

## ğŸ§ª Testing

```bash
# Install development dependencies
pip install -e ".[dev]"

# Run tests
pytest

# Run tests with coverage
pytest --cov=codehealthanalyzer

# Run linting
ruff check codehealthanalyzer/
black --check codehealthanalyzer/
```

## ğŸ¤ Contributing

1. Fork the project
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### Contribution Guidelines

- Follow existing code style
- Add tests for new features
- Update documentation when necessary
- Use semantic commits

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- [Ruff](https://github.com/astral-sh/ruff) - Ultra-fast Python linter
- [Click](https://click.palletsprojects.com/) - CLI framework
- [Rich](https://github.com/Textualize/rich) - Rich terminal formatting

## ğŸ“ Support

- ğŸ“§ Email: contato@luarco.com.br
- ğŸ› Issues: [GitHub Issues](https://github.com/imparcialista/codehealthanalyzer/issues)
- ğŸ“– Documentation: [ReadTheDocs](https://codehealthanalyzer.readthedocs.io/)

---

**Made with â¤ï¸ by the Imparcialista team**
