> Эта документация была создана с помощью ИИ. Если вы обнаружите ошибки или у вас есть предложения по улучшению, пожалуйста, внесите свой вклад! [Редактировать на GitHub](https://github.com/Comfy-Org/embedded-docs/blob/main/comfyui_embedded_docs/docs/APG/ru.md)

Узел APG (Адаптивное Проекционное Управление) изменяет процесс сэмплирования, регулируя способ применения управляющих сигналов во время диффузии. Он разделяет вектор управления на параллельную и ортогональную составляющие относительно условного вывода, что позволяет более контролируемо генерировать изображения. Узел предоставляет параметры для масштабирования управляющего сигнала, нормализации его величины и применения импульса для более плавных переходов между шагами диффузии.

## Входы

| Параметр | Тип данных | Тип ввода | По умолчанию | Диапазон | Описание |
|-----------|-----------|------------|---------|-------|-------------|
| `model` | MODEL | Обязательный | - | - | Модель диффузии, к которой применяется адаптивное проекционное управление |
| `eta` | FLOAT | Обязательный | 1.0 | -10.0 до 10.0 | Управляет масштабом параллельного вектора управления. Стандартное поведение CFG при значении 1. |
| `norm_threshold` | FLOAT | Обязательный | 5.0 | 0.0 до 50.0 | Нормализует вектор управления до этого значения; нормализация отключается при значении 0. |
| `momentum` | FLOAT | Обязательный | 0.0 | -5.0 до 1.0 | Управляет скользящим средним управляющего сигнала во время диффузии; отключается при значении 0. |

## Выходы

| Имя выхода | Тип данных | Описание |
|-------------|-----------|-------------|
| `model` | MODEL | Возвращает модифицированную модель с применённым адаптивным проекционным управлением к её процессу сэмплирования |
