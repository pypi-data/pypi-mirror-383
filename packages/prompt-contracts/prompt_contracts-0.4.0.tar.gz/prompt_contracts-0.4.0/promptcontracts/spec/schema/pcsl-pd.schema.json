{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://promptcontracts.org/schemas/pcsl-pd.schema.json",
  "title": "PCSL Prompt Definition",
  "description": "Schema for Prompt Definition (PD) artefacts",
  "type": "object",
  "required": ["pcsl", "id", "io", "prompt"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "pcsl": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "PCSL version (SemVer)"
    },
    "id": {
      "type": "string",
      "description": "Unique identifier for this prompt"
    },
    "io": {
      "type": "object",
      "required": ["channel", "expects"],
      "properties": {
        "channel": {
          "type": "string",
          "enum": ["text"],
          "description": "I/O channel type"
        },
        "expects": {
          "type": "string",
          "enum": ["structured/json", "unstructured/text"],
          "description": "Expected response format"
        }
      }
    },
    "prompt": {
      "type": "string",
      "description": "The canonical prompt text"
    },
    "metadata": {
      "type": "object",
      "description": "Optional metadata (author, tags, etc.)"
    }
  }
}
