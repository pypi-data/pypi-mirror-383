import{j as B,k as F,r as m,l as T,m as V,n as v,w as o,z as R,o as w,a as y,s as b,c as S,b as d,t as h,q as s,d as a,y as P,B as q}from"./C8NgpPpc.js";import{c as A,i as I}from"./DeaeknEB.js";import{U as k}from"./CpBh97f4.js";import{l as $,u as j}from"./DJksR8kQ.js";import{r as z}from"./DueXm2QC.js";const D=y("title",null,"Edit Profile",-1),L={class:"section-header",style:{display:"inline"}},M={key:2},G={class:"submit-footer"},X=B({__name:"profile-edit",async setup(H){let f,C;const U=F("user"),l=m(new k);l.value=([f,C]=T(()=>$()),f=await f,C(),f||new k);const n=m(!1),r=m(""),u=m(""),i=m({password:!1,confirmPassword:!1});function g(){r.value="",u.value="",n.value=!0}function x(){n.value=!1,r.value="",u.value=""}async function E(){i.value=z(i.value);let p=!1;if(n.value&&(r.value.trim()===""&&(i.value.password=!0,p=!0),r.value!==u.value&&(i.value.confirmPassword=!0,p=!0)),p){I();return}await j(l.value)&&q("/")}return(p,e)=>{const c=V("UsaButton"),_=V("UsaTextInput"),N=R;return w(),v(N,{name:"base-layout"},{"page-title":o(()=>[a("Edit Profile")]),default:o(()=>[D,y("h2",L,h(s(U)),1),s(n)?b("",!0):(w(),v(c,{key:0,class:"secondary-button sub-header-float-button",onClick:g},{default:o(()=>[a(" Change Password ")]),_:1})),s(n)?(w(),v(c,{key:1,class:"secondary-button sub-header-float-button",onClick:x},{default:o(()=>[a(" Cancel Change ")]),_:1})):b("",!0),s(n)?(w(),S("div",M,[d(_,{modelValue:s(r),"onUpdate:modelValue":e[0]||(e[0]=t=>P(r)?r.value=t:null),error:s(i).password,type:"password"},{label:o(()=>[a(" New Password ")]),"error-message":o(()=>[a(" Password is required ")]),_:1},8,["modelValue","error"]),d(_,{modelValue:s(u),"onUpdate:modelValue":e[1]||(e[1]=t=>P(u)?u.value=t:null),error:s(i).confirmPassword,type:"password"},{label:o(()=>[a(" Confirm New Password ")]),"error-message":o(()=>[a(" Passwords to not match ")]),_:1},8,["modelValue","error"])])):b("",!0),d(_,{modelValue:s(l).email,"onUpdate:modelValue":e[2]||(e[2]=t=>s(l).email=t)},{label:o(()=>[a(" Email ")]),_:1},8,["modelValue"]),d(_,{modelValue:s(l).full_name,"onUpdate:modelValue":e[3]||(e[3]=t=>s(l).full_name=t)},{label:o(()=>[a(" Full Name ")]),_:1},8,["modelValue"]),y("div",G,[d(c,{class:"primary-button",onClick:e[4]||(e[4]=t=>s(A)("/"))},{default:o(()=>[a(" Cancel ")]),_:1}),d(c,{class:"primary-button",onClick:e[5]||(e[5]=t=>E())},{default:o(()=>[a(" Save ")]),_:1})])]),_:1})}}});export{X as default};
