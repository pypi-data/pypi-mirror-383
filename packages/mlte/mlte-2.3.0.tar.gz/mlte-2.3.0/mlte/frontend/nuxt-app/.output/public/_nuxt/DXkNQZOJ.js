import{t as A}from"./DueXm2QC.js";import{j as L,c as u,o as i,a as e,t as d,d as p,q as l,F as D,v as T,s as K,D as M,b as y,C as H,r as v,l as F,m as I,n as z,w as R,z as Q,y as x}from"./C8NgpPpc.js";import{b as G,a as J}from"./DJksR8kQ.js";import{S as E}from"./CpBh97f4.js";const P=e("b",null,"Timestamp: ",-1),W=e("b",null,"Creator: ",-1),X=L({__name:"header-display",props:{header:{type:Object,required:!0}},setup(t){return(n,r)=>(i(),u("ul",null,[e("li",null,[e("b",null,"Identifier: "+d(t.header.identifier),1)]),e("li",null,[P,p(d(l(A)(t.header.timestamp)),1)]),e("li",null,[W,p(d(t.header.creator),1)])]))}}),Y=e("b",null,"Status: ",-1),Z=e("b",null,"Measurement: ",-1),k={key:0},ee={key:1},te=e("b",null,"Message: ",-1),se=e("b",null,"Quality Attribute Scenarios:",-1),ne={key:0},oe=L({__name:"result-view",props:{resultKey:{type:String,required:!0},result:{type:Object,required:!0},testCases:{type:Object,required:!0}},setup(t){const n=t;return(r,c)=>(i(),u("div",null,[e("ul",null,[e("li",null,[Y,p(d(t.result.type),1)]),e("li",null,[Z,t.result.evidence_metadata?(i(),u("span",k,d(t.result.evidence_metadata.measurement.measurement_class),1)):(i(),u("span",ee,"None"))]),e("li",null,[te,p(" "+d(t.result.message),1)]),e("li",null,[se,e("ul",null,[(i(!0),u(D,null,T(n.testCases,(s,b)=>(i(),u("span",{key:b},[t.resultKey==s.identifier?(i(),u("li",ne,[(i(!0),u(D,null,T(s.qas_list,($,g)=>(i(),u("span",{key:g},d($)+" - "+d(t.resultKey),1))),128))])):K("",!0)]))),128))])])])]))}});function le(t,n){const r=[];return t.identifier!=n.identifier&&r.push("Identifier"),t.timestamp!=n.timestamp&&r.push("Timestamp"),t.creator!=n.creator&&r.push("Creator"),r.length===0&&r.push("None"),r}function re(t,n,r){const c={};return t.forEach(s=>{c[s]=[],!(s in n)||!(s in r)?c[s].push("No matching result."):(n[s].type!=r[s].type&&c[s].push("Status"),n[s].message!=r[s].message&&c[s].push("Message"),(n[s].evidence_metadata&&r[s].evidence_metadata&&n[s].evidence_metadata.measurement.measurement_class!=r[s].evidence_metadata.measurement.measurement_class||!n[s].evidence_metadata&&r[s].evidence_metadata||n[s].evidence_metadata&&!r[s].evidence_metadata)&&c[s].push("Measurement"),c[s].length===0&&c[s].push("None"))}),c}const ie=e("h3",null,"Header",-1),ue={key:0,style:{color:"green"}},ae=e("b",null,"Differences: ",-1),de={key:1,style:{color:"red"}},ce=e("b",null,"Differences: ",-1),_e=e("h3",null,"Test Results",-1),pe=e("b",null,"Result for: ",-1),me={key:0,style:{color:"green"}},fe=e("b",null,"Differences: ",-1),he={key:1,style:{color:"red"}},ve=e("b",null,"Differences: ",-1),be=e("b",null,"Version: ",-1),ye={key:0},ge={key:1},Ve=e("ul",null,[e("li",null,"No Result")],-1),$e=[Ve],Se=e("b",null,"Version: ",-1),Re={key:0},Ce={key:1},je=e("ul",null,[e("li",null,"No Result")],-1),qe=[je],Oe=L({__name:"report-compare",props:{version1:{type:String,required:!0},version2:{type:String,required:!0},report1:{type:Object,required:!0,validator:t=>t.body.artifact_type==="report"},report2:{type:Object,required:!0,validator:t=>t.body.artifact_type==="report"}},setup(t){const n=t,r=M(()=>{const b=[...Object.keys(n.report1.body.test_results.results),...Object.keys(n.report2.body.test_results.results)];return[...new Set(b)]}),c=M(()=>le(n.report1.header,n.report2.header)),s=M(()=>re(r.value,n.report1.body.test_results.results,n.report2.body.test_results.results));return(b,$)=>{const g=X,V=oe;return i(),u(D,null,[ie,l(c)[0]=="None"?(i(),u("div",ue,[ae,p(" "+d(l(c).join(", ")),1)])):(i(),u("div",de,[ce,p(" "+d(l(c).join(", ")),1)])),e("b",null,d(t.version1),1),y(g,{header:t.report1.header},null,8,["header"]),e("b",null,d(t.version2),1),y(g,{header:t.report2.header},null,8,["header"]),_e,(i(!0),u(D,null,T(l(r),_=>(i(),u("div",{key:_},[e("p",null,[pe,p(d(_),1)]),e("ul",null,[e("li",null,[l(s)[_][0]=="None"?(i(),u("div",me,[fe,p(" "+d(l(s)[_].join(", ")),1)])):(i(),u("div",he,[ve,p(" "+d(l(s)[_].join(", ")),1)]))]),e("li",null,[be,p(d(t.version1)+" ",1),_ in t.report1.body.test_results.results?(i(),u("div",ye,[y(V,{"result-key":_,result:t.report1.body.test_results.results[_],"test-cases":t.report1.body.test_suite.test_cases},null,8,["result-key","result","test-cases"])])):(i(),u("div",ge,$e))])]),e("ul",null,[e("li",null,[Se,p(d(t.version2)+" ",1),_ in t.report2.body.test_results.results?(i(),u("div",Re,[y(V,{"result-key":_,result:t.report2.body.test_results.results[_],"test-cases":t.report2.body.test_suite.test_cases},null,8,["result-key","result","test-cases"])])):(i(),u("div",Ce,qe))])])]))),128))],64)}}}),we=e("title",null,"Report Compare",-1),xe={class:"section-header"},De={class:"row"},Le={class:"column"},Me={class:"half-line-input"},Te={class:"half-line-input"},Ue={class:"column"},Ne={class:"half-line-input"},Be={class:"half-line-input"},Ee={key:0},Ie=L({__name:"artifact-compare",async setup(t){let n,r;const c=H().query.model,s=v([]),b=v(""),$=v([]),g=v([]),V=v(""),_=v(),C=v(""),U=v([]),N=v([]),O=v(""),w=v(),m=([n,r]=F(()=>J(c)),n=await n,r(),n);m&&m.forEach(f=>{s.value.push(new E(f,f))}),m.length>1?(S(1,m[m.length-2]),S(2,m[m.length-1])):m.length===1&&(S(1,m[m.length-1]),S(2,m[m.length-1]));async function S(f,o){if(f===1?(b.value=o,V.value="",_.value=void 0):f===2&&(C.value=o,O.value="",w.value=void 0),o=="")return;const h=await G(c,o);if(h){const j=[],q=[];h.forEach(a=>{a.body.artifact_type==="report"&&(j.push(a),q.push(new E(a.header.identifier,a.header.identifier)))}),f===1?($.value=j,g.value=q):f===2&&(U.value=j,N.value=q)}else return}async function B(f,o){f===1?_.value=$.value.find(h=>h.header.identifier===o):f===2&&(w.value=U.value.find(h=>h.header.identifier===o))}return(f,o)=>{const h=I("UsaSelect"),j=Oe,q=Q;return i(),z(q,{name:"base-layout"},{"page-title":R(()=>[p("Report Compare")]),default:R(()=>[we,e("h1",xe,d(l(c)),1),e("div",De,[e("div",Le,[e("div",Me,[y(h,{modelValue:l(b),"onUpdate:modelValue":[o[0]||(o[0]=a=>x(b)?b.value=a:null),o[1]||(o[1]=a=>S(1,a))],options:l(s)},{label:R(()=>[p("Version 1 ")]),_:1},8,["modelValue","options"])]),e("div",Te,[y(h,{modelValue:l(V),"onUpdate:modelValue":[o[2]||(o[2]=a=>x(V)?V.value=a:null),o[3]||(o[3]=a=>B(1,a))],options:l(g)},{label:R(()=>[p("Report 1 ")]),_:1},8,["modelValue","options"])])]),e("div",Ue,[e("div",Ne,[y(h,{modelValue:l(C),"onUpdate:modelValue":[o[4]||(o[4]=a=>x(C)?C.value=a:null),o[5]||(o[5]=a=>S(2,a))],options:l(s)},{label:R(()=>[p(" Version 2 ")]),_:1},8,["modelValue","options"])]),e("div",Be,[y(h,{modelValue:l(O),"onUpdate:modelValue":[o[6]||(o[6]=a=>x(O)?O.value=a:null),o[7]||(o[7]=a=>B(2,a))],options:l(N)},{label:R(()=>[p("Report 2 ")]),_:1},8,["modelValue","options"])])])]),l(_)&&l(w)?(i(),u("div",Ee,[y(j,{version1:l(b),version2:l(C),report1:l(_),report2:l(w)},null,8,["version1","version2","report1","report2"])])):K("",!0)]),_:1})}}});export{Ie as default};
