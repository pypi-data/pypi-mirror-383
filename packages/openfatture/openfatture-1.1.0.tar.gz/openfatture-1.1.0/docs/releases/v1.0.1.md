# OpenFatture v1.0.1 – AI Cash Flow Upgrade

**Status:** TBD • **Focus:** stabilise `ai forecast`, surface ML metrics, expand automated testing.

## Key Updates

- ✅ **Cash Flow Predictor in production**
  - Prophet + XGBoost ensemble with configurable weights (`MLConfig`)
  - Full persistence of artefacts (`cash_flow_*` inside `.models/`)
  - Training metrics (MAE/RMSE/coverage) saved to JSON for auditability
  - Feature engineering pipeline (`FeaturePipeline`) is versioned and reusable
- ✅ **Improved CLI experience**
  - `openfatture ai forecast --retrain` forces model retraining
  - CLI output enriched with confidence intervals and AI insights
- ✅ **Automated tests**
  - New `tests/ai/test_cash_flow_predictor_training.py` with deterministic stubs
  - Coverage of error handling (insufficient dataset, missing artefacts)

## How to Update

```bash
git pull origin main
uv sync
uv run openfatture ai forecast --retrain  # rebuild models with your data
```

## Notes

`ai check` remains in beta—work continues on the compliance agent and LangGraph multi-agent workflows for the next release.
