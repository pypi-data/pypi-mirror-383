# OpenFatture v1.0.0 – Release Notes

First official, fully supported release of OpenFatture. Consolidates every feature introduced during phases 1–5, with emphasis on payment reconciliation, CLI experience, and AI maturity.

## Overview
- **Release date:** 10 October 2025
- **Version:** `1.0.0`
- **Goals:** deliver stability for freelancers and small practices, enable end-to-end workflows from invoice to payment, provide unified documentation.

## Highlights
- **Advanced payment reconciliation**
  - Complete `openfatture.payment` module with CSV/OFX/QIF import, deduplication, and allocation ledger.
  - Composite matching engine with confidence scoring and interactive review.
  - Automated, multi-channel payment reminders with configurable strategies.
- **CLI & TUI experience**
  - `openfatture --interactive` dashboard with AI chat and fast shortcuts.
  - Dedicated commands for customers, invoices, SDI notifications, reporting, payments, and AI.
  - PDF generation (`openfatture fattura pdf`) with three templates and PDF/A-3 compliance.
- **Operational AI**
  - Agents available: Chat Assistant, Invoice Assistant, Tax Advisor.
  - CLI features: `ai describe`, `ai suggest-vat`, RAG tooling, and indexable knowledge base.
  - PaymentInsightAgent surfaces partial payments when an LLM provider is configured.
- **Quality & Compliance**
  - 74 dedicated payment-module tests, overall coverage >85%.
  - FatturaPA v1.9 validation refreshed for 2025, digital signature P7M/CAdES supported.

## Upgrade from 0.1.0
1. **Update code**
   ```bash
   git fetch origin
   git checkout v1.0.0
   uv sync --all-extras
   ```
2. **Database backup**
   ```bash
   cp openfatture.db backups/openfatture-$(date +%Y%m%d).db
   ```
3. **Align schema**
   ```bash
   uv run python -c "from openfatture.storage.database.session import init_db; init_db()"
   ```
4. **Check configuration**
   - Add new variables from `.env.example` (payment reminders, AI provider, etc.).
   - Review updated email templates (`openfatture/utils/email/templates`).
5. **Regenerate knowledge base (if AI enabled)**
   ```bash
   uv run openfatture ai rag index
   ```

> ℹ️ No breaking changes to database identifiers; `init_db()` creates the new payment allocation tables automatically.

## System Requirements
- **Python:** 3.12 or later (tested on macOS, Linux, Windows).
- **Package manager:** `uv` recommended for performance and lockfile support.
- **Database:** bundled SQLite; PostgreSQL recommended for multi-user installations.
- **Optional dependencies:**
  - ReportLab 4.0+ for PDF (included in extras).
  - LLM providers (OpenAI, Anthropic, Ollama) for AI features.

## Post-Install Checklist
1. `uv run openfatture --version` → should print `OpenFatture v1.0.0`.
2. `uv run python -m pytest` → all tests should pass.
3. `uv run openfatture init` → initialise data structure (skip if already configured).
4. `uv run openfatture payment import samples/intesa.csv --dry-run` → validate new import flow.
5. `uv run openfatture ai describe "DevOps consulting"` → confirm AI integration (if configured).

## Related Documentation
- **Documentation index:** [docs/README.md](../README.md)
- **Payment reconciliation:** [docs/PAYMENT_TRACKING.md](../PAYMENT_TRACKING.md)
- **CLI reference:** [docs/CLI_REFERENCE.md](../CLI_REFERENCE.md)
- **Configuration:** [docs/CONFIGURATION.md](../CONFIGURATION.md)
- **Technical release process:** [docs/DEVELOPMENT.md](../DEVELOPMENT.md#release-process)
- **Full changelog:** [CHANGELOG.md](../../CHANGELOG.md)

## Known Issues & Future Work
- `openfatture ai forecast` and `openfatture ai check` remain in beta with placeholder responses.
- Web UI and payment gateway integrations are scheduled for Phase 6.
- Real-time bank causale extraction (webhooks) is planned for v1.1.0.

Report bugs or request features via GitHub Issues or the Support section in the main README.
