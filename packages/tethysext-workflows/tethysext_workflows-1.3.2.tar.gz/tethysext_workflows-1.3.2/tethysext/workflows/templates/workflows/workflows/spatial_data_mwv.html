{% extends "workflows/workflows/map_workflow_view.html" %}
{% load tethys_gizmos static %}

{% block after_app_content %}
  {{ block.super }}

  <div id="spatial-data-attributes"
       data-enable-spatial-data-popup="{{ enable_spatial_data_popup|jsonify }}"
       style="display: none;"
  ></div>

  {# Spatial Data Pop-up #}
  <div id="spatial-data-popup" class="ol-popup">
    <a href="javascript:void(0);" id="spatial-data-popup-close-btn" class="ol-popup-close-btn">&times;</a>
    <div id="spatial-data-popup-content" class="ol-popup-content">
      <form id="spatial-data-form">
        <img src="{% static 'workflows/images/loading-dots-small.gif' %}">
      </form>
      {% block popup_footer %}
        <a href="javscript:void(0)" class="btn btn-outline-secondary" onclick="SPATIAL_DATA_MWV.save_data();">Save</a>
      {% endblock %}
    </div>
  </div>
{% endblock %}

{% block content_dependent_styles %}
  {{ block.super }}
  <link href="{% static 'workflows/workflows/spatial_data_mwv.css' %}" rel="stylesheet"/>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'workflows/js/utilities.js' %}" type="text/javascript"></script>
  <script src="{% static 'workflows/js/messages.js' %}" type="text/javascript"></script>
  <script src="{% static 'workflows/workflows/spatial_data_mwv.js' %}" type="text/javascript"></script>
{% endblock %}