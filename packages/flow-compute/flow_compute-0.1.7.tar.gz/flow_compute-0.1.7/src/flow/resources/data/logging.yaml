version: 1

formatters:
  plain:
    format: "%(asctime)s - %(name)s - %(levelname)s - %(filename)s:%(lineno)d - %(message)s"
  json:
    (): flow.adapters.logging.json_formatter.JsonLogFormatter

filters:
  redaction:
    (): flow.adapters.logging.filters.RedactionFilter

handlers:
  console:
    class: logging.StreamHandler
    level: WARNING
    formatter: plain
    stream: ext://sys.stderr
    filters: [redaction]

loggers:
  flow:
    level: WARNING
    handlers: [console]
    propagate: false

root:
  level: WARNING
  handlers: []
