{% extends "admin/change_list.html" %}

{% block content %}
<div style="margin-bottom:1.5rem;">
  <h2>Visits — Unique IPs (last 30 days)</h2>
  {% if chart_base64 %}
  <img src="data:image/png;base64,{{ chart_base64 }}" alt="visits chart"
    style="max-width:100%;height:auto;border:1px solid #ddd;padding:4px;background:#fff;" />
  {% else %}
  <p>No chart available</p>
  {% endif %}
</div>

<div style="margin-bottom:1.5rem;">
  <h2>Operating Systems Used</h2>
  {% if os_chart_base64 %}
  <img src="data:image/png;base64,{{ os_chart_base64 }}" alt="OS chart"
    style="max-width:100%;height:auto;border:1px solid #ddd;padding:4px;background:#fff;" />
  {% else %}
  <p>No OS data available</p>
  {% endif %}
</div>

<div style="margin-bottom:1.5rem;">
  <strong>Summary (period / unique_ips / visits)</strong>
  <ul>
    {% for row in aggregates_table %}
    <li>{{ row.period }} — {{ row.unique_ips }} unique IPs — {{ row.visits }} visits</li>
    {% endfor %}
  </ul>
</div>

{{ block.super }}
{% endblock %}