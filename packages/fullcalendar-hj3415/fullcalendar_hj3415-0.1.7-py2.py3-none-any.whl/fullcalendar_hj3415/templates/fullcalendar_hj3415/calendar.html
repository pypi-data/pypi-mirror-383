<!-- fullcalendar 4를 응용한 달력 모달창 생성 스크립트 -->
<!-- https://fullcalendar.io/docs/v4#toc -->

{% load static %}

<style>
/*--------------------------------------------------------------
# MyModal Section
--------------------------------------------------------------*/
.mymodal {
  padding: 0;
  margin: 10px;
}
</style>

<link href="{% static 'fullcalendar_hj3415/fullcalendar4/packages/core/main.css' %}" rel='stylesheet' />
<link href="{% static 'fullcalendar_hj3415/fullcalendar4/packages/daygrid/main.css' %}" rel='stylesheet' />

<script src="{% static 'fullcalendar_hj3415/fullcalendar4/packages/core/main.js' %}" ></script>
<script src="{% static 'fullcalendar_hj3415/fullcalendar4/packages/daygrid/main.js' %}" ></script>
<script src="{% static 'fullcalendar_hj3415/fullcalendar4/packages/core/locales/ko.js' %}" ></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      themeSystem: 'bootstrap5',
      plugins: [ 'dayGrid' ],
      defaultDate: '{{ default_date }}',
      defaultView: 'dayGridMonth',
      contentHeight: 560,
      aspectRatio: 2,
      locale: 'ko',
      header: {
        left:   'title',
        center: '',
        right:  'today prev,next'
      },
      views: {
        dayGridMonth: {
          titleFormat: { month: '2-digit'}
        }
      },
      events: [
        {% for event in events %}
        {
          title: '{{ event.title }}',
          start: '{{ event.date_of_event | date:'Y-m-d' }}',
          color : '{{ event.event_type.color }}'
        },
        {% endfor %}
      ]
    });
    calendar.render();
  });
</script>

<!-- ======= MyModal Section ======= -->
<section id="mymodal" class="mymodal">
  <div id='calendar'></div>
</section><!-- End MyModal -->
