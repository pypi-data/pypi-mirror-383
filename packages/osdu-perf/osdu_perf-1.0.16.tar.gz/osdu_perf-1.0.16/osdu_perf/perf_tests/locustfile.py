"""
OSDU Performance Tests - Locust Configuration
Generated by OSDU Performance Testing Framework

# This will auto-discover and run: perf_storage_test.py
"""
import os
from locust import events
from osdu_perf import PerformanceUser

@events.init_command_line_parser.add_listener
def add_custom_args(parser):
    """Add OSDU-specific command line arguments"""
    parser.add_argument("--partition", type=str, default=os.getenv("PARTITION"), help="OSDU Data Partition ID")
    # Note: --host is provided by Locust built-in, no need to add it here
    # Note: --token is not exposed as CLI arg for security, only via environment variable
    parser.add_argument("--appid", type=str, default=os.getenv("APPID"), help="Azure AD Application ID")

class OSDUUser(PerformanceUser):
    def on_start(self):
        """Called when a user starts - performs setup"""
        super().on_start()
        
    
    def on_stop(self):
        """Called when a user stops - performs cleanup"""
        print("ðŸ›‘ Stopped performance testing user")

