[package]
name = "rusty-tags"
version = "0.6.32"
edition = "2021"
readme = "README.md"
# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[lib]
name = "core"
path = "src/lib.rs"
crate-type = ["cdylib"]

[dependencies]
pyo3 = { version = "0.26.0", features = ["extension-module"] }
itoa = "1.0"  # Fast integer to string conversion
ryu = "1.0"   # Fast float to string conversion
ahash = "0.8"  # Faster hash algorithm - significant performance win
smallvec = "1.13"  # Stack allocation for small collections
dashmap = "6.1"  # Lock-free concurrent HashMap
once_cell = "1.20"  # Better than std::sync::OnceLock for some use cases
memchr = "2.7"  # SIMD-accelerated string searching
bumpalo = "3.16"  # Arena allocator for efficient memory management
serde = { version = "1.0", features = ["derive"] }  # JSON serialization for Datastar
serde_json = "1.0"  # JSON parsing and generation for reactive attributes
pythonize = "0.26"  # Convert Python objects to serde_json::Value

# Aggressive optimization settings for maximum performance
[profile.release]
opt-level = 3          # Maximum optimization
lto = "fat"           # Link-time optimization across all crates
codegen-units = 1     # Single codegen unit for better optimization
panic = "abort"       # Smaller binary size and slight performance gain
strip = "symbols"     # Remove debug symbols for smaller binary
overflow-checks = false  # Disable overflow checks for maximum speed
debug-assertions = false # Disable debug assertions

