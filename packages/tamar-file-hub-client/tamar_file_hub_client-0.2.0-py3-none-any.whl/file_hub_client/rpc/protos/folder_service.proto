syntax = "proto3";

package folder;

import "google/protobuf/timestamp.proto";

service FolderService {
    rpc CreateFolder (CreateFolderRequest) returns (Folder);
    rpc RenameFolder (RenameFolderRequest) returns (Folder);
    rpc MoveFolder (MoveFolderRequest) returns (Folder);
    rpc DeleteFolder (DeleteFolderRequest) returns (Empty);
    rpc ListFolders (ListFoldersRequest) returns (FolderListResponse);
}

// ========= 数据结构定义 =========

message Folder {
    string id = 1;
    string org_id = 2;
    string user_id = 3;
    string folder_name = 4;
    string parent_id = 5;
    string created_by = 6;
    string created_by_role = 7;
    google.protobuf.Timestamp created_at = 8;
    google.protobuf.Timestamp updated_at = 9;
}

// ========= 请求结构 =========

message CreateFolderRequest {
    string folder_name = 1;
    optional string parent_id = 2;
}

message RenameFolderRequest {
    string folder_id = 1;
    string new_name = 2;
}

message MoveFolderRequest {
    string folder_id = 1;
    string new_parent_id = 2;
}

message DeleteFolderRequest {
    string folder_id = 1;
}

message ListFoldersRequest {
    optional string parent_id = 1;
    optional string org_id = 2;
    optional string user_id = 3;
    optional string folder_name = 4;
    optional string created_by_role = 5;
    optional string created_by = 6;
}

// ========= 响应结构 =========

message FolderListResponse {
    repeated Folder folders = 1;
}

message Empty {}