import pytest

import uproot_custom
import uproot

test_branches = [
    "/my_tree:basic_types/m_bool",
    "/my_tree:basic_types/m_char",
    "/my_tree:basic_types/m_schar",
    "/my_tree:basic_types/m_uchar",
    "/my_tree:basic_types/m_short",
    "/my_tree:basic_types/m_sshort",
    "/my_tree:basic_types/m_ushort",
    "/my_tree:basic_types/m_int",
    "/my_tree:basic_types/m_sint",
    "/my_tree:basic_types/m_uint",
    "/my_tree:basic_types/m_long",
    "/my_tree:basic_types/m_slong",
    "/my_tree:basic_types/m_ulong",
    "/my_tree:basic_types/m_llong",
    "/my_tree:basic_types/m_sllong",
    "/my_tree:basic_types/m_ullong",
    "/my_tree:basic_types/m_float",
    "/my_tree:basic_types/m_double",
    "/my_tree:basic_types/m_ldouble",
    "/my_tree:basic_types/m_int8",
    "/my_tree:basic_types/m_uint8",
    "/my_tree:basic_types/m_int16",
    "/my_tree:basic_types/m_uint16",
    "/my_tree:basic_types/m_int32",
    "/my_tree:basic_types/m_uint32",
    "/my_tree:basic_types/m_int64",
    "/my_tree:basic_types/m_uint64",
    "/my_tree:basic_types/m_rt_bool",
    "/my_tree:basic_types/m_rt_char",
    "/my_tree:basic_types/m_rt_uchar",
    "/my_tree:basic_types/m_rt_short",
    "/my_tree:basic_types/m_rt_ushort",
    "/my_tree:basic_types/m_rt_int",
    "/my_tree:basic_types/m_rt_uint",
    "/my_tree:basic_types/m_rt_long",
    "/my_tree:basic_types/m_rt_ulong",
    "/my_tree:basic_types/m_rt_llong",
    "/my_tree:basic_types/m_rt_ullong",
    "/my_tree:basic_types/m_rt_float",
    "/my_tree:basic_types/m_rt_double",
    "/my_tree:basic_types/m_rt_ldouble",
    "/my_tree:stl_string/m_str",
    "/my_tree:stl_sequence/m_vec_double",
    "/my_tree:stl_sequence/m_set_double",
    "/my_tree:stl_sequence/m_list_double",
    "/my_tree:stl_sequence/m_uset_double",
    "/my_tree:stl_sequence/m_mset_double",
    "/my_tree:stl_sequence/m_umset_double",
    "/my_tree:stl_sequence/m_vec_str",
    "/my_tree:stl_sequence/m_vec_tstr",
    "/my_tree:stl_map/m_map_int_double/m_map_int_double.first",
    "/my_tree:stl_map/m_map_int_double/m_map_int_double.second",
    "/my_tree:stl_map/m_umap_int_double/m_umap_int_double.first",
    "/my_tree:stl_map/m_umap_int_double/m_umap_int_double.second",
    "/my_tree:stl_map/m_mmap_int_double/m_mmap_int_double.first",
    "/my_tree:stl_map/m_mmap_int_double/m_mmap_int_double.second",
    "/my_tree:stl_map/m_ummap_int_double/m_ummap_int_double.first",
    "/my_tree:stl_map/m_ummap_int_double/m_ummap_int_double.second",
    "/my_tree:stl_map/m_map_str_tstr/m_map_str_tstr.first",
    "/my_tree:stl_map/m_map_str_tstr/m_map_str_tstr.second",
    "/my_tree:root_objects/m_TString",
    "/my_tree:root_objects/m_TArrayC",
    "/my_tree:root_objects/m_TArrayD",
    "/my_tree:root_objects/m_TArrayF",
    "/my_tree:root_objects/m_TArrayI",
    "/my_tree:root_objects/m_TArrayL",
    "/my_tree:root_objects/m_TArrayL64",
    "/my_tree:root_objects/m_TArrayS",
    "/my_tree:cstyle_array/m_bool[3]",
    "/my_tree:cstyle_array/m_schar[3]",
    "/my_tree:cstyle_array/m_int[2][3][4]",
    "/my_tree:cstyle_array/m_str[3]",
    "/my_tree:cstyle_array/m_vec_double[3]",
    "/my_tree:cstyle_array/m_map_int_double[3]",
    "/my_tree:cstyle_array/m_map_str_str[3]",
    "/my_tree:cstyle_array/m_tstr[3]",
    "/my_tree:cstyle_array/m_tarr_int[3]",
    "/my_tree:cstyle_array/m_simple_obj[3]",
    "/my_tree:stl_array/m_arr_bool[3]",
    "/my_tree:stl_array/m_arr_schar[3]",
    "/my_tree:stl_array/m_arr_int[3]",
    "/my_tree:stl_array/m_arr_str[3]",
    "/my_tree:stl_array/m_arr_vec_int[3]",
    "/my_tree:stl_array/m_arr_map_int_double[3]",
    "/my_tree:stl_array/m_arr_map_str_str[3]",
    "/my_tree:stl_array/m_arr_tstr[3]",
    "/my_tree:stl_array/m_arr_tarr_int[3]",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_bool",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_char",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_schar",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uchar",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_short",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_sshort",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_ushort",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_int",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_sint",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uint",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_long",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_slong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_ulong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_llong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_sllong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_ullong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_float",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_double",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_ldouble",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_int8",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uint8",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_int16",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uint16",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_int32",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uint32",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_int64",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_uint64",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_bool",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_char",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_uchar",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_short",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_ushort",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_int",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_uint",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_long",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_ulong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_llong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_ullong",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_float",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_double",
    "/my_tree:stl_seq_with_obj/m_vec_basic_types/m_vec_basic_types.m_rt_ldouble",
    "/my_tree:stl_seq_with_obj/m_vec_stl_string/m_vec_stl_string.m_str",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_vec_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_set_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_list_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_uset_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_mset_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_umset_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_vec_str",
    "/my_tree:stl_seq_with_obj/m_vec_stl_sequence/m_vec_stl_sequence.m_vec_tstr",
    "/my_tree:stl_seq_with_obj/m_vec_stl_map/m_vec_stl_map.m_map_int_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_map/m_vec_stl_map.m_umap_int_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_map/m_vec_stl_map.m_mmap_int_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_map/m_vec_stl_map.m_ummap_int_double",
    "/my_tree:stl_seq_with_obj/m_vec_stl_map/m_vec_stl_map.m_map_str_tstr",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TString",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayC",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayD",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayF",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayI",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayL",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayL64",
    "/my_tree:stl_seq_with_obj/m_vec_root_objects/m_vec_root_objects.m_TArrayS",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_bool[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_schar[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_int[2][3][4]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_str[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_vec_double[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_map_int_double[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_map_str_str[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_tstr[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_tarr_int[3]",
    "/my_tree:stl_seq_with_obj/m_vec_cstyle_array/m_vec_cstyle_array.m_simple_obj[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_bool[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_schar[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_int[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_str[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_vec_int[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_map_int_double[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_map_str_str[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_tstr[3]",
    "/my_tree:stl_seq_with_obj/m_vec_stl_array/m_vec_stl_array.m_arr_tarr_int[3]",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_int",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_str",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_arr_int[5]",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_vec_double",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_map_int_double",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_map_str_str",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_tstr",
    "/my_tree:stl_seq_with_obj/m_vec_simple_object/m_vec_simple_object.m_tarr_int",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.first",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_bool",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_char",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_schar",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uchar",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_short",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_sshort",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_ushort",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_int",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_sint",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uint",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_long",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_slong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_ulong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_llong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_sllong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_ullong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_float",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_double",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_ldouble",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_int8",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uint8",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_int16",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uint16",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_int32",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uint32",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_int64",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_uint64",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_bool",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_char",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_uchar",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_short",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_ushort",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_int",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_uint",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_long",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_ulong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_llong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_ullong",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_float",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_double",
    "/my_tree:stl_map_with_obj/m_map_basic_types/m_map_basic_types.second.m_rt_ldouble",
    "/my_tree:stl_map_with_obj/m_map_stl_string/m_map_stl_string.first",
    "/my_tree:stl_map_with_obj/m_map_stl_string/m_map_stl_string.second.m_str",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.first",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_vec_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_set_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_list_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_uset_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_mset_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_umset_double",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_vec_str",
    "/my_tree:stl_map_with_obj/m_map_stl_sequence/m_map_stl_sequence.second.m_vec_tstr",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.first",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.second.m_map_int_double",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.second.m_umap_int_double",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.second.m_mmap_int_double",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.second.m_ummap_int_double",
    "/my_tree:stl_map_with_obj/m_map_stl_map/m_map_stl_map.second.m_map_str_tstr",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.first",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TString",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayC",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayD",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayF",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayI",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayL",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayL64",
    "/my_tree:stl_map_with_obj/m_map_root_objects/m_map_root_objects.second.m_TArrayS",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.first",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_bool[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_schar[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_int[2][3][4]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_str[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_vec_double[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_map_int_double[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_map_str_str[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_tstr[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_tarr_int[3]",
    "/my_tree:stl_map_with_obj/m_map_cstyle_array/m_map_cstyle_array.second.m_simple_obj[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.first",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_bool[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_schar[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_int[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_str[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_vec_int[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_map_int_double[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_map_str_str[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_tstr[3]",
    "/my_tree:stl_map_with_obj/m_map_stl_array/m_map_stl_array.second.m_arr_tarr_int[3]",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.first",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_int",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_str",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_arr_int[5]",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_vec_double",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_map_int_double",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_map_str_str",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_tstr",
    "/my_tree:stl_map_with_obj/m_map_simple_object/m_map_simple_object.second.m_tarr_int",
]

uproot_custom.AsCustom.target_branches |= set(test_branches)


@pytest.mark.parametrize("sub_branch_path", test_branches)
def test_AsCustom_array(f_test_data, sub_branch_path):
    f_test_data[sub_branch_path].array()


@pytest.mark.parametrize("sub_branch_path", test_branches)
def test_AsCustom_dask(test_data_path, sub_branch_path):
    """
    # TODO: At the moment, a bug in `uproot` prevents directly
    reading a whole branch or tree with `dask`. This is irrelevant
    to `uproot-custom` but should be fixed in `uproot` in the future.
    """
    uproot.dask({test_data_path: sub_branch_path}).compute()
