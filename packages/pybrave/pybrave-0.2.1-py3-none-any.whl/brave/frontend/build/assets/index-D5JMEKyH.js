import{j as e,B as t,d as r,e as n,r as m}from"./main-BzPVmAp-.js";import{A as d}from"./index-CkGaCd3X.js";import{T as c}from"./index-SGIbgpRk.js";import"./index-BF4b68Hp.js";import"./index-CSq209pq.js";import"./index-sAnz6zLe.js";import"./index-BQm1iTRH.js";import"./UpOutlined-B_NQN-zy.js";import"./index-7u0Bo8e4.js";import"./Table-kIlrKW-9.js";import"./addEventListener-CzbSevz3.js";import"./Dropdown-Clv_Pvnt.js";import"./index-BZ6Sq__j.js";import"./index-IijEf41L.js";import"./index-2r9flV8X.js";import"./index-B-RBPprY.js";import"./index-CDeD9lyT.js";import"./index-CUuSmggi.js";import"./index-Fy_dqHL_.js";import"./index-CUrh6kIn.js";import"./index-Djhsc5K4.js";import"./study-page-D4nenWxt.js";import"./usePagination-CGdUxo17.js";import"./RedoOutlined-d_QTXv-s.js";import"./index-Cl0Hi3Gl.js";import"./callSuper-CKCGYiRV.js";import"./index-RAxRq3bL.js";import"./index-D0tEL95I.js";import"./index-BfzdirmR.js";import"./DeleteOutlined-DoDR38qq.js";import"./index-5ngX0NHj.js";import"./rgb-BwIoVOhg.js";import"./index-CQOo18Hr.js";const Q=()=>e.jsx(e.Fragment,{children:e.jsx(c,{items:[{key:"diversity-alpha",label:"丰度分析",children:e.jsx(d,{analysisMethod:[{name:"metaphlan_sam_abundance",label:"metaphlan_sam_abundance",inputKey:["metaphlan_sam_abundance"],mode:"multiple"}],analysisType:"sample",children:e.jsx(b,{})})}]})}),b=({sampleGroup:s,record:u,resultTableList:o,plot:a,dataMap:l})=>e.jsxs(e.Fragment,{children:[e.jsx(t,{type:"primary",onClick:()=>{a({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_alpha_diversity",moduleName:"abundance_alpha_diversity",sampleSelectComp:!1,tableDesc:" ",name:"alpha多样性"})},children:"alpha多样性"}),e.jsx(t,{type:"primary",onClick:()=>{a({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_beta_diversity",moduleName:"abundance_beta_diversity",sampleSelectComp:!1,tableDesc:" ",name:"beta多样性"})},children:"beta多样性"}),e.jsx(t,{type:"primary",onClick:()=>{a({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_difference_matrix",moduleName:"abundance_difference",sampleSelectComp:!1,tableDesc:" ",name:"差异分析"})},children:"差异分析"}),e.jsx(t,{type:"primary",onClick:()=>{a({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"sites1",label:"部位一",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"sites2",label:"部位二",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"}],sampleGroupApI:!1,formDom:e.jsx(S,{children:" "}),saveAnalysisMethod:"metaphlan_prevalence_matrix",moduleName:"abundance_prevalence",sampleSelectComp:!1,tableDesc:" ",name:"流行度分析"})},children:"流行度分析"}),e.jsx(t,{type:"primary",onClick:()=>{a({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"sites1",label:"部位一",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"sites2",label:"部位二",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"treatment",label:"累积丰度处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"累积丰度对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,formDom:e.jsx(e.Fragment,{children:e.jsx(g,{})}),saveAnalysisMethod:"abundance-cumulative-abundance",moduleName:"abundance-cumulative-abundance",sampleSelectComp:!1,tableDesc:" ",name:"累积丰度分析"})},children:"累积丰度分析"})]}),g=({value:s,onChange:u})=>{const o=r.useFormInstance(),a=r.useWatch(["sites1","group"],o),l=r.useWatch(["sites2","group"],o),[p,i]=m.useState();return m.useEffect(()=>{a&&l&&i([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${l.join("-")}`,value:`Prevalent in ${l.join("-")}`},{label:`Prevalent in ${a.join("-")}`,value:`Prevalent in ${a.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[a,l]),e.jsxs(e.Fragment,{children:[e.jsx(r.Item,{label:"累积丰度菌定义",name:"query",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{mode:"multiple",options:p,value:s,onChange:u})}),e.jsx(r.Item,{initialValue:"sum",label:"计算方式",name:"calculation_method",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{options:[{label:"sum",value:"sum"},{label:"count",value:"count"}],value:s,onChange:u})}),e.jsx(r.Item,{initialValue:"mannwhitneyu",label:"统计检验方法",name:"hypothesis",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{options:[{label:"Mann–Whitney U(Wilcoxon rank-sum)",value:"mannwhitneyu"},{label:"Poisson regression",value:"poisson"}],value:s,onChange:u})})]})},S=()=>e.jsx(e.Fragment,{children:e.jsx(r.Item,{initialValue:"SPECIES",label:"rank",name:"rank",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{allowClear:!0,options:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}]})})});export{Q as default};
