import{r as d,v as R,_ as P,ag as V,ax as q,ad as B,O as D,ae as O,au as H,Z as K,$ as G,a0 as J,a1 as I,a2 as Q,ay as Z,X as U,b6 as Y,a6 as ee,b7 as ne,bv as te,bS as ie,u as T,e as ae,j as s,g as E,S as le,I as ce,o as N,aq as oe,B as re}from"./main-gLMaKCvr.js";import{u as se}from"./usePagination-DK-N3QaW.js";import{F as de}from"./Table-CWRWFg95.js";import{P as he}from"./index-B-_sZvQI.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},ge=function(n,a){return d.createElement(R,P({},n,{ref:a,icon:ue}))},me=d.forwardRef(ge),Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},Ce=function(n,a){return d.createElement(R,P({},n,{ref:a,icon:Se}))},$e=d.forwardRef(Ce),ye=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],_=d.forwardRef(function(e,n){var a,t=e.prefixCls,c=t===void 0?"rc-switch":t,r=e.className,h=e.checked,l=e.defaultChecked,i=e.disabled,o=e.loadingIcon,u=e.checkedChildren,g=e.unCheckedChildren,b=e.onClick,$=e.onChange,y=e.onKeyDown,M=V(e,ye),w=q(!1,{value:h,defaultValue:l}),p=B(w,2),f=p[0],S=p[1];function x(m,z){var k=f;return i||(k=m,S(k),$==null||$(k,z)),k}function j(m){m.which===H.LEFT?x(!1,m):m.which===H.RIGHT&&x(!0,m),y==null||y(m)}function C(m){var z=x(!f,m);b==null||b(z,m)}var v=D(c,r,(a={},O(a,"".concat(c,"-checked"),f),O(a,"".concat(c,"-disabled"),i),a));return d.createElement("button",P({},M,{type:"button",role:"switch","aria-checked":f,disabled:i,className:v,ref:n,onKeyDown:j,onClick:C}),o,d.createElement("span",{className:"".concat(c,"-inner")},d.createElement("span",{className:"".concat(c,"-inner-checked")},u),d.createElement("span",{className:"".concat(c,"-inner-unchecked")},g)))});_.displayName="Switch";const ve=e=>{const{componentCls:n,trackHeightSM:a,trackPadding:t,trackMinWidthSM:c,innerMinMarginSM:r,innerMaxMarginSM:h,handleSizeSM:l,calc:i}=e,o=`${n}-inner`,u=I(i(l).add(i(t).mul(2)).equal()),g=I(i(h).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:c,height:a,lineHeight:I(a),[`${n}-inner`]:{paddingInlineStart:h,paddingInlineEnd:r,[`${o}-checked, ${o}-unchecked`]:{minHeight:a},[`${o}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${g})`,marginInlineEnd:`calc(100% - ${u} + ${g})`},[`${o}-unchecked`]:{marginTop:i(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:l,height:l},[`${n}-loading-icon`]:{top:i(i(l).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:r,paddingInlineEnd:h,[`${o}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${o}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${g})`,marginInlineEnd:`calc(-100% + ${u} - ${g})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${I(i(l).add(t).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${o}`]:{[`${o}-unchecked`]:{marginInlineStart:i(e.marginXXS).div(2).equal(),marginInlineEnd:i(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${o}`]:{[`${o}-checked`]:{marginInlineStart:i(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:i(e.marginXXS).div(2).equal()}}}}}}},fe=e=>{const{componentCls:n,handleSize:a,calc:t}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:t(t(a).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},Ie=e=>{const{componentCls:n,trackPadding:a,handleBg:t,handleShadow:c,handleSize:r,calc:h}=e,l=`${n}-handle`;return{[n]:{[l]:{position:"absolute",top:a,insetInlineStart:a,width:r,height:r,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t,borderRadius:h(r).div(2).equal(),boxShadow:c,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${l}`]:{insetInlineStart:`calc(100% - ${I(h(r).add(a).equal())})`},[`&:not(${n}-disabled):active`]:{[`${l}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${l}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},be=e=>{const{componentCls:n,trackHeight:a,trackPadding:t,innerMinMargin:c,innerMaxMargin:r,handleSize:h,calc:l}=e,i=`${n}-inner`,o=I(l(h).add(l(t).mul(2)).equal()),u=I(l(r).mul(2).equal());return{[n]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:r,paddingInlineEnd:c,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${o} - ${u})`,marginInlineEnd:`calc(100% - ${o} + ${u})`},[`${i}-unchecked`]:{marginTop:l(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${i}`]:{paddingInlineStart:c,paddingInlineEnd:r,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${o} + ${u})`,marginInlineEnd:`calc(-100% + ${o} - ${u})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:l(t).mul(2).equal(),marginInlineEnd:l(t).mul(-1).mul(2).equal()}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:l(t).mul(-1).mul(2).equal(),marginInlineEnd:l(t).mul(2).equal()}}}}}},we=e=>{const{componentCls:n,trackHeight:a,trackMinWidth:t}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},J(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t,height:a,lineHeight:I(a),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Q(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},pe=e=>{const{fontSize:n,lineHeight:a,controlHeight:t,colorWhite:c}=e,r=n*a,h=t/2,l=2,i=r-l*2,o=h-l*2;return{trackHeight:r,trackHeightSM:h,trackMinWidth:i*2+l*4,trackMinWidthSM:o*2+l*2,trackPadding:l,handleBg:c,handleSize:i,handleSizeSM:o,handleShadow:`0 2px 4px 0 ${new Z("#00230b").setA(.2).toRgbString()}`,innerMinMargin:i/2,innerMaxMargin:i+l+l*2,innerMinMarginSM:o/2,innerMaxMarginSM:o+l+l*2}},xe=K("Switch",e=>{const n=G(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[we(n),be(n),Ie(n),fe(n),ve(n)]},pe);var ke=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(e);c<t.length;c++)n.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(e,t[c])&&(a[t[c]]=e[t[c]]);return a};const Me=d.forwardRef((e,n)=>{const{prefixCls:a,size:t,disabled:c,loading:r,className:h,rootClassName:l,style:i,checked:o,value:u,defaultChecked:g,defaultValue:b,onChange:$}=e,y=ke(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[M,w]=q(!1,{value:o??u,defaultValue:g??b}),{getPrefixCls:p,direction:f,switch:S}=d.useContext(U),x=d.useContext(Y),j=(c??x)||r,C=p("switch",a),v=d.createElement("div",{className:`${C}-handle`},r&&d.createElement(te,{className:`${C}-loading-icon`})),[m,z,k]=xe(C),W=ee(t),L=D(S==null?void 0:S.className,{[`${C}-small`]:W==="small",[`${C}-loading`]:r,[`${C}-rtl`]:f==="rtl"},h,l,z,k),X=Object.assign(Object.assign({},S==null?void 0:S.style),i),F=function(){w(arguments.length<=0?void 0:arguments[0]),$==null||$.apply(void 0,arguments)};return m(d.createElement(ne,{component:"Switch"},d.createElement(_,Object.assign({},y,{checked:M,onChange:F,prefixCls:C,className:L,style:X,disabled:j,ref:n,loadingIcon:v}))))}),A=Me;A.__ANT_SWITCH=!0;const je=d.forwardRef(({rowSelection:e,openModal:n,api:a,params:t,close:c,columns:r,hiddenSwitch:h=!1},l)=>{const[i,o]=d.useState(!h),{locale:u}=ie(),[g]=d.useState(30),{data:b,pageNumber:$,totalPage:y,loading:M,reload:w,pageSize:p,setPageSize:f,setPageNumber:S,search:x}=se({url:a,initialPageSize:g,params:{...t,is_research:i,locale:u}});d.useImperativeHandle(l,()=>({reload:w,setPageNumber:S})),T();const{messageApi:j}=ae(),C=d.useMemo(()=>r({openModal:n,reload:w,messageApi:j}),[t==null?void 0:t.category]);return s.jsx("div",{children:s.jsx(de,{title:()=>s.jsxs(E,{justify:"space-between",children:[s.jsxs(E,{gap:"small",align:"center",children:[!h&&s.jsx(A,{value:i,onChange:o,checkedChildren:"filter",unCheckedChildren:"all",size:"small",defaultChecked:!0}),s.jsx(ce.Search,{size:"small",placeholder:"search...",allowClear:!0,enterButton:!0,onSearch:v=>{x(v)},style:{width:300}})]}),s.jsxs(E,{gap:"small",children:[s.jsx(N,{title:"create",children:s.jsx(me,{onClick:()=>{t!=null&&t.category&&(t!=null&&t.registry_join)?n("optModal",{entityType:"mesh",category:t==null?void 0:t.category,registryJoin:t==null?void 0:t.registry_join}):t!=null&&t.category?n("optModal",{entityType:"mesh",category:t==null?void 0:t.category}):n("optModal",{entityType:"mesh"})}})}),s.jsx(N,{title:"refresh",children:s.jsx($e,{onClick:()=>w()})}),c&&s.jsx(oe,{onClick:c})]})]}),rowSelection:e,rowKey:v=>v.entity_id,size:"small",bordered:!0,pagination:!1,loading:M,scroll:{x:"max-content"},columns:C,dataSource:b,footer:()=>s.jsx(s.Fragment,{children:y!=0&&s.jsxs(E,{style:{marginTop:"1rem"},align:"center",gap:"small",children:[s.jsxs("p",{children:["A total of ",y," data "]}),s.jsx(he,{size:"small",current:$,pageSize:p,total:y,onChange:v=>S(v),showSizeChanger:!1}),s.jsx(le,{size:"small",value:p,onChange:f,options:[{key:10,value:10},{key:30,value:30},{key:50,value:50}]})]})})})})}),ze=()=>[{title:"entity_id",dataIndex:"entity_id",key:"taxonomy_id"},{title:"entity_name",dataIndex:"entity_name",key:"entity_name"},{title:"title",dataIndex:"title",key:"title"}],Ee=(e,n,a,t)=>[{title:"操作",key:"action",fixed:"right",width:200,render:(c,r)=>s.jsx(s.Fragment,{children:s.jsx(re,{size:"small",color:"cyan",variant:"solid",onClick:()=>{t(`/mining-data/${r.entity_id}`)},children:"mining"})})}],Re=d.forwardRef(({rowSelection:e,openModal:n,params:a,close:t,hiddenSwitch:c=!1},r)=>{const h=T();return s.jsx("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:s.jsx(je,{rowSelection:e,columns:({openModal:l,reload:i,messageApi:o})=>{const u=ze(),g=Ee(l,i,o,h);return[...u,...g]},hiddenSwitch:!0,ref:r,api:"/entity/page/study",openModal:()=>{},close:t})})});export{je as D,$e as R,A as S,Re as a,me as b};
