import{SvelteComponent as re,init as ce,safe_not_equal as me,binding_callbacks as E,bind as G,create_component as B,claim_component as A,mount_component as C,add_flush_callback as I,transition_in as b,transition_out as v,destroy_component as U,createEventDispatcher as de,assign as he,space as ge,empty as T,claim_space as we,insert_hydration as W,get_spread_update as be,get_spread_object as ve,group_outros as ke,check_outros as pe,detach as H}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{B as ze,S as je}from"./2.C8HlNVDJ.js";import{U as Be}from"./UploadText.CMednwNG.js";import Ae from"./Gallery.BX2m-eKT.js";import{B as Ce}from"./FileUpload.CTEzt--F.js";/* empty css                                              */import{default as Ke}from"./Example.BHb8pvZm.js";function Ue(n){var m,g,d;let e,i,t,o;function _(s){n[33](s)}function u(s){n[34](s)}let r={label:n[5],show_label:n[4],columns:n[14],rows:n[15],height:n[16],preview:n[17],object_fit:n[19],interactive:n[21],allow_preview:n[18],show_share_button:((m=n[20])==null?void 0:m.includes("share"))??!0,show_download_button:((g=n[20])==null?void 0:g.includes("download"))??!0,i18n:n[22].i18n,_fetch:n[30],show_fullscreen_button:((d=n[20])==null?void 0:d.includes("fullscreen"))??!0,fullscreen:n[3],root:n[6],file_types:n[10],max_file_size:n[22].max_file_size,upload:n[31],stream_handler:n[32]};return n[1]!==void 0&&(r.selected_index=n[1]),n[0]!==void 0&&(r.value=n[0]),e=new Ae({props:r}),E.push(()=>G(e,"selected_index",_)),E.push(()=>G(e,"value",u)),e.$on("change",n[35]),e.$on("select",n[36]),e.$on("share",n[37]),e.$on("error",n[38]),e.$on("preview_open",n[39]),e.$on("preview_close",n[40]),e.$on("fullscreen",n[41]),e.$on("delete",n[24]),e.$on("upload",n[42]),{c(){B(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,a){C(e,s,a),o=!0},p(s,a){var w,h,k;const f={};a[0]&32&&(f.label=s[5]),a[0]&16&&(f.show_label=s[4]),a[0]&16384&&(f.columns=s[14]),a[0]&32768&&(f.rows=s[15]),a[0]&65536&&(f.height=s[16]),a[0]&131072&&(f.preview=s[17]),a[0]&524288&&(f.object_fit=s[19]),a[0]&2097152&&(f.interactive=s[21]),a[0]&262144&&(f.allow_preview=s[18]),a[0]&1048576&&(f.show_share_button=((w=s[20])==null?void 0:w.includes("share"))??!0),a[0]&1048576&&(f.show_download_button=((h=s[20])==null?void 0:h.includes("download"))??!0),a[0]&4194304&&(f.i18n=s[22].i18n),a[0]&4194304&&(f._fetch=s[30]),a[0]&1048576&&(f.show_fullscreen_button=((k=s[20])==null?void 0:k.includes("fullscreen"))??!0),a[0]&8&&(f.fullscreen=s[3]),a[0]&64&&(f.root=s[6]),a[0]&1024&&(f.file_types=s[10]),a[0]&4194304&&(f.max_file_size=s[22].max_file_size),a[0]&4194304&&(f.upload=s[31]),a[0]&4194304&&(f.stream_handler=s[32]),!i&&a[0]&2&&(i=!0,f.selected_index=s[1],I(()=>i=!1)),!t&&a[0]&1&&(t=!0,f.value=s[0],I(()=>t=!1)),e.$set(f)},i(s){o||(b(e.$$.fragment,s),o=!0)},o(s){v(e.$$.fragment,s),o=!1},d(s){U(e,s)}}}function Se(n){let e,i;return e=new Ce({props:{value:null,root:n[6],label:n[5],max_file_size:n[22].max_file_size,file_count:"multiple",file_types:n[10],i18n:n[22].i18n,upload:n[26],stream_handler:n[27],$$slots:{default:[Ee]},$$scope:{ctx:n}}}),e.$on("upload",n[28]),e.$on("error",n[29]),{c(){B(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){C(e,t,o),i=!0},p(t,o){const _={};o[0]&64&&(_.root=t[6]),o[0]&32&&(_.label=t[5]),o[0]&4194304&&(_.max_file_size=t[22].max_file_size),o[0]&1024&&(_.file_types=t[10]),o[0]&4194304&&(_.i18n=t[22].i18n),o[0]&4194304&&(_.upload=t[26]),o[0]&4194304&&(_.stream_handler=t[27]),o[0]&4194304|o[1]&16384&&(_.$$scope={dirty:o,ctx:t}),e.$set(_)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){v(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Ee(n){let e,i;return e=new Be({props:{i18n:n[22].i18n,type:"gallery"}}),{c(){B(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){C(e,t,o),i=!0},p(t,o){const _={};o[0]&4194304&&(_.i18n=t[22].i18n),e.$set(_)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){v(e.$$.fragment,t),i=!1},d(t){U(e,t)}}}function Ge(n){let e,i,t,o,_,u;const r=[{autoscroll:n[22].autoscroll},{i18n:n[22].i18n},n[2]];let m={};for(let a=0;a<r.length;a+=1)m=he(m,r[a]);e=new je({props:m}),e.$on("clear_status",n[25]);const g=[Se,Ue],d=[];function s(a,f){return a[21]&&a[23]?0:1}return t=s(n),o=d[t]=g[t](n),{c(){B(e.$$.fragment),i=ge(),o.c(),_=T()},l(a){A(e.$$.fragment,a),i=we(a),o.l(a),_=T()},m(a,f){C(e,a,f),W(a,i,f),d[t].m(a,f),W(a,_,f),u=!0},p(a,f){const w=f[0]&4194308?be(r,[f[0]&4194304&&{autoscroll:a[22].autoscroll},f[0]&4194304&&{i18n:a[22].i18n},f[0]&4&&ve(a[2])]):{};e.$set(w);let h=t;t=s(a),t===h?d[t].p(a,f):(ke(),v(d[h],1,1,()=>{d[h]=null}),pe(),o=d[t],o?o.p(a,f):(o=d[t]=g[t](a),o.c()),b(o,1),o.m(_.parentNode,_))},i(a){u||(b(e.$$.fragment,a),b(o),u=!0)},o(a){v(e.$$.fragment,a),v(o),u=!1},d(a){a&&(H(i),H(_)),U(e,a),d[t].d(a)}}}function Ie(n){let e,i,t;function o(u){n[43](u)}let _={visible:n[9],variant:"solid",padding:!1,elem_id:n[7],elem_classes:n[8],container:n[11],scale:n[12],min_width:n[13],allow_overflow:!1,height:typeof n[16]=="number"?n[16]:void 0,$$slots:{default:[Ge]},$$scope:{ctx:n}};return n[3]!==void 0&&(_.fullscreen=n[3]),e=new ze({props:_}),E.push(()=>G(e,"fullscreen",o)),{c(){B(e.$$.fragment)},l(u){A(e.$$.fragment,u)},m(u,r){C(e,u,r),t=!0},p(u,r){const m={};r[0]&512&&(m.visible=u[9]),r[0]&128&&(m.elem_id=u[7]),r[0]&256&&(m.elem_classes=u[8]),r[0]&2048&&(m.container=u[11]),r[0]&4096&&(m.scale=u[12]),r[0]&8192&&(m.min_width=u[13]),r[0]&65536&&(m.height=typeof u[16]=="number"?u[16]:void 0),r[0]&16761983|r[1]&16384&&(m.$$scope={dirty:r,ctx:u}),!i&&r[0]&8&&(i=!0,m.fullscreen=u[3],I(()=>i=!1)),e.$set(m)},i(u){t||(b(e.$$.fragment,u),t=!0)},o(u){v(e.$$.fragment,u),t=!1},d(u){U(e,u)}}}async function J(n){return(await Promise.all(n.map(async i=>{var t;if((t=i.path)!=null&&t.toLowerCase().endsWith(".svg")&&i.url){const _=await(await fetch(i.url)).text();return{...i,url:`data:image/svg+xml,${encodeURIComponent(_)}`}}return i}))).map(i=>{var t;return(t=i.mime_type)!=null&&t.includes("video")?{video:i,caption:null}:{image:i,caption:null}})}function qe(n,e,i){let t,{loading_status:o}=e,{show_label:_}=e,{label:u}=e,{root:r}=e,{elem_id:m=""}=e,{elem_classes:g=[]}=e,{visible:d=!0}=e,{value:s=null}=e,{file_types:a=["image","video"]}=e,{container:f=!0}=e,{scale:w=null}=e,{min_width:h=void 0}=e,{columns:k=[2]}=e,{rows:q=void 0}=e,{height:D="auto"}=e,{preview:F}=e,{allow_preview:L=!0}=e,{selected_index:p=null}=e,{object_fit:N="cover"}=e,{buttons:P=null}=e,{interactive:R}=e,{gradio:c}=e,{fullscreen:z=!1}=e;const K=de();function M(l){if(!s)return;const{index:j}=l.detail;c.dispatch("delete",l.detail),i(0,s=s.filter((S,_e)=>_e!==j)),c.dispatch("change",s)}const O=()=>c.dispatch("clear_status",o),Q=(...l)=>c.client.upload(...l),V=(...l)=>c.client.stream(...l),X=async l=>{const j=Array.isArray(l.detail)?l.detail:[l.detail];i(0,s=await J(j)),c.dispatch("upload",s),c.dispatch("change",s)},Y=({detail:l})=>{i(2,o=o||{}),i(2,o.status="error",o),c.dispatch("error",l)},Z=(...l)=>c.client.fetch(...l),y=(...l)=>c.client.upload(...l),x=(...l)=>c.client.stream(...l);function $(l){p=l,i(1,p)}function ee(l){s=l,i(0,s)}const le=()=>c.dispatch("change",s),ne=l=>c.dispatch("select",l.detail),ie=l=>c.dispatch("share",l.detail),te=l=>c.dispatch("error",l.detail),ae=()=>c.dispatch("preview_open"),se=()=>c.dispatch("preview_close"),oe=({detail:l})=>{i(3,z=l)},fe=async l=>{const j=Array.isArray(l.detail)?l.detail:[l.detail],S=await J(j);i(0,s=s?[...s,...S]:S),c.dispatch("upload",S),c.dispatch("change",s)};function ue(l){z=l,i(3,z)}return n.$$set=l=>{"loading_status"in l&&i(2,o=l.loading_status),"show_label"in l&&i(4,_=l.show_label),"label"in l&&i(5,u=l.label),"root"in l&&i(6,r=l.root),"elem_id"in l&&i(7,m=l.elem_id),"elem_classes"in l&&i(8,g=l.elem_classes),"visible"in l&&i(9,d=l.visible),"value"in l&&i(0,s=l.value),"file_types"in l&&i(10,a=l.file_types),"container"in l&&i(11,f=l.container),"scale"in l&&i(12,w=l.scale),"min_width"in l&&i(13,h=l.min_width),"columns"in l&&i(14,k=l.columns),"rows"in l&&i(15,q=l.rows),"height"in l&&i(16,D=l.height),"preview"in l&&i(17,F=l.preview),"allow_preview"in l&&i(18,L=l.allow_preview),"selected_index"in l&&i(1,p=l.selected_index),"object_fit"in l&&i(19,N=l.object_fit),"buttons"in l&&i(20,P=l.buttons),"interactive"in l&&i(21,R=l.interactive),"gradio"in l&&i(22,c=l.gradio),"fullscreen"in l&&i(3,z=l.fullscreen)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(23,t=s===null?!0:s.length===0),n.$$.dirty[0]&2&&K("prop_change",{selected_index:p})},[s,p,o,z,_,u,r,m,g,d,a,f,w,h,k,q,D,F,L,N,P,R,c,t,M,O,Q,V,X,Y,Z,y,x,$,ee,le,ne,ie,te,ae,se,oe,fe,ue]}class We extends re{constructor(e){super(),ce(this,e,qe,Ie,me,{loading_status:2,show_label:4,label:5,root:6,elem_id:7,elem_classes:8,visible:9,value:0,file_types:10,container:11,scale:12,min_width:13,columns:14,rows:15,height:16,preview:17,allow_preview:18,selected_index:1,object_fit:19,buttons:20,interactive:21,gradio:22,fullscreen:3},null,[-1,-1])}}export{Ke as BaseExample,Ae as BaseGallery,We as default};
//# sourceMappingURL=Index.DqV7_XT6.js.map
