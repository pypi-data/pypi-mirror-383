# ====================================
# pylay自動生成ファイル
# このファイルを直接編集しないでください
# 次回の pylay yaml 実行時に削除・再生成されます
# ====================================
# Generated by: pylay yaml /home/biwakonbu/github/pylay/src/core/analyzer
# Source: /home/biwakonbu/github/pylay/src/core/analyzer
# Generated at: 2025-10-09T09:10:31.512045+00:00

_metadata:
  generated_by: pylay yaml
  source: /home/biwakonbu/github/pylay/src/core/analyzer
  source_type: directory
  file_count: 12
  generated_at: 2025-10-09T09:10:31.512924+00:00
  pylay_version: 0.5.0

_imports:
  BaseModel: pydantic.main.BaseModel
  CodeContext: type_ignore_analyzer.CodeContext
  CodeLocation: quality_models.CodeLocation
  DocstringRecommendation: type_level_models.DocstringRecommendation
  DocumentationStatistics: type_level_models.DocumentationStatistics
  FilePath: .core.schemas.types.FilePath
  LevelThresholds: .core.schemas.pylay_config.LevelThresholds
  LineNumber: .core.schemas.types.LineNumber
  Literal: typing.Literal
  Path: pathlib.Path
  Priority: type_ignore_analyzer.Priority
  QualityIssue: quality_models.QualityIssue
  SeverityLevel: .core.schemas.pylay_config.SeverityLevel
  SeverityName: quality_models.SeverityName
  TypeDefinition: type_level_models.TypeDefinition
  TypeStatistics: type_level_models.TypeStatistics
  UpgradeRecommendation: type_level_models.UpgradeRecommendation
CodeContext:
  description: コードコンテキスト情報
  base_classes:
  - BaseModel
  fields:
    before_lines:
      type: list[str]
      required: false
      description: 前後の行
      field_info:
        default_factory: list
    target_line:
      type: str
      required: true
      description: 対象行
    after_lines:
      type: list[str]
      required: false
      description: 後の行
      field_info:
        default_factory: list
    line_number:
      type: LineNumber
      required: true
      description: 行番号
TypeIgnoreIssue:
  description: 'type: ignore の問題箇所の情報'
  base_classes:
  - BaseModel
  fields:
    file_path:
      type: FilePath
      required: true
      description: ファイルパス
    line_number:
      type: LineNumber
      required: true
      description: 行番号
    ignore_type:
      type: str
      required: true
      description: 'type: ignore の種類（e.g., call-arg, arg-type）'
    cause:
      type: str
      required: true
      description: 原因の要約
    detail:
      type: str
      required: true
      description: 詳細な説明
    code_context:
      type: CodeContext
      required: true
      description: コードコンテキスト
    priority:
      type: Priority
      required: true
      description: 優先度（HIGH/MEDIUM/LOW）
    solutions:
      type: list[str]
      required: false
      description: 解決策の提案
      field_info:
        default_factory: list
TypeIgnoreSummary:
  description: 'type: ignore 全体のサマリー情報'
  base_classes:
  - BaseModel
  fields:
    total_count:
      type: int
      required: true
      description: 'type: ignore の総数'
      field_info:
        ge: 0
    high_priority_count:
      type: int
      required: true
      description: HIGH優先度の数
      field_info:
        ge: 0
    medium_priority_count:
      type: int
      required: true
      description: MEDIUM優先度の数
      field_info:
        ge: 0
    low_priority_count:
      type: int
      required: true
      description: LOW優先度の数
      field_info:
        ge: 0
    by_category:
      type: dict[str, int]
      required: false
      description: カテゴリ別の数
      field_info:
        default_factory: dict
CodeLocation:
  description: コードの位置情報
  base_classes:
  - BaseModel
  fields:
    file:
      type: Path
      required: true
      description: ファイルパス
    line:
      type: int
      required: true
      description: 行番号
    column:
      type: int
      required: true
      description: 列番号
    context_before:
      type: list[str]
      required: false
      description: 前後のコンテキスト行
      field_info:
        default_factory: list
    code:
      type: str
      required: false
      description: 問題のあるコード行
      field_info:
        default: "''"
    context_after:
      type: list[str]
      required: false
      description: 後方のコンテキスト行
      field_info:
        default_factory: list
QualityIssue:
  description: 品質問題の情報
  base_classes:
  - BaseModel
  fields:
    issue_type:
      type: str
      required: true
      description: 問題の種類
    severity:
      type: SeverityName
      required: false
      description: 深刻度レベル
      field_info:
        default: "'advice'"
    message:
      type: str
      required: true
      description: 問題の説明
    location:
      type: CodeLocation | None
      required: false
      description: 問題の場所
      field_info:
        default: None
    suggestion:
      type: str
      required: true
      description: 簡単な解決策の提案
    improvement_plan:
      type: str
      required: true
      description: 詳細な改善プラン
    recommended_type:
      type: str | None
      required: false
      description: 推奨される型（Pydantic型など）
      field_info:
        default: None
    primitive_type:
      type: str | None
      required: false
      description: 検出されたprimitive型
      field_info:
        default: None
    priority_score:
      type: int
      required: false
      description: 優先度スコア（低いほど優先度高）
      field_info:
        default: '0'
    impact_score:
      type: int
      required: false
      description: 影響度スコア（高いほど影響大）
      field_info:
        default: '1'
    difficulty_score:
      type: int
      required: false
      description: 修正難易度（低いほど簡単）
      field_info:
        default: '1'
QualityCheckResult:
  description: 品質チェックの結果
  base_classes:
  - BaseModel
  fields:
    total_issues:
      type: int
      required: true
      description: 総問題数
      field_info:
        ge: 0
    error_count:
      type: int
      required: true
      description: エラー数
      field_info:
        ge: 0
    warning_count:
      type: int
      required: true
      description: 警告数
      field_info:
        ge: 0
    advice_count:
      type: int
      required: true
      description: アドバイス数
      field_info:
        ge: 0
    has_errors:
      type: bool
      required: true
      description: エラーが存在するか
    overall_score:
      type: float
      required: true
      description: 全体スコア（0.0〜1.0）
      field_info:
        ge: 0.0
        le: 1.0
    issues:
      type: list[QualityIssue]
      required: false
      description: 検出された問題リスト
      field_info:
        default_factory: list
    statistics:
      type: TypeStatistics
      required: true
      description: 型統計情報
    thresholds:
      type: LevelThresholds
      required: true
      description: 使用された閾値設定
    severity_levels:
      type: list[SeverityLevel]
      required: true
      description: 深刻度レベル設定
TypeDefinition:
  description: |-
    型定義の情報

    Attributes:
        name: 型の名前
        level: 型定義レベル（level1/level2/level3/other）
        file_path: ファイルパス
        line_number: 行番号
        definition: 型定義のコード
        category: 型のカテゴリ（type_alias/annotated/basemodel/class/dataclass等）
        docstring: docstring（存在する場合）
        has_docstring: docstringが存在するか
        docstring_lines: docstringの行数
        target_level: docstringで指定された目標レベル
            （@target-level: level1/level2/level3）
        keep_as_is: 現状維持フラグ（@keep-as-is: trueの場合はレベルアップ推奨しない）
  base_classes:
  - BaseModel
  fields:
    name:
      type: str
      required: true
    level:
      type: Literal["level1", "level2", "level3", "other"]
      required: true
    file_path:
      type: str
      required: true
    line_number:
      type: int
      required: true
    definition:
      type: str
      required: true
    category:
      type: str
      required: true
    docstring:
      type: str | None
      required: false
      field_info:
        default: None
    has_docstring:
      type: bool
      required: false
      field_info:
        default: 'False'
    docstring_lines:
      type: int
      required: false
      field_info:
        default: '0'
    target_level:
      type: Literal["level1", "level2", "level3"] | None
      required: false
      field_info:
        default: None
    keep_as_is:
      type: bool
      required: false
      field_info:
        default: 'False'
DocstringDetail:
  description: |-
    docstringの詳細情報

    Attributes:
        has_summary: 概要行が存在するか
        has_description: 詳細説明が存在するか
        has_attributes: Attributesセクションが存在するか
        has_args: Argsセクションが存在するか
        has_returns: Returnsセクションが存在するか
        has_examples: Examplesセクションが存在するか
        format_style: docstringフォーマット
        line_count: docstringの行数
        detail_score: 詳細度スコア（0.0-1.0）
  base_classes:
  - BaseModel
  fields:
    has_summary:
      type: bool
      required: true
    has_description:
      type: bool
      required: true
    has_attributes:
      type: bool
      required: true
    has_args:
      type: bool
      required: true
    has_returns:
      type: bool
      required: true
    has_examples:
      type: bool
      required: true
    format_style:
      type: Literal["google", "numpy", "restructured", "unknown"]
      required: true
    line_count:
      type: int
      required: true
    detail_score:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
DocumentationStatistics:
  description: |-
    ドキュメント統計情報

    Attributes:
        total_types: 型定義の総数
        documented_types: docstringが存在する型の数
        undocumented_types: docstringが存在しない型の数
        implementation_rate: 実装率（0.0-1.0）
        minimal_docstrings: 最低限のdocstring（1行のみ）の数
        detailed_docstrings: 詳細なdocstringの数
        detail_rate: 詳細度率（0.0-1.0）
        avg_docstring_lines: 平均docstring行数
        quality_score: 総合品質スコア（実装率 × 詳細度）
        by_level: レベル別のdocstring統計（カウント値のみ）
        by_level_avg_lines: レベル別の平均docstring行数
        by_format: フォーマット別のdocstring数
  base_classes:
  - BaseModel
  fields:
    total_types:
      type: int
      required: true
      field_info:
        ge: 0
    documented_types:
      type: int
      required: true
      field_info:
        ge: 0
    undocumented_types:
      type: int
      required: true
      field_info:
        ge: 0
    implementation_rate:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    minimal_docstrings:
      type: int
      required: true
      field_info:
        ge: 0
    detailed_docstrings:
      type: int
      required: true
      field_info:
        ge: 0
    detail_rate:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    avg_docstring_lines:
      type: float
      required: true
    quality_score:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    by_level:
      type: dict[str, dict[str, int]]
      required: true
    by_level_avg_lines:
      type: dict[str, float]
      required: true
    by_format:
      type: dict[str, int]
      required: true
DocstringRecommendation:
  description: |-
    docstring改善推奨

    Attributes:
        type_name: 型名
        file_path: ファイルパス
        line_number: 行番号
        current_status: 現在の状態
        recommended_action: 推奨アクション
        priority: 優先度
        reasons: 推奨理由
        suggested_template: 推奨docstringテンプレート
        detail_gaps: 不足しているセクション
  base_classes:
  - BaseModel
  fields:
    type_name:
      type: str
      required: true
    file_path:
      type: str
      required: true
    line_number:
      type: int
      required: true
    current_status:
      type: Literal["missing", "minimal", "partial", "complete"]
      required: true
    recommended_action:
      type: Literal["add", "expand", "reformat", "none"]
      required: true
    priority:
      type: Literal["high", "medium", "low"]
      required: true
    reasons:
      type: list[str]
      required: true
    suggested_template:
      type: str | None
      required: false
      field_info:
        default: None
    detail_gaps:
      type: list[str]
      required: false
      field_info:
        default_factory: list
TypeStatistics:
  description: |-
    型定義の統計情報

    Attributes:
        total_count: 型定義の総数
        level1_count: Level 1の数
        level2_count: Level 2の数
        level3_count: Level 3の数
        other_count: その他の数
        level1_ratio: Level 1の比率
        level2_ratio: Level 2の比率
        level3_ratio: Level 3の比率
        other_ratio: その他の比率
        by_directory: ディレクトリ別の統計
        by_category: カテゴリ別の統計
        documentation: ドキュメント統計
        primitive_usage_count: primitive型の直接使用数
        deprecated_typing_count: 非推奨typing使用数
        primitive_usage_ratio: primitive型の直接使用比率
        deprecated_typing_ratio: 非推奨typing使用比率
  base_classes:
  - BaseModel
  fields:
    total_count:
      type: int
      required: true
      field_info:
        ge: 0
    level1_count:
      type: int
      required: true
      field_info:
        ge: 0
    level2_count:
      type: int
      required: true
      field_info:
        ge: 0
    level3_count:
      type: int
      required: true
      field_info:
        ge: 0
    other_count:
      type: int
      required: true
      field_info:
        ge: 0
    level1_ratio:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    level2_ratio:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    level3_ratio:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    other_ratio:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    by_directory:
      type: dict[str, dict[str, int]]
      required: true
    by_category:
      type: dict[str, int]
      required: true
    documentation:
      type: DocumentationStatistics
      required: true
    primitive_usage_count:
      type: int
      required: false
      field_info:
        default: '0'
        ge: 0
    deprecated_typing_count:
      type: int
      required: false
      field_info:
        default: '0'
        ge: 0
    primitive_usage_ratio:
      type: float
      required: false
      field_info:
        default: '0.0'
        ge: 0.0
        le: 1.0
    deprecated_typing_ratio:
      type: float
      required: false
      field_info:
        default: '0.0'
        ge: 0.0
        le: 1.0
UpgradeRecommendation:
  description: |-
    型レベルアップ・ダウンの推奨事項

    Attributes:
        type_name: 型名
        file_path: ファイルパス
        line_number: 行番号
        current_level: 現在のレベル
        recommended_level: 推奨レベル（level1/level2/level3/investigate）
        confidence: 確信度（0.0-1.0）
        reasons: 推奨理由
        suggested_validator: Level 2への昇格時のバリデータコード
        suggested_implementation: Level 3への昇格時の実装例
        priority: 優先度
        is_downgrade: レベルダウン推奨の場合True
  base_classes:
  - BaseModel
  fields:
    type_name:
      type: str
      required: true
    file_path:
      type: str
      required: true
    line_number:
      type: int
      required: true
    current_level:
      type: Literal["level1", "level2", "level3", "other"]
      required: true
    recommended_level:
      type: Literal["level1", "level2", "level3", "investigate"]
      required: true
    confidence:
      type: float
      required: true
      field_info:
        ge: 0.0
        le: 1.0
    reasons:
      type: list[str]
      required: true
    suggested_validator:
      type: str | None
      required: false
      field_info:
        default: None
    suggested_implementation:
      type: str | None
      required: false
      field_info:
        default: None
    priority:
      type: Literal["high", "medium", "low"]
      required: true
    is_downgrade:
      type: bool
      required: false
      field_info:
        default: 'False'
TypeAnalysisReport:
  description: |-
    型定義分析レポート

    Attributes:
        statistics: 統計情報
        type_definitions: 型定義リスト
        recommendations: 一般的な推奨事項
        upgrade_recommendations: 型レベルアップ推奨
        docstring_recommendations: docstring改善推奨
        threshold_ratios: 警告閾値（level1_max/level2_min/level3_min）
        deviation_from_threshold: 警告閾値との乖離
  base_classes:
  - BaseModel
  fields:
    statistics:
      type: TypeStatistics
      required: true
    type_definitions:
      type: list[TypeDefinition]
      required: true
    recommendations:
      type: list[str]
      required: true
    upgrade_recommendations:
      type: list[UpgradeRecommendation]
      required: true
    docstring_recommendations:
      type: list[DocstringRecommendation]
      required: true
    threshold_ratios:
      type: dict[str, float]
      required: true
    deviation_from_threshold:
      type: dict[str, float]
      required: true
