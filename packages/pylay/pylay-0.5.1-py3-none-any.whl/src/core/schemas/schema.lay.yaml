# ====================================
# pylay自動生成ファイル
# このファイルを直接編集しないでください
# 次回の pylay yaml 実行時に削除・再生成されます
# ====================================
# Generated by: pylay yaml /home/biwakonbu/github/pylay/src/core/schemas
# Source: /home/biwakonbu/github/pylay/src/core/schemas
# Generated at: 2025-10-09T09:10:31.560894+00:00

_metadata:
  generated_by: pylay yaml
  source: /home/biwakonbu/github/pylay/src/core/schemas
  source_type: directory
  file_count: 5
  generated_at: 2025-10-09T09:10:31.561785+00:00
  pylay_version: 0.5.0

_imports:
  AdditionalPropertiesFlag: .core.schemas.types.AdditionalPropertiesFlag
  BaseModel: pydantic.main.BaseModel
  CleanOutputDirFlag: .core.schemas.types.CleanOutputDirFlag
  Description: .core.schemas.types.Description
  DirectoryPath: .core.schemas.types.DirectoryPath
  Enum: enum.Enum
  ErrorCondition: pylay_config.ErrorCondition
  ExtractDepsFlag: .core.schemas.types.ExtractDepsFlag
  FilePath: .core.schemas.types.FilePath
  GenerateMarkdownFlag: .core.schemas.types.GenerateMarkdownFlag
  GenerationConfig: pylay_config.GenerationConfig
  GlobPattern: .core.schemas.types.GlobPattern
  GraphEdge: graph.GraphEdge
  GraphMetadata: .core.schemas.types.GraphMetadata
  GraphNode: graph.GraphNode
  ImportsConfig: pylay_config.ImportsConfig
  ImprovementGuidance: pylay_config.ImprovementGuidance
  InferLevel: .core.schemas.types.InferLevel
  LevelThresholds: pylay_config.LevelThresholds
  LineNumber: .core.schemas.types.LineNumber
  Literal: typing.Literal
  MaxDepth: .core.schemas.types.MaxDepth
  NodeAttributes: .core.schemas.types.NodeAttributes
  NodeId: .core.schemas.types.NodeId
  NodeType: .core.schemas.types.NodeType
  OutputConfig: pylay_config.OutputConfig
  QualifiedName: .core.schemas.types.QualifiedName
  QualityCheckConfig: pylay_config.QualityCheckConfig
  RelationType: graph.RelationType
  RequiredFlag: .core.schemas.types.RequiredFlag
  SeverityLevel: pylay_config.SeverityLevel
  TypeSpec: yaml_spec.TypeSpec
  TypeSpecName: .core.schemas.types.TypeSpecName
  TypeSpecType: .core.schemas.types.TypeSpecType
  Weight: .core.schemas.types.Weight
  str: builtins.str
RefPlaceholder:
  description: 参照文字列を保持するためのプレースホルダー（Pydantic v2対応強化）
  base_classes:
  - BaseModel
  fields:
    type:
      type: Literal["ref"]
      required: false
      field_info:
        default: "'ref'"
    ref_name:
      type: str
      required: true
TypeSpec:
  description: YAML形式の型仕様の基底モデル（v1.1対応、循環参照耐性強化）
  base_classes:
  - BaseModel
  fields:
    name:
      type: TypeSpecName | None
      required: false
      description: 型の名前 (v1.1ではオプション。参照時は不要)
      field_info:
        default: None
    type:
      type: TypeSpecType
      required: true
      description: 基本型 (str, int, float, bool, list, dict, union)
    description:
      type: Description | None
      required: false
      description: 型の説明
      field_info:
        default: None
    required:
      type: RequiredFlag
      required: false
      description: 必須かどうか
      field_info:
        default: 'True'
ListTypeSpec:
  description: リスト型の仕様
  base_classes:
  - TypeSpec
  fields:
    name:
      type: TypeSpecName | None
      required: false
      description: 型の名前 (v1.1ではオプション。参照時は不要)
      field_info:
        default: None
    type:
      type: Literal["list"]
      required: false
      field_info:
        default: "'list'"
    description:
      type: Description | None
      required: false
      description: 型の説明
      field_info:
        default: None
    required:
      type: RequiredFlag
      required: false
      description: 必須かどうか
      field_info:
        default: 'True'
    items:
      type: Any
      required: true
      description: リストの要素型 (参照文字列またはTypeSpec)
DictTypeSpec:
  description: 辞書型の仕様（プロパティの型をTypeSpecOrRefに統一）
  base_classes:
  - TypeSpec
  fields:
    name:
      type: TypeSpecName | None
      required: false
      description: 型の名前 (v1.1ではオプション。参照時は不要)
      field_info:
        default: None
    type:
      type: Literal["dict"]
      required: false
      field_info:
        default: "'dict'"
    description:
      type: Description | None
      required: false
      description: 型の説明
      field_info:
        default: None
    required:
      type: RequiredFlag
      required: false
      description: 必須かどうか
      field_info:
        default: 'True'
    properties:
      type: dict[str, Any]
      required: false
      description: 辞書のプロパティ (参照文字列またはTypeSpec)
      field_info:
        default_factory: dict
    additional_properties:
      type: AdditionalPropertiesFlag
      required: false
      description: 追加プロパティ許可
      field_info:
        default: 'False'
UnionTypeSpec:
  description: |-
    Union型の仕様（参照型をTypeSpecOrRefに統一）

    Union型の型仕様を定義します。参照型はTypeSpecOrRefに統一されています。
  base_classes:
  - TypeSpec
  fields:
    name:
      type: TypeSpecName | None
      required: false
      description: 型の名前 (v1.1ではオプション。参照時は不要)
      field_info:
        default: None
    type:
      type: Literal["union"]
      required: false
      field_info:
        default: "'union'"
    description:
      type: Description | None
      required: false
      description: 型の説明
      field_info:
        default: None
    required:
      type: RequiredFlag
      required: false
      description: 必須かどうか
      field_info:
        default: 'True'
    variants:
      type: list[Any]
      required: true
      description: Unionのバリアント (参照文字列またはTypeSpec)
GenericTypeSpec:
  description: |-
    Generic型の仕様（例: Generic[T]）（参照型をTypeSpecOrRefに統一）

    Generic型の型仕様を定義します（例: Generic[T]）。
    参照型はTypeSpecOrRefに統一されています。
  base_classes:
  - TypeSpec
  fields:
    name:
      type: TypeSpecName | None
      required: false
      description: 型の名前 (v1.1ではオプション。参照時は不要)
      field_info:
        default: None
    type:
      type: Literal["generic"]
      required: false
      field_info:
        default: "'generic'"
    description:
      type: Description | None
      required: false
      description: 型の説明
      field_info:
        default: None
    required:
      type: RequiredFlag
      required: false
      description: 必須かどうか
      field_info:
        default: 'True'
    params:
      type: list[Any]
      required: true
      description: Genericのパラメータ (参照文字列またはTypeSpec)
TypeRoot:
  description: YAML型仕様のルートモデル (v1.1構造、循環耐性強化）
  base_classes:
  - BaseModel
  fields:
    types:
      type: dict[TypeSpecName, TypeSpec]
      required: false
      description: 型仕様のルート辞書。キー=型名、値=TypeSpec
      field_info:
        default_factory: dict
    imports_:
      type: dict[str, str] | None
      required: false
      description: 外部型のインポート情報（型名 → インポートパス）
      field_info:
        default: None
    metadata_:
      type: dict[str, Any] | None
      required: false
      description: メタデータ情報
      field_info:
        default: None
GraphNode:
  description: |-
    グラフのノードを表すクラス

    Attributes:
        id: ノードの一意の識別子 (自動生成可能)
        name: ノードの名前
        node_type: ノードの種類
        qualified_name: 完全修飾名
        attributes: ノードの追加属性
  base_classes:
  - BaseModel
  fields:
    id:
      type: NodeId | None
      required: false
      field_info:
        default: None
    name:
      type: str
      required: true
    node_type:
      type: NodeType
      required: true
    qualified_name:
      type: QualifiedName | None
      required: false
      field_info:
        default: None
    attributes:
      type: NodeAttributes | None
      required: false
      field_info:
        default: None
    source_file:
      type: FilePath | None
      required: false
      field_info:
        default: None
    line_number:
      type: LineNumber | None
      required: false
      field_info:
        default: None
GraphEdge:
  description: |-
    グラフのエッジを表すクラス

    Attributes:
        source: 始点ノードのID
        target: 終点ノードのID
        relation_type: 関係の種類
        weight: エッジの重み
        attributes: エッジの追加属性
  base_classes:
  - BaseModel
  fields:
    source:
      type: NodeId
      required: true
    target:
      type: NodeId
      required: true
    relation_type:
      type: RelationType
      required: true
    weight:
      type: Weight
      required: false
      field_info:
        default: '1.0'
    attributes:
      type: NodeAttributes | None
      required: false
      field_info:
        default: None
    metadata:
      type: GraphMetadata | None
      required: false
      field_info:
        default: None
TypeDependencyGraph:
  description: |-
    型依存関係グラフを表すクラス

    Attributes:
        nodes: グラフ内の全てのノード
        edges: グラフ内の全てのエッジ
        metadata: グラフのメタデータ
  base_classes:
  - BaseModel
  fields:
    nodes:
      type: list[GraphNode]
      required: true
    edges:
      type: list[GraphEdge]
      required: true
    metadata:
      type: GraphMetadata | None
      required: false
      field_info:
        default: None
    inferred_nodes:
      type: list[GraphNode] | None
      required: false
      field_info:
        default: None
LevelThresholds:
  description: 型レベル閾値設定
  base_classes:
  - BaseModel
  fields:
    level1_max:
      type: float
      required: false
      description: Level 1型エイリアスの最大比率（これを超えると警告）
      field_info:
        default: '0.2'
        ge: 0.0
        le: 1.0
    level2_min:
      type: float
      required: false
      description: Level 2制約付き型の最小比率（これを下回ると警告）
      field_info:
        default: '0.4'
        ge: 0.0
        le: 1.0
    level3_min:
      type: float
      required: false
      description: Level 3 BaseModelの最小比率（これを下回ると警告）
      field_info:
        default: '0.15'
        ge: 0.0
        le: 1.0
ErrorCondition:
  description: エラー条件設定
  base_classes:
  - BaseModel
  fields:
    condition:
      type: str
      required: true
      description: "エラー判定のための条件式（例: 'level1_ratio > 0.20'）"
    message:
      type: str
      required: true
      description: エラー発生時のメッセージ
SeverityLevel:
  description: 深刻度レベル設定
  base_classes:
  - BaseModel
  fields:
    name:
      type: str
      required: true
      description: 深刻度レベルの名前（アドバイス、警告、エラー）
    color:
      type: Literal["blue", "yellow", "red"]
      required: true
      description: 表示色（blue=アドバイス、yellow=警告、red=エラー）
    threshold:
      type: float
      required: true
      description: このレベルに分類される閾値スコア
      field_info:
        ge: 0.0
        le: 1.0
ImprovementGuidance:
  description: 改善プランのガイダンス設定
  base_classes:
  - BaseModel
  fields:
    level:
      type: str
      required: true
      description: 対象の改善レベル
    suggestion:
      type: str
      required: true
      description: 改善のための具体的な提案
GenerationConfig:
  description: ファイル生成設定
  base_classes:
  - BaseModel
  fields:
    lay_suffix:
      type: str
      required: false
      description: pylayが生成するPythonファイルの拡張子
      field_info:
        default: "'.lay.py'"
    lay_yaml_suffix:
      type: str
      required: false
      description: pylayが生成するYAMLファイルの拡張子
      field_info:
        default: "'.lay.yaml'"
    add_generation_header:
      type: bool
      required: false
      description: 生成ファイルの先頭に警告ヘッダーを追加するか
      field_info:
        default: 'True'
    include_source_path:
      type: bool
      required: false
      description: 生成ファイルに元のソースファイルパスを記録するか
      field_info:
        default: 'True'
OutputConfig:
  description: 出力設定
  base_classes:
  - BaseModel
  fields:
    yaml_output_dir:
      type: str | None
      required: false
      description: YAML出力先ディレクトリ（Noneの場合はPythonソースと同じディレクトリ）
      field_info:
        default: None
    markdown_output_dir:
      type: str | None
      required: false
      description: Markdown出力先ディレクトリ（Noneの場合はPythonソースと同じディレクトリ）
      field_info:
        default: None
    mirror_package_structure:
      type: bool
      required: false
      description: パッケージ構造をミラーリングするか
      field_info:
        default: 'True'
    include_metadata:
      type: bool
      required: false
      description: YAMLに_metadataセクションを含めるか
      field_info:
        default: 'True'
    preserve_docstrings:
      type: bool
      required: false
      description: Python→YAML変換時にdocstringを保持するか
      field_info:
        default: 'True'
ImportsConfig:
  description: import設定
  base_classes:
  - BaseModel
  fields:
    use_relative_imports:
      type: bool
      required: false
      description: YAML→Python変換時に相対importを使用するか
      field_info:
        default: 'True'
QualityCheckConfig:
  description: 品質チェック設定
  base_classes:
  - BaseModel
  fields:
    level_thresholds:
      type: LevelThresholds
      required: false
      description: 型レベルの閾値設定
      field_info:
        default_factory: LevelThresholds
    error_conditions:
      type: list[ErrorCondition]
      required: false
      description: エラー判定のための条件リスト
      field_info:
        default_factory: list
    severity_levels:
      type: list[SeverityLevel]
      required: false
      description: 深刻度レベルの定義
      field_info:
        default_factory: list
    improvement_guidance:
      type: list[ImprovementGuidance]
      required: false
      description: 改善プランのガイダンス設定
      field_info:
        default_factory: list
PylayConfig:
  description: |-
    pylayの設定を管理するPydanticモデル

    pyproject.tomlの[tool.pylay]セクションに対応します。
  base_classes:
  - BaseModel
  fields:
    target_dirs:
      type: list[str]
      required: false
      description: 解析対象のディレクトリパス（相対パス、末尾スラッシュは自動削除）
      field_info:
        default: "['src']"
    output_dir:
      type: DirectoryPath
      required: false
      description: 出力ファイルの保存先ディレクトリ（末尾スラッシュは自動削除）
      field_info:
        default: "'docs'"
    generate_markdown:
      type: GenerateMarkdownFlag
      required: false
      description: Markdownドキュメントを生成するかどうか
      field_info:
        default: 'True'
    extract_deps:
      type: ExtractDepsFlag
      required: false
      description: 依存関係を抽出するかどうか
      field_info:
        default: 'True'
    infer_level:
      type: InferLevel
      required: false
      description: 型推論の厳密さ（strict, normal, loose, none）- デフォルトは'normal'でバランス型
      field_info:
        default: "'normal'"
    clean_output_dir:
      type: CleanOutputDirFlag
      required: false
      description: 実行時に出力ディレクトリをクリーンアップするかどうか
      field_info:
        default: 'True'
    exclude_patterns:
      type: list[GlobPattern]
      required: false
      description: 解析から除外するファイルパターン
      field_info:
        default: "['**/tests/**', '**/*_test.py', '**/__pycache__/**']"
    max_depth:
      type: MaxDepth
      required: false
      description: 再帰解析の最大深度
      field_info:
        default: '10'
    quality_check:
      type: QualityCheckConfig | None
      required: false
      description: 型品質チェックの設定（オプション）
      field_info:
        default: None
    generation:
      type: GenerationConfig
      required: false
      description: ファイル生成設定（.lay.py / .lay.yaml）
      field_info:
        default_factory: GenerationConfig
    output:
      type: OutputConfig
      required: false
      description: 出力設定（YAML出力先、ミラーリング等）
      field_info:
        default_factory: OutputConfig
    imports:
      type: ImportsConfig
      required: false
      description: import設定（相対import等）
      field_info:
        default_factory: ImportsConfig
