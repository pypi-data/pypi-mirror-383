Metadata-Version: 2.4
Name: ven-speaker-py
Version: 0.1.3
Summary: Python TTS package using Silero models for Russian language
Home-page: https://github.com/VenalusDev/ven-speaker-py
Author: VenalusDev
Author-email: Venalusdev@mail.ru
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy>=1.24
Requires-Dist: scipy<2.0,>=1.10
Requires-Dist: sounddevice>=0.4.7
Requires-Dist: soundfile>=0.12.1
Requires-Dist: torch<3.0,>=2.1
Requires-Dist: nltk<4.0,>=3.9
Requires-Dist: num2words<0.6,>=0.5
Requires-Dist: transliterate>=1.10.2
Requires-Dist: silero>=0.4
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# ven-speaker-py

**–§–æ—Ä–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `speakerpy` —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞—É–¥–∏–æ –∏ TTS.**

![logo](https://raw.githubusercontent.com/denisxab/speakerpy/main/docs/source/_static/logo315x318.png)


## üîπ –û–ø–∏—Å–∞–Ω–∏–µ

ven-speaker-py ‚Äî —ç—Ç–æ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏:

- –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∞—É–¥–∏–æ –≤ –±–∞–π—Ç–æ–≤–æ–º –≤–∏–¥–µ.
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ~to_mp3~->`to_wav`.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏, –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ sample rate.
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏.

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.


## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SpeakerPy

- **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–∏—Å–µ–ª –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤**: SpeakerPy —Å–ø–æ—Å–æ–±–µ–Ω –æ–∑–≤—É—á–∏–≤–∞—Ç—å —á–∏—Å–ª–∞ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é.
- **–°–∏–Ω—Ç–µ–∑ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ —Ç–µ–∫—Å—Ç–∞**: SpeakerPy –º–æ–∂–µ—Ç —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã —Ç–µ–∫—Å—Ç–∞ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫—É—Å–∫–∏**: –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ nltk, SpeakerPy –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–ª–∏—Ç –±–æ–ª—å—à–∏–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞**: SpeakerPy —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–∫—Å—Ç –ø–æ –∫—É—Å–∫–∞–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —É–∂–µ —Ä–∞–Ω–µ–µ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ–Ω–µ–µ —á–µ—Ç–≤–µ—Ä—Ç–∏ —Å–µ–∫—É–Ω–¥—ã (–∏–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É –Ω–µ –ø–æ–ª–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –∞ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –∑–∞—á–∏—Ç—ã–≤–∞—Ç—å—Å—è —Ä–µ—á—å) –Ω–∞ –æ–±—ã—á–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ!
- **–†–∞–±–æ—Ç–∞ –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ**: SpeakerPy —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç –∑–≤—É–∫ –ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ MP3**: SpeakerPy –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP3.

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ pip

`ven-speaker-py` –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é pip:

```bash
pip install venspeakerpy
```

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å.**
- **–ü–æ—Ç–æ–∫–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ —á–∞–Ω–∫–æ–≤.**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã, –≤–∫–ª—é—á–∞—è mp3.**
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏, –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ sample rate.**
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–æ–ª–æ—Å–æ–≤—ã–µ –±–æ—Ç—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.**

### üöÄ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- 2 –ì–ë –û–ó–£
- –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ :D

## üí° –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: Lib Speak –∏ Lib SL Text.

### Lib Speak

Lib Speak –≤–∫–ª—é—á–∞–µ—Ç –∫–ª–∞—Å—Å—ã `Speaker` –∏ `SpeakerBase` –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π Silero. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ `Speaker`:

1. `speak`: ~~–ø—Ä–æ–∏–∑–Ω–µ—Å–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.~~ –¢–µ–ø–µ—Ä—å —ç—Ç–æ –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–≤—É–∫–∞ –≤ –±–∞–π—Ç–∞—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–≤—É–∫ –≥–¥–µ-—Ç–æ –µ—â–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –≤ Discord)
2. `to_wav`: –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ –∞—É–¥–∏–æ—Ñ–∞–π–ª wav.

#### üìÑ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ speak

```python
from lib_speak import Speaker
from lib_sl_text import SeleroText
import sounddevice as sd
import queue
import threading
import numpy as np

speaker = Speaker(model_id="ru_v3", language="ru", speaker="baya", device="cpu")

def text_to_speech(txt: str):
    audio_queue = queue.Queue()

    def audio_player():
        with sd.OutputStream(samplerate=48000, channels=1, dtype='float32') as stream:
            while True:
                speech_chunk = audio_queue.get()
                if speech_chunk is None:
                    break
                audio_array = np.frombuffer(speech_chunk, dtype=np.float32)
                stream.write(audio_array)

    player_thread = threading.Thread(target=audio_player, daemon=True)
    player_thread.start()

    for chunk, text in speaker.speak(text=text.text, sample_rate=48000, speed=1.1, volume=0.7):
        audio_queue.put(chunk)

    audio_queue.put(None)
    player_thread.join()

text = SeleroText("–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏")
text_to_speech(text)

#p.s. —è –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª —ç—Ç–æ—Ç –∫–æ–¥, –ø—Ä–æ—Å—Ç–æ –∫—É—Å–∫–∏ –∏–∑ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å—é–¥–∞ –Ω–∞–ø–∏—Ö–∞–ª –≤ –Ω–∞–¥–µ–∂–¥–µ, —á—Ç–æ —É –≤–∞—Å –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ —á—Ç–æ —É–¥–∞—á–∏.

```

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ to_wav

```python
from lib_speak import Speaker

text = SeleroText("–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏")
speaker = Speaker(model_id="ru_v3", language="ru", speaker="aidar", device="cpu")
speaker.to_wav(text=text.text, sample_rate=48000, speed=1.0, volume=1.0, name_text='output', audio_dir='output')
```

### Lib SL Text

Lib SL Text —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `SeleroText` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ç–µ–∑–æ–º —Ä–µ—á–∏. –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `SeleroText`:

1. `chunk`: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –±–ª–æ–∫–∏.

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ SeleroText

```python
text = SeleroText("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!", to_language="ru")
```

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫—É—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `chunk()`:

```python
for chunk in text.chunk():
    print(chunk)
```

## –†–µ—Å—É—Ä—Å—ã –∏ —Å—Å—ã–ª–∫–∏

- <a href="https://github.com/snakers4/silero-models/blob/master/models.yml" target="_new">Silero Models –Ω–∞ GitHub</a>
- <a href="https://www.sphinx-doc.org/" target="_new">Sphinx</a>
- <a href="https://github.com/readthedocs/sphinx_rtd_theme" target="_new">Sphinx RTD Theme</a>
- <a href="https://readthedocs.org/" target="_new">Read the Docs</a>
