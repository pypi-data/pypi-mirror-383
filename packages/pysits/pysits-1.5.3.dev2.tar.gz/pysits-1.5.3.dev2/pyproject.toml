#
# Copyright (C) 2025 sits developers.
#
# This program is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, see <https://www.gnu.org/licenses/>.
#

[project]
name = "pysits"
version = "1.5.3.dev2"
description = "Python wrapper for the sits R package"
readme = "README.md"
requires-python = ">=3.10,<4"
license = {text = "GPL-2.0-only"}

authors = [
    {name = "Gilberto Camara", email = "gilberto.camara.inpe@gmail.com"},
    {name = "Felipe Carlos", email = "efelipecarlos@gmail.com"},
    {name = "Felipe Carvalho", email = "lipecaso@gmail.com"},
    {name = "Pedro Brito", email = "pedro_brito1997@hotmail.com"},
    {name = "Rolf Simoes", email = "rolfsimoes@gmail.com"}
]

maintainers = [
    {name = "Felipe Carlos", email = "efelipecarlos@gmail.com"},
    {name = "Felipe Carvalho", email = "lipecaso@gmail.com"}
]

keywords = [
    "remote sensing",
    "time series",
    "satellite",
    "earth observation",
    "R wrapper",
    "deep learning",
    "machine learning",
    "land use and land cover",
    "lulc"
]

classifiers = [
    "Programming Language :: Python :: 3",
    "Environment :: GPU :: NVIDIA CUDA",
    "Operating System :: OS Independent",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: GIS",
    "License :: OSI Approved :: GNU General Public License v2 (GPLv2)"
]

dependencies = [
    "rpy2>=3.5.17,<4.0.0",
    "pandas>=2.2.3",
    "pillow>=11.1.0",
    "matplotlib>=3.10.1",
    "geopandas>=1.1.0",
    "shapely>=2.1.1",
    "pyarrow>=20.0.0",
    "jinja2>=3.1.6",
]

[project.urls]
"Homepage" = "https://github.com/e-sensing/pysits"
"Issue Tracker" = "https://github.com/e-sensing/pysits/issues"

[project.optional-dependencies]
xarray = [
    "xarray>=2025.3.0",
    "dask>=2025.3.0",
    "rioxarray>=0.18.2",
    "affine>=2.4.0"
]

dev = [
    "ruff>=0.11.12",
    "pre-commit>=3.6.0",
    "pytest>=7.4.4",
    "pytest-cov>=6.1.1",
    "pytest-randomly>=3.16.0",
    "cloudpickle>=3.1.1",
]

[tool.ruff]
exclude = ["examples", "_resources"]

[tool.ruff.lint]
ignore = ["PLC0415"]
select = [
    "E",   # pycodestyle
    "F",   # pyflakes
    "UP",  # pyupgrade
    "I",   # isort
    "N",   # pep8 naming
    "PL",  # pylint
]

[tool.ruff.lint.pylint]
max-args = 10

[tool.hatch.metadata]
packages = ["pysits"]

[tool.hatch.build.targets.wheel]
include = [
  "pysits/**/*.py",
  "pysits/docs/**/*.md",
  "pysits/templates/**/*.html",
  "README.md",
  "LICENSE"
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.pytest.ini_options]
addopts = "--cov=pysits --cov-report=term-missing --cov-report=xml --cov-report=html"
testpaths = ["tests"]
python_files = ["test_*.py"]
