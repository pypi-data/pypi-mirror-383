{"version":3,"file":"53840.01fbd3f485e24809.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/external_app/external_messaging.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/external_app/external_auth.ts"],"names":["ExternalMessaging","attach","window","msg","this","receiveMessage","addEventListener","ev","fireMessage","type","payload","event","detail","config","sendMessage","addCommandHandler","handler","_commandHandler","msgId","id","_sendExternal","Promise","resolve","reject","commands","code","message","command","console","warn","success","error","pendingCmd","result","externalApp","externalBus","JSON","stringify","webkit","messageHandlers","postMessage","CALLBACK_SET_TOKEN","CALLBACK_REVOKE_TOKEN","Error","ExternalAuth","Auth","refreshAccessToken","force","_tokenCallbackPromise","_err","undefined","callback","data","getExternalAuth","tokens","access_token","expires","expires_in","Date","now","revoke","callbackPromise","revokeExternalAuth","constructor","hassUrl","super","clientId","refresh_token","createExternalAuth","async","auth","external"],"mappings":"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"}