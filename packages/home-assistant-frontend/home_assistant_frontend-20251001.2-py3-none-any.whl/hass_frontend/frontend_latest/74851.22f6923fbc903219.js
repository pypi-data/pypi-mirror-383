/*! For license information please see 74851.22f6923fbc903219.js.LICENSE.txt */
export const __webpack_id__="74851";export const __webpack_ids__=["74851"];export const __webpack_modules__={97435:function(e,t,i){i.d(t,{BU:()=>s,It:()=>a,lS:()=>n,rh:()=>r,vV:()=>o});i(99342),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030);const n=["lights","climate","security","media_players"],a={lights:"mdi:lamps",climate:"mdi:home-thermometer",security:"mdi:security",media_players:"mdi:multimedia"},o={lights:[{domain:"light",entity_category:"none"}],climate:[{domain:"climate",entity_category:"none"},{domain:"humidifier",entity_category:"none"},{domain:"fan",entity_category:"none"},{domain:"water_heater",entity_category:"none"},{domain:"cover",device_class:["awning","blind","curtain","shade","shutter","window","none"],entity_category:"none"},{domain:"binary_sensor",device_class:["window"],entity_category:"none"}],security:[{domain:"camera",entity_category:"none"},{domain:"alarm_control_panel",entity_category:"none"},{domain:"lock",entity_category:"none"},{domain:"cover",device_class:["door","garage","gate"],entity_category:"none"},{domain:"binary_sensor",device_class:["lock","door","window","garage_door","opening","carbon_monoxide","gas","moisture","safety","smoke","tamper"],entity_category:"none"},{domain:"binary_sensor",device_class:["tamper"],entity_category:"diagnostic"}],media_players:[{domain:"media_player",entity_category:"none"}]},s=(e,t)=>{const i=new Set,n=[];for(const a of t)for(const t of e)a(t)&&!i.has(t)&&(i.add(t),n.push(t));return n},r=(e,t)=>e(`ui.panel.lovelace.strategy.home.summary_list.${t}`)},28428:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HomeAreaViewStrategy:()=>g});i(99342),i(65315),i(837),i(37089),i(48169);var a=i(69868),o=i(84922),s=i(22019),r=i(191),c=i(73941),l=i(79909),d=i(39982),y=i(22439),m=i(97435),u=e([y]);y=(u.then?(await u)():u)[0];const _=(e,t,i)=>({type:"heading",heading:e,icon:t,tap_action:i?{action:"navigate",navigation_path:i}:void 0});class g extends o.mN{static async generate(e,t){if(!e.area)throw new Error("Area not provided");const i=t.areas[e.area];if(!i)throw new Error("Unknown area");const n=[],a=[];i.temperature_entity_id&&a.push({entity:i.temperature_entity_id,type:"entity",color:"red"}),i.humidity_entity_id&&a.push({entity:i.humidity_entity_id,type:"entity",color:"indigo"});const o=(0,y.L8)(t,i.name,!0),s=(0,l.r)(t,{area:e.area}),u=Object.keys(t.states).filter(s),g=m.lS.reduce((e,i)=>{const n=m.vV[i].map(e=>(0,l.r)(t,e));return e[i]=(0,m.BU)(u,n),e},{}),{lights:h,climate:p,security:f,media_players:v}=g;h.length>0&&n.push({type:"grid",cards:[_((0,m.rh)(t.localize,"lights"),m.It.lights,"lights"),...h.map(o)]}),p.length>0&&n.push({type:"grid",cards:[_((0,m.rh)(t.localize,"climate"),m.It.climate,"climate"),...p.map(o)]}),f.length>0&&n.push({type:"grid",cards:[_((0,m.rh)(t.localize,"security"),m.It.security,"security"),...f.map(o)]}),v.length>0&&n.push({type:"grid",cards:[_((0,m.rh)(t.localize,"media_players"),m.It.media_players,"media-players"),...v.map(o)]});const w=[],x=Object.values(g).flat(),b=u.filter(e=>!x.includes(e)),k={},O=[];for(const e of b){const i=t.states[e];if(!i)continue;const{device:n}=(0,c.l)(i,t.entities,t.devices,t.areas,t.floors);n?(n.id in k||(k[n.id]=[]),k[n.id].push(e)):O.push(e)}const z=Object.entries(k).map(([e,t])=>({device_id:e,entities:t}));O.length>0&&z.push({device_id:"unassigned",entities:O});const D=(0,l.r)(t,{domain:"sensor",device_class:"battery"}),E=(0,l.r)(t,{domain:"sensor",device_class:["energy","power"]}),I=(0,l.r)(t,{entity_category:"none"});for(const e of z){if(0===e.entities.length)continue;const i=e.entities.filter(e=>D(e)),n=e.entities.filter(e=>!D(e)&&!E(e)&&I(e));if(0===n.length)continue;const a=e.device_id,s=t.devices[a];let c="";c=s?(0,r.xn)(s)||t.localize("ui.panel.lovelace.strategy.home.unamed_device"):t.localize("ui.panel.lovelace.strategy.home.others"),w.push({type:"grid",cards:[{type:"heading",heading:c,tap_action:s?{action:"navigate",navigation_path:`/config/devices/device/${s.id}`}:void 0,badges:[...i.slice(0,1).map(e=>({entity:e,type:"entity",tap_action:{action:"more-info"}}))]},...n.map(e=>{const i=t.states[e];return{...o(e),name:t.formatEntityName(i,"entity")||t.formatEntityName(i,"device")}})]})}w.length>0&&(n.push({type:"grid",column_span:3,cards:[{type:"heading",heading_style:"subtitle",heading:""}]}),n.push(...w));const A=(0,d.q)(n.length,2,3);return 1===n.length&&(n[0].column_span=2),{type:"sections",header:{badges_position:"bottom"},max_columns:A,sections:n,badges:a}}}g=(0,a.__decorate)([(0,s.EM)("home-area-view-strategy")],g),n()}catch(e){n(e)}})},33055:function(e,t,i){i.d(t,{u:()=>r});var n=i(11681),a=i(64363),o=i(67851);const s=(e,t,i)=>{const n=new Map;for(let a=t;a<=i;a++)n.set(e[a],a);return n},r=(0,a.u$)(class extends a.WL{dt(e,t,i){let n;void 0===i?i=t:void 0!==t&&(n=t);const a=[],o=[];let s=0;for(const t of e)a[s]=n?n(t,s):s,o[s]=i(t,s),s++;return{values:o,keys:a}}render(e,t,i){return this.dt(e,t,i).values}update(e,[t,i,a]){const r=(0,o.cN)(e),{values:c,keys:l}=this.dt(t,i,a);if(!Array.isArray(r))return this.ut=l,c;const d=this.ut??=[],y=[];let m,u,_=0,g=r.length-1,h=0,p=c.length-1;for(;_<=g&&h<=p;)if(null===r[_])_++;else if(null===r[g])g--;else if(d[_]===l[h])y[h]=(0,o.lx)(r[_],c[h]),_++,h++;else if(d[g]===l[p])y[p]=(0,o.lx)(r[g],c[p]),g--,p--;else if(d[_]===l[p])y[p]=(0,o.lx)(r[_],c[p]),(0,o.Dx)(e,y[p+1],r[_]),_++,p--;else if(d[g]===l[h])y[h]=(0,o.lx)(r[g],c[h]),(0,o.Dx)(e,r[_],r[g]),g--,h++;else if(void 0===m&&(m=s(l,h,p),u=s(d,_,g)),m.has(d[_]))if(m.has(d[g])){const t=u.get(l[h]),i=void 0!==t?r[t]:null;if(null===i){const t=(0,o.Dx)(e,r[_]);(0,o.lx)(t,c[h]),y[h]=t}else y[h]=(0,o.lx)(i,c[h]),(0,o.Dx)(e,r[_],i),r[t]=null;h++}else(0,o.KO)(r[g]),g--;else(0,o.KO)(r[_]),_++;for(;h<=p;){const t=(0,o.Dx)(e,y[p+1]);(0,o.lx)(t,c[h]),y[h++]=t}for(;_<=g;){const e=r[_++];null!==e&&(0,o.KO)(e)}return this.ut=l,(0,o.mY)(e,y),n.c0}constructor(e){if(super(e),e.type!==a.OA.CHILD)throw Error("repeat() can only be used in text expressions")}})}};
//# sourceMappingURL=74851.22f6923fbc903219.js.map