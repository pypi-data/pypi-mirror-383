/*! For license information please see 44928.2380663f0c7e25a2.js.LICENSE.txt */
export const __webpack_id__="44928";export const __webpack_ids__=["44928"];export const __webpack_modules__={79101:function(e,s,t){t.a(e,async function(e,i){try{t.r(s),t.d(s,{EnergySetupWizard:()=>$});var n=t(69868),r=t(84922),a=t(22019),h=t(44017),c=t(43716),o=t(15241),p=t(50809),l=t(1736),_=t(47005),u=t(87448),d=t(77639),g=t(99460),f=t(96094),y=t(17372),v=e([l,_,u,d,g,f,y,c]);[l,_,u,d,g,f,y,c]=v.then?(await v)():v;class $ extends r.WF{getCardSize(){return 10}setConfig(e){e.preferences&&(this._preferences=e.preferences)}firstUpdated(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}render(){return r.qy` <p> ${this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6})} </p> ${0===this._step?r.qy`<ha-energy-grid-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-grid-settings>`:1===this._step?r.qy`<ha-energy-solar-settings .hass="${this.hass}" .preferences="${this._preferences}" .info="${this._info}" @value-changed="${this._prefsChanged}"></ha-energy-solar-settings>`:2===this._step?r.qy`<ha-energy-battery-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-battery-settings>`:3===this._step?r.qy`<ha-energy-gas-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-gas-settings>`:4===this._step?r.qy`<ha-energy-water-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-water-settings>`:r.qy`<ha-energy-device-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-device-settings>`} <div class="buttons"> ${this._step>0?r.qy`<ha-button appearance="plain" @click="${this._back}">${this.hass.localize("ui.panel.energy.setup.back")}</ha-button>`:r.qy`<div></div>`} ${this._step<4?r.qy`<ha-button @click="${this._next}">${this.hass.localize("ui.panel.energy.setup.next")}</ha-button>`:r.qy`<ha-button @click="${this._setupDone}"> ${this.hass.localize("ui.panel.energy.setup.done")} </ha-button>`} </div> `}async _fetchconfig(){this._info=await(0,c.BV)(this.hass)}_prefsChanged(e){this._preferences=e.detail.value}_back(){0!==this._step&&this._step--}_next(){5!==this._step&&this._step++}async _setupDone(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,c.WN)(this.hass,this._preferences)}catch(e){(0,o.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,h.r)(this,"reload-energy-panel")}else(0,o.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}static get styles(){return[p.RF,r.AH`:host{display:block;padding:16px;max-width:700px;margin:0 auto}ha-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`]}constructor(...e){super(...e),this._step=0,this._preferences={energy_sources:[],device_consumption:[]}}}(0,n.__decorate)([(0,a.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,n.__decorate)([(0,a.MZ)({attribute:!1})],$.prototype,"lovelace",void 0),(0,n.__decorate)([(0,a.wk)()],$.prototype,"_info",void 0),(0,n.__decorate)([(0,a.wk)()],$.prototype,"_step",void 0),(0,n.__decorate)([(0,a.wk)()],$.prototype,"_preferences",void 0),$=(0,n.__decorate)([(0,a.EM)("energy-setup-wizard-card")],$),i()}catch(e){i(e)}})},33055:function(e,s,t){t.d(s,{u:()=>h});var i=t(11681),n=t(64363),r=t(67851);const a=(e,s,t)=>{const i=new Map;for(let n=s;n<=t;n++)i.set(e[n],n);return i},h=(0,n.u$)(class extends n.WL{dt(e,s,t){let i;void 0===t?t=s:void 0!==s&&(i=s);const n=[],r=[];let a=0;for(const s of e)n[a]=i?i(s,a):a,r[a]=t(s,a),a++;return{values:r,keys:n}}render(e,s,t){return this.dt(e,s,t).values}update(e,[s,t,n]){const h=(0,r.cN)(e),{values:c,keys:o}=this.dt(s,t,n);if(!Array.isArray(h))return this.ut=o,c;const p=this.ut??=[],l=[];let _,u,d=0,g=h.length-1,f=0,y=c.length-1;for(;d<=g&&f<=y;)if(null===h[d])d++;else if(null===h[g])g--;else if(p[d]===o[f])l[f]=(0,r.lx)(h[d],c[f]),d++,f++;else if(p[g]===o[y])l[y]=(0,r.lx)(h[g],c[y]),g--,y--;else if(p[d]===o[y])l[y]=(0,r.lx)(h[d],c[y]),(0,r.Dx)(e,l[y+1],h[d]),d++,y--;else if(p[g]===o[f])l[f]=(0,r.lx)(h[g],c[f]),(0,r.Dx)(e,h[d],h[g]),g--,f++;else if(void 0===_&&(_=a(o,f,y),u=a(p,d,g)),_.has(p[d]))if(_.has(p[g])){const s=u.get(o[f]),t=void 0!==s?h[s]:null;if(null===t){const s=(0,r.Dx)(e,h[d]);(0,r.lx)(s,c[f]),l[f]=s}else l[f]=(0,r.lx)(t,c[f]),(0,r.Dx)(e,h[d],t),h[s]=null;f++}else(0,r.KO)(h[g]),g--;else(0,r.KO)(h[d]),d++;for(;f<=y;){const s=(0,r.Dx)(e,l[y+1]);(0,r.lx)(s,c[f]),l[f++]=s}for(;d<=g;){const e=h[d++];null!==e&&(0,r.KO)(e)}return this.ut=o,(0,r.mY)(e,l),i.c0}constructor(e){if(super(e),e.type!==n.OA.CHILD)throw Error("repeat() can only be used in text expressions")}})}};
//# sourceMappingURL=44928.2380663f0c7e25a2.js.map