"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["53261"],{65380:function(e,n,t){t.a(e,async function(e,r){try{t.d(n,{LW:function(){return _},Xs:function(){return y},fU:function(){return s},ie:function(){return d}});var i=t(77489),o=t(65940),a=t(43286),u=t(52285),c=e([i,a]);[i,a]=c.then?(await c)():c;const s=(e,n,t)=>l(n,t.time_zone).format(e),l=(0,o.A)((e,n)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,a.w)(e.time_zone,n)})),d=(e,n,t)=>g(n,t.time_zone).format(e),g=(0,o.A)((e,n)=>new Intl.DateTimeFormat(e.language,{hour:(0,u.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,a.w)(e.time_zone,n)})),y=(e,n,t)=>m(n,t.time_zone).format(e),m=(0,o.A)((e,n)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,u.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,a.w)(e.time_zone,n)})),_=(e,n,t)=>f(n,t.time_zone).format(e),f=(0,o.A)((e,n)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,a.w)(e.time_zone,n)}));r()}catch(s){r(s)}})},43286:function(e,n,t){t.a(e,async function(e,r){try{t.d(n,{n:function(){return d},w:function(){return g}});var i,o,a,u=t(77489),c=t(92149),s=e([u]);u=(s.then?(await s)():s)[0];const l=null===(i=Intl.DateTimeFormat)||void 0===i||null===(o=(a=i.call(Intl)).resolvedOptions)||void 0===o?void 0:o.call(a).timeZone,d=null!=l?l:"UTC",g=(e,n)=>e===c.Wj.local&&l?d:n;r()}catch(l){r(l)}})},52285:function(e,n,t){t.d(n,{J:function(){return o}});t(79827),t(18223);var r=t(65940),i=t(92149);const o=(0,r.A)(e=>{if(e.time_format===i.Hg.language||e.time_format===i.Hg.system){const n=e.time_format===i.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(n).includes("10")}return e.time_format===i.Hg.am_pm})},8868:function(e,n,t){t.a(e,async function(e,r){try{t.d(n,{ZQ:function(){return g},ZV:function(){return d},ty:function(){return s},x:function(){return c}});var i=t(77489),o=(t(79827),t(12977),t(47849),t(18223),t(92149)),a=t(92801),u=e([i]);i=(u.then?(await u)():u)[0];const c=e=>s(e.attributes),s=(e,n)=>!!e.unit_of_measurement||!!e.state_class||(n||[]).includes(e.device_class||""),l=e=>{switch(e.number_format){case o.jG.comma_decimal:return["en-US","en"];case o.jG.decimal_comma:return["de","es","it"];case o.jG.space_comma:return["fr","sv","cs"];case o.jG.system:return;default:return e.language}},d=(e,n,t)=>{const r=n?l(n):void 0;return Number.isNaN=Number.isNaN||function e(n){return"number"==typeof n&&e(n)},(null==n?void 0:n.number_format)===o.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==n?void 0:n.number_format)!==o.jG.none?"string"==typeof e?e:`${(0,a.L)(e,null==t?void 0:t.maximumFractionDigits).toString()}${"currency"===(null==t?void 0:t.style)?` ${t.currency}`:""}`:new Intl.NumberFormat("en-US",y(e,Object.assign(Object.assign({},t),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(r,y(e,t)).format(Number(e))},g=(e,n)=>{var t;const r=null==n?void 0:n.display_precision;return null!=r?{maximumFractionDigits:r,minimumFractionDigits:r}:Number.isInteger(Number(null==e||null===(t=e.attributes)||void 0===t?void 0:t.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},y=(e,n)=>{const t=Object.assign({maximumFractionDigits:2},n);if("string"!=typeof e)return t;if(!n||void 0===n.minimumFractionDigits&&void 0===n.maximumFractionDigits){const n=e.indexOf(".")>-1?e.split(".")[1].length:0;t.minimumFractionDigits=n,t.maximumFractionDigits=n}return t};r()}catch(c){r(c)}})},92801:function(e,n,t){t.d(n,{L:function(){return r}});const r=(e,n=2)=>Math.round(e*10**n)/10**n},63980:function(e,n,t){t.a(e,async function(e,r){try{t.r(n),t.d(n,{EnergyViewStrategy:function(){return l}});t(35748),t(99342),t(65315),t(84136),t(59023),t(5934),t(95013);var i=t(69868),o=t(84922),a=t(11991),u=t(43716),c=e([u]);u=(c.then?(await c)():c)[0];const s=async()=>(await Promise.all([t.e("20296"),t.e("44928")]).then(t.bind(t,79101)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});class l extends o.mN{static async generate(e,n){const t={cards:[]};let r;try{r=await(0,u.bs)(n)}catch(g){return"not_found"===g.code?s():(t.cards.push({type:"markdown",content:`An error occurred while fetching your energy preferences: ${g.message}.`}),t)}if(0===r.device_consumption.length&&0===r.energy_sources.length)return s();t.type="sidebar";const i=r.energy_sources.find(e=>{var n,t;return"grid"===e.type&&((null===(n=e.flow_from)||void 0===n?void 0:n.length)||(null===(t=e.flow_to)||void 0===t?void 0:t.length))}),o=i&&i.flow_to.length,a=r.energy_sources.some(e=>"solar"===e.type),c=r.energy_sources.some(e=>"gas"===e.type),l=r.energy_sources.some(e=>"battery"===e.type),d=r.energy_sources.some(e=>"water"===e.type);if(t.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),(i||l)&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),a&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),c&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),d&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_water_graph_title"),type:"energy-water-graph",collection_key:"energy_dashboard"}),(i||l)&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(i||a||c||d||l)&&t.cards.push({title:n.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),o&&t.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a&&(o&&t.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),i&&t.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),i&&t.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),r.device_consumption.length){t.cards.push({title:n.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),t.cards.push({title:n.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"});const e=!r.device_consumption.some(e=>e.included_in_stat);t.cards.push({title:n.localize("ui.panel.energy.cards.energy_sankey_title"),type:"energy-sankey",collection_key:"energy_dashboard",group_by_floor:e,group_by_area:e})}return t}}l=(0,i.__decorate)([(0,a.EM)("energy-view-strategy")],l),r()}catch(s){r(s)}})},6223:function(e,n,t){t.d(n,{q:function(){return i}});let r={};function i(){return r}},90298:function(e,n,t){t.d(n,{x:function(){return i}});t(65315),t(84136),t(37089);var r=t(67874);function i(e,...n){const t=r.w.bind(null,e||n.find(e=>"object"==typeof e));return n.map(t)}},27554:function(e,n,t){t.d(n,{Cg:function(){return o},_P:function(){return u},my:function(){return r},s0:function(){return a},w4:function(){return i}});Math.pow(10,8);const r=6048e5,i=864e5,o=6e4,a=36e5,u=Symbol.for("constructDateFrom")},67874:function(e,n,t){t.d(n,{w:function(){return i}});var r=t(27554);function i(e,n){return"function"==typeof e?e(n):e&&"object"==typeof e&&r._P in e?e[r._P](n):e instanceof Date?new e.constructor(n):new Date(n)}},59922:function(e,n,t){t.d(n,{m:function(){return c}});t(35748),t(95013);var r=t(19490);function i(e){const n=(0,r.a)(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}var o=t(90298),a=t(27554),u=t(70162);function c(e,n,t){const[r,c]=(0,o.x)(null==t?void 0:t.in,e,n),s=(0,u.o)(r),l=(0,u.o)(c),d=+s-i(s),g=+l-i(l);return Math.round((d-g)/a.w4)}},41484:function(e,n,t){t.d(n,{c:function(){return o}});t(35748),t(95013);var r=t(90298),i=t(59922);function o(e,n,t){const[o,u]=(0,r.x)(null==t?void 0:t.in,e,n),c=a(o,u),s=Math.abs((0,i.m)(o,u));o.setDate(o.getDate()-c*s);const l=c*(s-Number(a(o,u)===-c));return 0===l?0:l}function a(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}},70162:function(e,n,t){t.d(n,{o:function(){return i}});var r=t(19490);function i(e,n){const t=(0,r.a)(e,null==n?void 0:n.in);return t.setHours(0,0,0,0),t}},88258:function(e,n,t){t.d(n,{k:function(){return o}});var r=t(6223),i=t(19490);function o(e,n){var t,o,a,u,c,s;const l=(0,r.q)(),d=null!==(t=null!==(o=null!==(a=null!==(u=null==n?void 0:n.weekStartsOn)&&void 0!==u?u:null==n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==o?o:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==t?t:0,g=(0,i.a)(e,null==n?void 0:n.in),y=g.getDay(),m=(y<d?7:0)+y-d;return g.setDate(g.getDate()-m),g.setHours(0,0,0,0),g}},19490:function(e,n,t){t.d(n,{a:function(){return i}});var r=t(67874);function i(e,n){return(0,r.w)(n||e,e)}}}]);
//# sourceMappingURL=53261.23592d5198a161ad.js.map