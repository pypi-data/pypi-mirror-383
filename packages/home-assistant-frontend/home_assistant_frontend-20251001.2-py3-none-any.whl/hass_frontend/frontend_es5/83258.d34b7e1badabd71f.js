"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["83258"],{65249:function(t,i,e){e.a(t,async function(t,o){try{e.r(i),e.d(i,{HuiClockCardAnalog:function(){return _}});var a=e(77489),n=(e(35748),e(65315),e(84136),e(37089),e(12977),e(62928),e(90917),e(56660),e(95013),e(69868)),s=e(84922),r=e(11991),c=e(75907),l=e(43286),d=t([a,l]);[a,l]=d.then?(await d)():d;let h,u,f,m,v,g,p,k,b=t=>t;class _ extends s.WF{_initDate(){var t;if(!this.config||!this.hass)return;let i=this.hass.locale;this.config.time_format&&(i=Object.assign(Object.assign({},i),{},{time_format:this.config.time_format})),this._dateTimeFormat=new Intl.DateTimeFormat(this.hass.locale.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h12",timeZone:this.config.time_zone||(0,l.w)(i.time_zone,null===(t=this.hass.config)||void 0===t?void 0:t.time_zone)}),this._computeOffsets()}updated(t){if(t.has("hass")){var i;const e=t.get("hass");e&&e.locale===(null===(i=this.hass)||void 0===i?void 0:i.locale)||this._initDate()}}connectedCallback(){super.connectedCallback(),document.addEventListener("visibilitychange",this._handleVisibilityChange),this._computeOffsets()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this._handleVisibilityChange)}_computeOffsets(){var t,i,e;if(!this._dateTimeFormat)return;const o=this._dateTimeFormat.formatToParts(),a=null===(t=o.find(t=>"hour"===t.type))||void 0===t?void 0:t.value,n=null===(i=o.find(t=>"minute"===t.type))||void 0===i?void 0:i.value,s=null===(e=o.find(t=>"second"===t.type))||void 0===e?void 0:e.value,r=a?parseInt(a,10):0,c=n?parseInt(n,10):0,l=(s?parseInt(s,10):0)+(new Date).getMilliseconds()/1e3,d=r%12;this._secondOffsetSec=l,this._minuteOffsetSec=60*c+l,this._hourOffsetSec=3600*d+60*c+l}render(){var t,i,e,o,a,n,r,l;if(!this.config)return s.s6;const d=this.config.clock_size?`size-${this.config.clock_size}`:"",k=null===(t=this.config)||void 0===t||null===(t=t.face_style)||void 0===t?void 0:t.startsWith("numbers"),_=null===(i=this.config)||void 0===i||null===(i=i.face_style)||void 0===i?void 0:i.startsWith("roman"),y=null===(e=this.config)||void 0===e||null===(e=e.face_style)||void 0===e?void 0:e.endsWith("upright"),x=t=>{var i,e,o,a;return(0,s.qy)(h||(h=b` <div class="${0}"> ${0} </div> `),(0,c.H)({line:!0,numbers:k,roman:_}),t&&"markers"!==(null===(i=this.config)||void 0===i?void 0:i.face_style)?(0,s.qy)(u||(u=b`<div class="${0}"> ${0} </div>`),(0,c.H)({number:!0,[null!==(e=null===(o=this.config)||void 0===o?void 0:o.clock_size)&&void 0!==e?e:""]:!0,upright:y}),_?(a=t)<1||a>12?"":["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][a]:k?t:s.s6):s.s6)};return(0,s.qy)(f||(f=b` <div class="analog-clock ${0}" role="img" aria-label="Analog clock"> <div class="${0}"> ${0} <div class="center-dot"></div> <div class="hand hour" style="${0}"></div> <div class="hand minute" style="${0}"></div> ${0} </div> </div> `),d,(0,c.H)({dial:!0,"dial-border":null!==(o=this.config.border)&&void 0!==o&&o}),"quarter"===this.config.ticks?Array.from({length:4},(t,i)=>i).map(t=>(0,s.qy)(m||(m=b` <div aria-hidden="true" class="tick hour" style="${0}"> ${0} </div> `),`--tick-rotation: ${90*t}deg;`,x([12,3,6,9][t]))):this.config.ticks&&"hour"!==this.config.ticks?"minute"===this.config.ticks?Array.from({length:60},(t,i)=>i).map(t=>(0,s.qy)(g||(g=b` <div aria-hidden="true" class="tick ${0}" style="${0}"> ${0} </div> `),t%5==0?"hour":"minute",`--tick-rotation: ${6*t}deg;`,t%5==0?x((t/5+11)%12+1):x())):s.s6:Array.from({length:12},(t,i)=>i).map(t=>(0,s.qy)(v||(v=b` <div aria-hidden="true" class="tick hour" style="${0}"> ${0} </div> `),`--tick-rotation: ${30*t}deg;`,x((t+11)%12+1))),`animation-delay: -${null!==(a=this._hourOffsetSec)&&void 0!==a?a:0}s;`,`animation-delay: -${null!==(n=this._minuteOffsetSec)&&void 0!==n?n:0}s;`,this.config.show_seconds?(0,s.qy)(p||(p=b`<div class="${0}" style="${0}"></div>`),(0,c.H)({hand:!0,second:!0,step:"tick"===this.config.seconds_motion}),`animation-delay: -${"tick"===this.config.seconds_motion?Math.floor(null!==(r=this._secondOffsetSec)&&void 0!==r?r:0):null!==(l=this._secondOffsetSec)&&void 0!==l?l:0}s;`):s.s6)}constructor(...t){super(...t),this._handleVisibilityChange=()=>{document.hidden||this._computeOffsets()}}}_.styles=(0,s.AH)(k||(k=b`:host{display:flex;align-items:center;justify-content:center}.analog-clock{--clock-size:100px;display:inline-flex;align-items:center;justify-content:center;width:var(--clock-size);height:var(--clock-size);background:var(--ha-clock-card-analog-face-background,none);border-radius:var(--ha-clock-card-analog-face-border-radius,none);padding:var(--ha-clock-card-analog-face-padding,none)}.analog-clock.size-medium{--clock-size:160px}.analog-clock.size-large{--clock-size:220px}.dial{position:relative;width:100%;height:100%;box-sizing:border-box}.dial-border{border:2px solid var(--divider-color);border-radius:50%}.tick{position:absolute;top:0;left:0;width:100%;height:100%;transform:rotate(var(--tick-rotation));pointer-events:none;z-index:0}.tick .line{position:absolute;top:0;left:50%;transform:translateX(-50%);width:1px;height:calc(var(--clock-size) * .04);background:var(--primary-text-color);opacity:.5;border-radius:1px}.tick.hour .line{width:2px;height:calc(var(--clock-size) * .07);opacity:.8}.tick.hour .line.numbers,.tick.hour .line.roman{height:calc(var(--clock-size) * .03)}.tick.minute .line.numbers,.tick.minute .line.roman{height:calc(var(--clock-size) * .015)}.tick .number{position:absolute;top:0%;left:50%;transform:translate(-50%,35%);color:var(--primary-text-color);font-weight:var(--ha-font-weight-medium);line-height:var(--ha-line-height-condensed)}.tick .number.upright{transform:translate(-50%,35%) rotate(calc(var(--tick-rotation) * -1))}.tick .number.small{font-size:var(--ha-font-size-s)}.tick .number.medium{font-size:var(--ha-font-size-m)}.tick .number.large{font-size:var(--ha-font-size-l)}.center-dot{position:absolute;top:50%;left:50%;width:8px;height:8px;border-radius:50%;background:var(--primary-text-color);transform:translate(-50%,-50%);z-index:3}.hand{position:absolute;left:50%;bottom:50%;transform-origin:50% 100%;transform:translate(-50%,0) rotate(0deg);background:var(--primary-text-color);border-radius:2px;will-change:transform;animation-name:ha-clock-rotate;animation-timing-function:linear;animation-iteration-count:infinite}.hand.hour{width:4px;height:calc(var(--clock-size) * .25);background:var(--primary-text-color);box-shadow:0 0 8px 0 rgba(0,0,0,.2);z-index:1;animation-duration:43200s}.hand.minute{width:3px;height:calc(var(--clock-size) * .35);background:var(--primary-text-color);box-shadow:0 0 6px 0 rgba(0,0,0,.2);opacity:.9;z-index:3;animation-duration:3600s}.hand.second{width:2px;height:calc(var(--clock-size) * .42);background:var(--ha-color-border-danger-normal);box-shadow:0 0 4px 0 rgba(0,0,0,.2);opacity:.8;z-index:2;animation-duration:60s}.hand.second.step{animation-timing-function:steps(60,end)}@keyframes ha-clock-rotate{from{transform:translate(-50%,0) rotate(0deg)}to{transform:translate(-50%,0) rotate(360deg)}}`)),(0,n.__decorate)([(0,r.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,n.__decorate)([(0,r.MZ)({attribute:!1})],_.prototype,"config",void 0),(0,n.__decorate)([(0,r.wk)()],_.prototype,"_dateTimeFormat",void 0),(0,n.__decorate)([(0,r.wk)()],_.prototype,"_hourOffsetSec",void 0),(0,n.__decorate)([(0,r.wk)()],_.prototype,"_minuteOffsetSec",void 0),(0,n.__decorate)([(0,r.wk)()],_.prototype,"_secondOffsetSec",void 0),_=(0,n.__decorate)([(0,r.EM)("hui-clock-card-analog")],_),o()}catch(h){o(h)}})}}]);
//# sourceMappingURL=83258.d34b7e1badabd71f.js.map