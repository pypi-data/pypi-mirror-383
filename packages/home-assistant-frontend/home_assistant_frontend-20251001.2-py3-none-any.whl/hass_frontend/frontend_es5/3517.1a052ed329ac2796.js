/*! For license information please see 3517.1a052ed329ac2796.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["3517"],{97435:function(e,t,n){n.d(t,{BU:function(){return s},It:function(){return a},lS:function(){return i},rh:function(){return r},vV:function(){return o}});n(35748),n(99342),n(88238),n(34536),n(16257),n(20152),n(44711),n(72108),n(77030),n(95013);const i=["lights","climate","security","media_players"],a={lights:"mdi:lamps",climate:"mdi:home-thermometer",security:"mdi:security",media_players:"mdi:multimedia"},o={lights:[{domain:"light",entity_category:"none"}],climate:[{domain:"climate",entity_category:"none"},{domain:"humidifier",entity_category:"none"},{domain:"fan",entity_category:"none"},{domain:"water_heater",entity_category:"none"},{domain:"cover",device_class:["awning","blind","curtain","shade","shutter","window","none"],entity_category:"none"},{domain:"binary_sensor",device_class:["window"],entity_category:"none"}],security:[{domain:"camera",entity_category:"none"},{domain:"alarm_control_panel",entity_category:"none"},{domain:"lock",entity_category:"none"},{domain:"cover",device_class:["door","garage","gate"],entity_category:"none"},{domain:"binary_sensor",device_class:["lock","door","window","garage_door","opening","carbon_monoxide","gas","moisture","safety","smoke","tamper"],entity_category:"none"},{domain:"binary_sensor",device_class:["tamper"],entity_category:"diagnostic"}],media_players:[{domain:"media_player",entity_category:"none"}]},s=(e,t)=>{const n=new Set,i=[];for(const a of t)for(const t of e)a(t)&&!n.has(t)&&(n.add(t),i.push(t));return i},r=(e,t)=>e(`ui.panel.lovelace.strategy.home.summary_list.${t}`)},28428:function(e,t,n){n.a(e,async function(e,i){try{n.r(t),n.d(t,{HomeAreaViewStrategy:function(){return g}});n(46852),n(91949),n(79827),n(35748),n(99342),n(9724),n(41846),n(65315),n(837),n(37089),n(48169),n(12977),n(5934),n(18223),n(95013);var a=n(69868),o=n(84922),s=n(11991),r=n(191),c=n(73941),l=n(79909),d=n(39982),u=n(22439),y=n(97435),m=e([u]);u=(m.then?(await m)():m)[0];const h=(e,t,n)=>({type:"heading",heading:e,icon:t,tap_action:n?{action:"navigate",navigation_path:n}:void 0});class g extends o.mN{static async generate(e,t){if(!e.area)throw new Error("Area not provided");const n=t.areas[e.area];if(!n)throw new Error("Unknown area");const i=[],a=[];n.temperature_entity_id&&a.push({entity:n.temperature_entity_id,type:"entity",color:"red"}),n.humidity_entity_id&&a.push({entity:n.humidity_entity_id,type:"entity",color:"indigo"});const o=(0,u.L8)(t,n.name,!0),s=(0,l.r)(t,{area:e.area}),m=Object.keys(t.states).filter(s),g=y.lS.reduce((e,n)=>{const i=y.vV[n].map(e=>(0,l.r)(t,e));return e[n]=(0,y.BU)(m,i),e},{}),{lights:p,climate:_,security:f,media_players:v}=g;p.length>0&&i.push({type:"grid",cards:[h((0,y.rh)(t.localize,"lights"),y.It.lights,"lights"),...p.map(o)]}),_.length>0&&i.push({type:"grid",cards:[h((0,y.rh)(t.localize,"climate"),y.It.climate,"climate"),..._.map(o)]}),f.length>0&&i.push({type:"grid",cards:[h((0,y.rh)(t.localize,"security"),y.It.security,"security"),...f.map(o)]}),v.length>0&&i.push({type:"grid",cards:[h((0,y.rh)(t.localize,"media_players"),y.It.media_players,"media-players"),...v.map(o)]});const w=[],b=Object.values(g).flat(),x=m.filter(e=>!b.includes(e)),k={},O=[];for(const r of x){const e=t.states[r];if(!e)continue;const{device:n}=(0,c.l)(e,t.entities,t.devices,t.areas,t.floors);n?(n.id in k||(k[n.id]=[]),k[n.id].push(r)):O.push(r)}const E=Object.entries(k).map(([e,t])=>({device_id:e,entities:t}));O.length>0&&E.push({device_id:"unassigned",entities:O});const I=(0,l.r)(t,{domain:"sensor",device_class:"battery"}),j=(0,l.r)(t,{domain:"sensor",device_class:["energy","power"]}),z=(0,l.r)(t,{entity_category:"none"});for(const c of E){if(0===c.entities.length)continue;const e=c.entities.filter(e=>I(e)),n=c.entities.filter(e=>!I(e)&&!j(e)&&z(e));if(0===n.length)continue;const i=c.device_id,a=t.devices[i];let s="";s=a?(0,r.xn)(a)||t.localize("ui.panel.lovelace.strategy.home.unamed_device"):t.localize("ui.panel.lovelace.strategy.home.others"),w.push({type:"grid",cards:[{type:"heading",heading:s,tap_action:a?{action:"navigate",navigation_path:`/config/devices/device/${a.id}`}:void 0,badges:[...e.slice(0,1).map(e=>({entity:e,type:"entity",tap_action:{action:"more-info"}}))]},...n.map(e=>{const n=t.states[e];return Object.assign(Object.assign({},o(e)),{},{name:t.formatEntityName(n,"entity")||t.formatEntityName(n,"device")})})]})}w.length>0&&(i.push({type:"grid",column_span:3,cards:[{type:"heading",heading_style:"subtitle",heading:""}]}),i.push(...w));const A=(0,d.q)(i.length,2,3);return 1===i.length&&(i[0].column_span=2),{type:"sections",header:{badges_position:"bottom"},max_columns:A,sections:i,badges:a}}}g=(0,a.__decorate)([(0,s.EM)("home-area-view-strategy")],g),i()}catch(h){i(h)}})},52885:function(e,t,n){var i=n(87642),a=n(49808),o=n(62700);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,function(e,n){o(t,e,n)},{AS_ENTRIES:!0}),t}})},33055:function(e,t,n){n.d(t,{u:function(){return r}});n(46852),n(35748),n(95013);var i=n(11681),a=n(64363),o=n(67851);const s=(e,t,n)=>{const i=new Map;for(let a=t;a<=n;a++)i.set(e[a],a);return i},r=(0,a.u$)(class extends a.WL{dt(e,t,n){let i;void 0===n?n=t:void 0!==t&&(i=t);const a=[],o=[];let s=0;for(const r of e)a[s]=i?i(r,s):s,o[s]=n(r,s),s++;return{values:o,keys:a}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,a]){var r;const c=(0,o.cN)(e),{values:l,keys:d}=this.dt(t,n,a);if(!Array.isArray(c))return this.ut=d,l;const u=null!==(r=this.ut)&&void 0!==r?r:this.ut=[],y=[];let m,h,g=0,p=c.length-1,_=0,f=l.length-1;for(;g<=p&&_<=f;)if(null===c[g])g++;else if(null===c[p])p--;else if(u[g]===d[_])y[_]=(0,o.lx)(c[g],l[_]),g++,_++;else if(u[p]===d[f])y[f]=(0,o.lx)(c[p],l[f]),p--,f--;else if(u[g]===d[f])y[f]=(0,o.lx)(c[g],l[f]),(0,o.Dx)(e,y[f+1],c[g]),g++,f--;else if(u[p]===d[_])y[_]=(0,o.lx)(c[p],l[_]),(0,o.Dx)(e,c[g],c[p]),p--,_++;else if(void 0===m&&(m=s(d,_,f),h=s(u,g,p)),m.has(u[g]))if(m.has(u[p])){const t=h.get(d[_]),n=void 0!==t?c[t]:null;if(null===n){const t=(0,o.Dx)(e,c[g]);(0,o.lx)(t,l[_]),y[_]=t}else y[_]=(0,o.lx)(n,l[_]),(0,o.Dx)(e,c[g],n),c[t]=null;_++}else(0,o.KO)(c[p]),p--;else(0,o.KO)(c[g]),g++;for(;_<=f;){const t=(0,o.Dx)(e,y[f+1]);(0,o.lx)(t,l[_]),y[_++]=t}for(;g<=p;){const e=c[g++];null!==e&&(0,o.KO)(e)}return this.ut=d,(0,o.mY)(e,y),i.c0}constructor(e){if(super(e),e.type!==a.OA.CHILD)throw Error("repeat() can only be used in text expressions")}})}}]);
//# sourceMappingURL=3517.1a052ed329ac2796.js.map