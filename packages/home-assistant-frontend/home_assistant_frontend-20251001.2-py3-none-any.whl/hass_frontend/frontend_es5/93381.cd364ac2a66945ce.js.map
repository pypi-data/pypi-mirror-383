{"version":3,"file":"93381.cd364ac2a66945ce.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/common/datetime/calc_date.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/common/datetime/calc_date_range.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/common/util/group-by.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.2/src/data/energy.ts"],"names":["calcZonedDate","date","tz","fn","options","fnResult","TZDate","Date","getTime","calcDate","locale","config","time_zone","TimeZone","calcDateProperty","calcDateDifferenceProperty","endDate","startDate","shiftDateRange","forward","start","end","isFirstDayOfMonth","isLastDayOfMonth","difference","differenceInMonths","addMonths","endOfMonth","startOfDay","getMilliseconds","endOfDay","differenceInDays","addDays","differenceInMilliseconds","addMilliseconds","parseDate","timezone","tzDate","formatDate","toISOString","split","formatTime","calcDateRange","hass","range","today","weekStartsOn","firstWeekdayIndex","startOfWeek","endOfWeek","startOfMonth","startOfQuarter","endOfQuarter","startOfYear","endOfYear","subDays","subMonths","subHours","groupBy","list","keySelector","result","item","key","push","energyCollectionKeys","emptyFlowFromGridSourceEnergyPreference","stat_energy_from","stat_cost","entity_energy_price","number_energy_price","emptyFlowToGridSourceEnergyPreference","stat_energy_to","stat_compensation","emptyGridSourceEnergyPreference","type","flow_from","flow_to","cost_adjustment_day","emptySolarEnergyPreference","config_entry_solar_forecast","emptyBatteryEnergyPreference","emptyGasEnergyPreference","emptyWaterEnergyPreference","getEnergyInfo","callWS","getEnergyPreferenceValidation","async","loadBackendTranslation","getEnergyPreferences","saveEnergyPreferences","prefs","newPrefs","Object","assign","clearEnergyCollectionPreferences","getFossilEnergyConsumption","startTime","energy_statistic_ids","co2_statistic_id","endTime","period","start_time","end_time","energySourcesByType","energy_sources","getReferencedStatisticIds","info","includeTypes","statIDs","source","includes","costStatId","cost_sensors","flowFrom","flowTo","device_consumption","map","d","stat_consumption","getEnergyData","compare","co2SignalEntity","entity","values","entities","platform","co2State","states","entity_id","attributes","unit_of_measurement","consumptionStatIDs","energyStatIds","waterStatIds","allStatIDs","dayDifference","statsMetadata","statsMetadataArray","length","getStatisticMetadata","forEach","x","statistic_id","gasUnit","getEnergyGasUnit","energyUnits","energy","volume","VOLUME_UNITS","undefined","waterUnit","getEnergyWaterUnit","waterUnits","_energyStats","fetchStatistics","_waterStats","statsCompare","startCompare","endCompare","_fossilEnergyConsumption","_fossilEnergyConsumptionCompare","_energyStatsCompare","_waterStatsCompare","energyStats","waterStats","energyStatsCompare","waterStatsCompare","fossilEnergyConsumption","fossilEnergyConsumptionCompare","Promise","all","stats","energyCollection","getEnergyDataCollection","clearPrefs","_active","refresh","scheduleHourlyRefresh","collection","_refreshTimeout","clearTimeout","nextFetch","getMinutes","setHours","getHours","setMinutes","window","setTimeout","now","startsWith","Error","connection","getCollection","origSubscribe","subscribe","subscriber","unsub","hour","formatTime24h","preferredPeriod","localStorage","getItem","scheduleUpdatePeriod","_updatePeriodTimeout","addHours","setPeriod","newStart","newEnd","_collection$end","setCompare","getEnergySolarForecasts","energyGasUnitClass","getEnergyGasUnitClass","excludeSource","statisticsMetaData","statisticIdWithMeta","unit_class","units","filter","s","getDisplayUnit","first","every","u","unit_system","energyStatisticHelpUrl","getSummedData","memoizeOne","data","summedData","getSummedDataPartial","compareSummedData","statIds","from_grid","to_grid","to_battery","from_battery","solar","total","timestamps","Set","entries","subStatIds","totalStats","sets","sum","id","stat","change","val","add","Array","from","sort","computeConsumptionData","compareData","consumption","computeConsumptionDataPartial","compareConsumption","outData","used_total","grid_to_battery","battery_to_grid","solar_to_battery","solar_to_grid","used_solar","used_grid","used_battery","t","_data$from_grid$t","_data$to_grid$t","_data$solar$t","_data$to_battery$t","_data$from_battery$t","computeConsumptionSingle","Math","max","used_total_remaining","excess_grid_in_after_consumption","min","grid_to_battery_2","formatConsumptionShort","unit","targetUnit","pickedUnit","targetUnitIndex","findIndex","unitIndex","abs","formatNumber","maximumFractionDigits","calculateSolarConsumedGauge","hasBattery","_","solarProduction","solarConsumed","solarReturned","batteryLifo","_consumption$used_sol","_consumption$solar_to","_consumption$battery_","_consumption$used_bat","value","batteryToGrid","usedBattery","drainBattery","amount","lastLifo","pop","totalProduction"],"mappings":"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"}