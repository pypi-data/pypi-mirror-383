export const __webpack_id__="2667";export const __webpack_ids__=["2667"];export const __webpack_modules__={93017:function(e,t,o){var a=o(17807),i=o(83124),n=o(90437).f,r=a("unscopables"),s=Array.prototype;void 0===s[r]&&n(s,r,{configurable:!0,value:i(null)}),e.exports=function(e){s[r][e]=!0}},36838:function(e,t,o){var a=o(30354);e.exports=function(e,t,o){for(var i=0,n=arguments.length>2?o:a(t),r=new e(n);n>i;)r[i]=t[i++];return r}},51017:function(e,t,o){var a=o(16732),i=o(42244),n=o(48579),r=o(77977),s=o(67309),l=o(30354),u=o(83124),c=o(36838),d=Array,p=i([].push);e.exports=function(e,t,o,i){for(var g,h,y,f=r(e),m=n(f),v=a(t,o),_=u(null),S=l(m),b=0;S>b;b++)y=m[b],(h=s(v(y,b,f)))in _?p(_[h],y):_[h]=[y];if(i&&(g=i(f))!==d)for(h in _)_[h]=c(g,_[h]);return _}},75846:function(e,t,o){var a=o(87642),i=o(51017),n=o(93017);a({target:"Array",proto:!0},{group:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("group")},19526:function(e,t,o){o.r(t),o.d(t,{install:()=>Re});var a=o(83107);function i(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),i=e.getGraph().data,n=o.mapArray(o.getName);i.filterSelf(function(e){var o=i.getItemModel(e).getShallow("category");if(null!=o){(0,a.isNumber)(o)&&(o=n[o]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(o))return!1}return!0})})}function n(e){var t={};e.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),i=e.getData(),n={};o.each(function(a){var i=o.getName(a);n["ec-"+i]=a;var r=o.getItemModel(a),s=r.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(i,t)),o.setItemVisual(a,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=r.getShallow(l[u],!0);null!=c&&o.setItemVisual(a,l[u],c)}}),o.count()&&i.each(function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){(0,a.isString)(t)&&(t=n["ec-"+t]);var r=o.getItemVisual(t,"style"),s=i.ensureUniqueItemVisual(e,"style");(0,a.extend)(s,r);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++)i.setItemVisual(e,l[u],o.getItemVisual(t,l[u]))}})})}function r(e){return e instanceof Array||(e=[e,e]),e}function s(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),o=e.getEdgeData(),i=r(e.get("edgeSymbol")),n=r(e.get("edgeSymbolSize"));o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",n&&n[0]),o.setVisual("toSymbolSize",n&&n[1]),o.setVisual("style",e.getModel("lineStyle").getLineStyle()),o.each(function(e){var i=o.getItemModel(e),n=t.getEdgeByIndex(e),s=r(i.getShallow("symbol",!0)),l=r(i.getShallow("symbolSize",!0)),u=i.getModel("lineStyle").getLineStyle(),c=o.ensureUniqueItemVisual(e,"style");switch((0,a.extend)(c,u),c.stroke){case"source":var d=n.node1.getVisual("style");c.stroke=d&&d.fill;break;case"target":d=n.node2.getVisual("style");c.stroke=d&&d.fill}s[0]&&n.setVisual("fromSymbol",s[0]),s[1]&&n.setVisual("toSymbol",s[1]),l[0]&&n.setVisual("fromSymbolSize",l[0]),l[1]&&n.setVisual("toSymbolSize",l[1])})})}o(99342);var l=o(90436),u="--\x3e",c=function(e){return e.get("autoCurveness")||null},d=function(e,t){var o=c(e),i=20,n=[];if(a.isNumber(o))i=o;else if(a.isArray(o))return void(e.__curvenessList=o);t>i&&(i=t);var r=i%2?i+2:i+3;n=[];for(var s=0;s<r;s++)n.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=n},p=function(e,t,o){var a=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[o.uid,a,i].join(u)},g=function(e){var t=e.split(u);return[t[0],t[2],t[1]].join(u)},h=function(e,t){var o=p(e.node1,e.node2,t);return t.__edgeMap[o]},y=function(e,t){return f(p(e.node1,e.node2,t),t)+f(p(e.node2,e.node1,t),t)},f=function(e,t){var o=t.__edgeMap;return o[e]?o[e].length:0};function m(e,t,o,i){var n=c(t),r=a.isArray(n);if(!n)return null;var s=h(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===o){l=u;break}var m=y(e,t);d(t,m),e.lineStyle=e.lineStyle||{};var v=p(e.node1,e.node2,t),_=t.__curvenessList,S=r||m%2?0:1;if(s.isForward)return _[S+l];var b=g(v),x=f(b,t),L=_[l+x+S];return i?r?n&&0===n[0]?(x+S)%2?L:-L:((x%2?0:1)+S)%2?L:-L:(x+S)%2?L:-L:_[l+x+S]}function v(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var o=e.getGraph();o.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),_(o,e)}}function _(e,t){e.eachEdge(function(e,o){var i=a.retrieve3(e.getModel().get(["lineStyle","curveness"]),-m(e,t,o,!0),0),n=l.clone(e.node1.getLayout()),r=l.clone(e.node2.getLayout()),s=[n,r];+i&&s.push([(n[0]+r[0])/2-(n[1]-r[1])*i,(n[1]+r[1])/2-(r[0]-n[0])*i]),e.setLayout(s)})}function S(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),o=e.coordinateSystem;if(o&&"view"!==o.type){var i=e.getData(),n=[];(0,a.each)(o.dimensions,function(e){n=n.concat(i.mapDimensionsAll(e))});for(var r=0;r<i.count();r++){for(var s=[],l=!1,u=0;u<n.length;u++){var c=i.get(n[u],r);isNaN(c)||(l=!0),s.push(c)}l?i.setItemLayout(r,o.dataToPoint(s)):i.setItemLayout(r,[NaN,NaN])}_(i.graph,e)}else t&&"none"!==t||v(e)})}function b(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=e.option.nodeScaleRatio,a=t.scaleX;return((t.getZoom()-1)*o+1)/a}function x(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var L=Math.PI,I=[];function w(e,t,o,i){var n=e.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),s=e.getData(),u=s.graph,c=r.width/2+r.x,d=r.height/2+r.y,p=Math.min(r.width,r.height)/2,g=s.count();if(s.setLayout({cx:c,cy:d}),g){if(o){var h=n.pointToData(i),y=h[0],f=h[1],v=[y-c,f-d];l.normalize(v,v),l.scale(v,v,p),o.setLayout([c+v[0],d+v[1]],!0),M(o,e.get(["circular","rotateLabel"]),c,d)}A[t](e,u,s,p,c,d,g),u.eachEdge(function(t,o){var i,n=a.retrieve3(t.getModel().get(["lineStyle","curveness"]),m(t,e,o),0),r=l.clone(t.node1.getLayout()),s=l.clone(t.node2.getLayout()),u=(r[0]+s[0])/2,p=(r[1]+s[1])/2;+n&&(i=[c*(n*=3)+u*(1-n),d*n+p*(1-n)]),t.setLayout([r,s,i])})}}}var A={value:function(e,t,o,a,i,n,r){var s=0,l=o.getSum("value"),u=2*Math.PI/(l||r);t.eachNode(function(e){var t=e.getValue("value"),o=u*(l?t:1)/2;s+=o,e.setLayout([a*Math.cos(s)+i,a*Math.sin(s)+n]),s+=o})},symbolSize:function(e,t,o,a,i,n,r){var s=0;I.length=r;var l=b(e);t.eachNode(function(e){var t=x(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var o=Math.asin(t/2/a);isNaN(o)&&(o=L/2),I[e.dataIndex]=o,s+=2*o});var u=(2*L-s)/r/2,c=0;t.eachNode(function(e){var t=u+I[e.dataIndex];c+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([a*Math.cos(c)+i,a*Math.sin(c)+n]),c+=t})}};function M(e,t,o,i){var n=e.getGraphicEl();if(n){var r=e.getModel().get(["label","rotate"])||0,s=n.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-i,l[0]-o);u<0&&(u=2*Math.PI+u);var c=l[0]<o;c&&(u-=Math.PI);var d=c?"left":"right";s.setTextConfig({rotation:-u,position:d,origin:"center"});var p=s.ensureState("emphasis");a.extend(p.textConfig||(p.textConfig={}),{position:d})}else s.setTextConfig({rotation:r*=Math.PI/180})}}function N(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&w(e,"symbolSize")})}var D=l.scaleAndAdd;var V=o(4955);function T(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var o=e.preservedPoints||{},i=e.getGraph(),n=i.data,r=i.edgeData,s=e.getModel("force"),u=s.get("initLayout");e.preservedPoints?n.each(function(e){var t=n.getId(e);n.setItemLayout(e,o[t]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&w(e,"value"):v(e);var c=n.getDataExtent("value"),d=r.getDataExtent("value"),p=s.get("repulsion"),g=s.get("edgeLength"),h=a.isArray(p)?p:[p,p],y=a.isArray(g)?g:[g,g];y=[y[1],y[0]];var f=n.mapArray("value",function(e,t){var o=n.getItemLayout(t),a=(0,V.Cb)(e,c,h);return isNaN(a)&&(a=(h[0]+h[1])/2),{w:a,rep:a,fixed:n.getItemModel(t).get("fixed"),p:!o||isNaN(o[0])||isNaN(o[1])?null:o}}),_=r.mapArray("value",function(t,o){var n=i.getEdgeByIndex(o),r=(0,V.Cb)(t,d,y);isNaN(r)&&(r=(y[0]+y[1])/2);var s=n.getModel(),l=a.retrieve3(n.getModel().get(["lineStyle","curveness"]),-m(n,e,o,!0),0);return{n1:f[n.node1.dataIndex],n2:f[n.node2.dataIndex],d:r,curveness:l,ignoreForceLayout:s.get("ignoreForceLayout")}}),S=t.getBoundingRect(),b=function(e,t,o){for(var a=e,i=t,n=o.rect,r=n.width,s=n.height,u=[n.x+r/2,n.y+s/2],c=null==o.gravity?.1:o.gravity,d=0;d<a.length;d++){var p=a[d];p.p||(p.p=l.create(r*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),p.pp=l.clone(p.p),p.edges=null}var g,h,y=null==o.friction?.6:o.friction,f=y;return{warmUp:function(){f=.8*y},setFixed:function(e){a[e].fixed=!0},setUnfixed:function(e){a[e].fixed=!1},beforeStep:function(e){g=e},afterStep:function(e){h=e},step:function(e){g&&g(a,i);for(var t=[],o=a.length,n=0;n<i.length;n++){var r=i[n];if(!r.ignoreForceLayout){var s=r.n1,d=r.n2;l.sub(t,d.p,s.p);var p=l.len(t)-r.d,y=d.w/(s.w+d.w);isNaN(y)&&(y=0),l.normalize(t,t),!s.fixed&&D(s.p,s.p,t,y*p*f),!d.fixed&&D(d.p,d.p,t,-(1-y)*p*f)}}for(n=0;n<o;n++)(S=a[n]).fixed||(l.sub(t,u,S.p),D(S.p,S.p,t,c*f));for(n=0;n<o;n++){s=a[n];for(var m=n+1;m<o;m++){d=a[m],l.sub(t,d.p,s.p),0===(p=l.len(t))&&(l.set(t,Math.random()-.5,Math.random()-.5),p=1);var v=(s.rep+d.rep)/p/p;!s.fixed&&D(s.pp,s.pp,t,v),!d.fixed&&D(d.pp,d.pp,t,-v)}}var _=[];for(n=0;n<o;n++){var S;(S=a[n]).fixed||(l.sub(_,S.p,S.pp),D(S.p,S.p,_,f),l.copy(S.pp,S.p))}var b=(f*=.992)<.01;h&&h(a,i,b),e&&e(b)}}}(f,_,{rect:S,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(e,t){for(var o=0,a=e.length;o<a;o++)e[o].fixed&&l.copy(e[o].p,i.getNodeByIndex(o).getLayout())}),b.afterStep(function(e,t,a){for(var r=0,s=e.length;r<s;r++)e[r].fixed||i.getNodeByIndex(r).setLayout(e[r].p),o[n.getId(r)]=e[r].p;for(r=0,s=t.length;r<s;r++){var u=t[r],c=i.getEdgeByIndex(r),d=u.n1.p,p=u.n2.p,g=c.getLayout();(g=g?g.slice():[])[0]=g[0]||[],g[1]=g[1]||[],l.copy(g[0],d),l.copy(g[1],p),+u.curveness&&(g[2]=[(d[0]+p[0])/2-(d[1]-p[1])*u.curveness,(d[1]+p[1])/2-(p[0]-d[0])*u.curveness]),c.setLayout(g)}}),e.forceLayout=b,e.preservedPoints=o,b.step()}else e.forceLayout=null})}var C=o(93864),z=o(41160),E=o(64440),P=o(89524);function k(e,t){var o=[];return e.eachSeriesByType("graph",function(i){(0,P.m7)({targetModel:i,coordSysType:"view",coordSysProvider:function(){var n=i.getData(),r=n.mapArray(function(e){var t=n.getItemModel(e);return[+t.get("x"),+t.get("y")]}),s=[],l=[];E.Cr(r,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1);l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=function(e,t,o){var i=(0,z.Lj)(e,t),n=(0,a.extend)(e.getBoxLayoutParams(),{aspect:o}),r=(0,z.dV)(n,i.refContainer);return(0,z.FJ)(e,r,o)}(i,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],p=l[1]-s[1],g=new C.A(null,{api:t,ecModel:e});return g.zoomLimit=i.get("scaleLimit"),g.setBoundingRect(s[0],s[1],d,p),g.setViewRect(c.x,c.y,c.width,c.height),g.setCenter(i.get("center")),g.setZoom(i.get("zoom")),o.push(g),g},isDefaultDataCoordSys:!0})}),o}o(75846);var R=o(69868),O=o(77631),B=o(38151),G=o(5580),Y=o(99734),F=o(40478),X=o(14364),j=o(24868),U=o(41076),Z=F.A.prototype,H=X.A.prototype,W=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,R.__extends)(t,e)}(W);function q(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}const K=function(e){function t(t){var o=e.call(this,t)||this;return o.type="ec-line",o}return(0,R.__extends)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:U.A.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new W},t.prototype.buildPath=function(e,t){q(t)?Z.buildPath.call(this,e,t):H.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return q(this.shape)?Z.pointAt.call(this,e):H.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,o=q(t)?[t.x2-t.x1,t.y2-t.y1]:H.tangentAt.call(this,e);return l.normalize(o,o)},t}(j.Ay);var J=o(29803),Q=o(92712),$=o(65611),ee=["fromSymbol","toSymbol"];function te(e){return"_"+e+"Type"}function oe(e,t,o){var a=t.getItemVisual(o,e);if(!a||"none"===a)return a;var i=t.getItemVisual(o,e+"Size"),n=t.getItemVisual(o,e+"Rotate"),r=t.getItemVisual(o,e+"Offset"),s=t.getItemVisual(o,e+"KeepAspect"),l=Y.xU(i);return a+l+Y.hV(r||0,l)+(n||"")+(s||"")}function ae(e,t,o){var a=t.getItemVisual(o,e);if(a&&"none"!==a){var i=t.getItemVisual(o,e+"Size"),n=t.getItemVisual(o,e+"Rotate"),r=t.getItemVisual(o,e+"Offset"),s=t.getItemVisual(o,e+"KeepAspect"),l=Y.xU(i),u=Y.hV(r||0,l),c=Y.v5(a,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=null==n||isNaN(n)?void 0:+n*Math.PI/180||0,c.name=e,c}}function ie(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var o=t[2];o?(e.cpx1=o[0],e.cpy1=o[1]):(e.cpx1=NaN,e.cpy1=NaN)}const ne=function(e){function t(t,o,a){var i=e.call(this)||this;return i._createLine(t,o,a),i}return(0,R.__extends)(t,e),t.prototype._createLine=function(e,t,o){var i=e.hostModel,n=e.getItemLayout(t),r=e.getItemVisual(t,"z2"),s=function(e){var t=new K({name:"line",subPixelOptimize:!0});return ie(t.shape,e),t}(n);s.shape.percent=0,J.LW(s,{z2:(0,a.retrieve2)(r,0),shape:{percent:1}},i,t),this.add(s),(0,a.each)(ee,function(o){var a=ae(o,e,t);this.add(a),this[te(o)]=oe(o,e,t)},this),this._updateCommonStl(e,t,o)},t.prototype.updateData=function(e,t,o){var i=e.hostModel,n=this.childOfName("line"),r=e.getItemLayout(t),s={shape:{}};ie(s.shape,r),J.oi(n,s,i,t),(0,a.each)(ee,function(o){var a=oe(o,e,t),i=te(o);if(this[i]!==a){this.remove(this.childOfName(o));var n=ae(o,e,t);this.add(n)}this[i]=a},this),this._updateCommonStl(e,t,o)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,o){var i=e.hostModel,n=this.childOfName("line"),r=o&&o.emphasisLineStyle,s=o&&o.blurLineStyle,l=o&&o.selectLineStyle,u=o&&o.labelStatesModels,c=o&&o.emphasisDisabled,d=o&&o.focus,p=o&&o.blurScope;if(!o||e.hasItemOption){var g=e.getItemModel(t),h=g.getModel("emphasis");r=h.getModel("lineStyle").getLineStyle(),s=g.getModel(["blur","lineStyle"]).getLineStyle(),l=g.getModel(["select","lineStyle"]).getLineStyle(),c=h.get("disabled"),d=h.get("focus"),p=h.get("blurScope"),u=(0,$.lx)(g)}var y=e.getItemVisual(t,"style"),f=y.stroke;n.useStyle(y),n.style.fill=null,n.style.strokeNoScale=!0,n.ensureState("emphasis").style=r,n.ensureState("blur").style=s,n.ensureState("select").style=l,(0,a.each)(ee,function(e){var t=this.childOfName(e);if(t){t.setColor(f),t.style.opacity=y.opacity;for(var o=0;o<Q.BV.length;o++){var a=Q.BV[o],i=n.getState(a);if(i){var r=i.style||{},s=t.ensureState(a),l=s.style||(s.style={});null!=r.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=r.stroke),null!=r.opacity&&(l.opacity=r.opacity)}}t.markRedraw()}},this);var m=i.getRawValue(t);(0,$.qM)(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,o){return i.getFormattedLabel(t,o,e.dataType)}},inheritColor:f||U.A.color.neutral99,defaultOpacity:y.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?(0,V.LI)(m):m)+""});var v=this.getTextContent();if(v){var _=u.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=_.get("position")||"middle";var S=_.get("distance");(0,a.isArray)(S)||(S=[S,S]),v.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),(0,Q.Lm)(this,d,p,c)},t.prototype.highlight=function(){(0,Q.HY)(this)},t.prototype.downplay=function(){(0,Q.SD)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");ie(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),o=e.childOfName("toSymbol"),a=e.getTextContent();if(t||o||a&&!a.ignore){for(var i=1,n=this.parent;n;)n.scaleX&&(i/=n.scaleX),n=n.parent;var r=e.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,u=r.pointAt(0),c=r.pointAt(s),d=l.sub([],c,u);if(l.normalize(d,d),t&&(t.setPosition(u),I(t,0),t.scaleX=t.scaleY=i*s,t.markRedraw()),o&&(o.setPosition(c),I(o,1),o.scaleX=o.scaleY=i*s,o.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,g=void 0,h=a.__labelDistance,y=h[0]*i,f=h[1]*i,m=s/2,v=r.tangentAt(m),_=[v[1],-v[0]],S=r.pointAt(m);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var b=v[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var x=-Math.atan2(v[1],v[0]);c[0]<u[0]&&(x=Math.PI+x),a.rotation=x}var L=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-f,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=f,g="top";break;default:L=0,g="middle"}switch(a.__position){case"end":a.x=d[0]*y+c[0],a.y=d[1]*f+c[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",g=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*y+u[0],a.y=-d[1]*f+u[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",g=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*b+u[0],a.y=u[1]+L,p=v[0]<0?"right":"left",a.originX=-y*b,a.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=S[0],a.y=S[1]+L,p="center",a.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*b+c[0],a.y=c[1]+L,p=v[0]>=0?"right":"left",a.originX=y*b,a.originY=-L}a.scaleX=a.scaleY=i,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||p})}}}function I(e,t){var o=e.__specifiedRotation;if(null==o){var a=r.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(a[1],a[0]))}else e.attr("rotation",o)}},t}(B.A);function re(e){var t=e.hostModel,o=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:o.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:o.get("disabled"),blurScope:o.get("blurScope"),focus:o.get("focus"),labelStatesModels:(0,$.lx)(t)}}function se(e){return isNaN(e[0])||isNaN(e[1])}function le(e){return e&&!se(e[0])&&!se(e[1])}const ue=function(){function e(e){this.group=new B.A,this._LineCtor=e||ne}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var o=this,a=o.group,i=o._lineData;o._lineData=e,i||a.removeAll();var n=re(e);e.diff(i).add(function(o){t._doAdd(e,o,n)}).update(function(o,a){t._doUpdate(i,e,a,o,n)}).remove(function(e){a.remove(i.getItemGraphicEl(e))}).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,o){t.updateLayout(e,o)},this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=re(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function o(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var a=e.start;a<e.end;a++){if(le(t.getItemLayout(a))){var i=new this._LineCtor(t,a,this._seriesScope);i.traverse(o),this.group.add(i),t.setItemGraphicEl(a,i),this._progressiveEls.push(i)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){G.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,o){if(le(e.getItemLayout(t))){var a=new this._LineCtor(e,t,o);e.setItemGraphicEl(t,a),this.group.add(a)}},e.prototype._doUpdate=function(e,t,o,a,i){var n=e.getItemGraphicEl(o);le(t.getItemLayout(a))?(n?n.updateData(t,a,i):n=new this._LineCtor(t,a,i),t.setItemGraphicEl(a,n),this.group.add(n)):this.group.remove(n)},e}();var ce=o(22503),de=o(52255),pe=o(36920),ge=[],he=[],ye=[],fe=pe.k3,me=l.distSquare,ve=Math.abs;function _e(e,t,o){for(var a,i=e[0],n=e[1],r=e[2],s=1/0,l=o*o,u=.1,c=.1;c<=.9;c+=.1){ge[0]=fe(i[0],n[0],r[0],c),ge[1]=fe(i[1],n[1],r[1],c),(g=ve(me(ge,t)-l))<s&&(s=g,a=c)}for(var d=0;d<32;d++){var p=a+u;he[0]=fe(i[0],n[0],r[0],a),he[1]=fe(i[1],n[1],r[1],a),ye[0]=fe(i[0],n[0],r[0],p),ye[1]=fe(i[1],n[1],r[1],p);var g=me(he,t)-l;if(ve(g)<.01)break;var h=me(ye,t)-l;u/=2,g<0?h>=0?a+=u:a-=u:h>=0?a-=u:a+=u}return a}function Se(e,t){var o=[],a=pe.kx,i=[[],[],[]],n=[[],[]],r=[];t/=2,e.eachEdge(function(e,s){var u=e.getLayout(),c=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol");u.__original||(u.__original=[l.clone(u[0]),l.clone(u[1])],u[2]&&u.__original.push(l.clone(u[2])));var p=u.__original;if(null!=u[2]){if(l.copy(i[0],p[0]),l.copy(i[1],p[2]),l.copy(i[2],p[1]),c&&"none"!==c){var g=x(e.node1),h=_e(i,p[0],g*t);a(i[0][0],i[1][0],i[2][0],h,o),i[0][0]=o[3],i[1][0]=o[4],a(i[0][1],i[1][1],i[2][1],h,o),i[0][1]=o[3],i[1][1]=o[4]}if(d&&"none"!==d){g=x(e.node2),h=_e(i,p[1],g*t);a(i[0][0],i[1][0],i[2][0],h,o),i[1][0]=o[1],i[2][0]=o[2],a(i[0][1],i[1][1],i[2][1],h,o),i[1][1]=o[1],i[2][1]=o[2]}l.copy(u[0],i[0]),l.copy(u[1],i[2]),l.copy(u[2],i[1])}else{if(l.copy(n[0],p[0]),l.copy(n[1],p[1]),l.sub(r,n[1],n[0]),l.normalize(r,r),c&&"none"!==c){g=x(e.node1);l.scaleAndAdd(n[0],n[0],r,g*t)}if(d&&"none"!==d){g=x(e.node2);l.scaleAndAdd(n[1],n[1],r,-g*t)}l.copy(u[0],n[0]),l.copy(u[1],n[1])}})}var be=o(85337),xe=o(14267),Le=o(88425),Ie=(0,Le.$r)();function we(e){return"view"===e.type}var Ae=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,R.__extends)(t,e),t.prototype.init=function(e,t){var o=new O.A,a=new ue,i=this.group,n=new B.A;this._controller=new ce.A(t.getZr()),this._controllerHost={target:n},n.add(o.group),n.add(a.group),i.add(n),this._symbolDraw=o,this._lineDraw=a,this._mainGroup=n,this._firstRender=!0},t.prototype.render=function(e,t,o){var a=this,i=e.coordinateSystem,n=!1;this._model=e,this._api=o,this._active=!0;var r=this._getThumbnailInfo();r&&r.bridge.reset(o);var s=this._symbolDraw,l=this._lineDraw;if(we(i)){var u={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?this._mainGroup.attr(u):J.oi(this._mainGroup,u,e)}Se(e.getGraph(),b(e));var c=e.getData();s.updateData(c);var d=e.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(null,e,o),clearTimeout(this._layoutTimeout);var p=e.forceLayout,g=e.get(["force","layoutAnimation"]);p&&(n=!0,this._startForceLayoutIteration(p,o,g));var h=e.get("layout");c.graph.eachNode(function(t){var i=t.dataIndex,n=t.getGraphicEl(),r=t.getModel();if(n){n.off("drag").off("dragend");var s=r.get("draggable");s&&n.on("drag",function(r){switch(h){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,o,g),p.setFixed(i),c.setItemLayout(i,[n.x,n.y]);break;case"circular":c.setItemLayout(i,[n.x,n.y]),t.setLayout({fixed:!0},!0),w(e,"symbolSize",t,[r.offsetX,r.offsetY]),a.updateLayout(e);break;default:c.setItemLayout(i,[n.x,n.y]),_(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){p&&p.setUnfixed(i)}),n.setDraggable(s,!!r.get("cursor")),"adjacency"===r.get(["emphasis","focus"])&&((0,xe.z)(n).focus=t.getAdjacentDataIndices())}}),c.graph.eachEdge(function(e){var t=e.getGraphicEl(),o=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===o&&((0,xe.z)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})});var y="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=c.getLayout("cx"),m=c.getLayout("cy");c.graph.eachNode(function(e){M(e,y,f,m)}),this._firstRender=!1,n||this._renderThumbnail(e,o,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t,o){var a=this,i=!1;!function n(){e.step(function(e){a.updateLayout(a._model),!e&&i||(i=!0,a._renderThumbnail(a._model,t,a._symbolDraw,a._lineDraw)),(a._layouting=!e)&&(o?a._layoutTimeout=setTimeout(n,16):n())})}()},t.prototype._updateController=function(e,t,o){var a=this._controller,i=this._controllerHost,n=t.coordinateSystem;we(n)?(a.enable(t.get("roam"),{api:o,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(e,t,o){return n.containPoint([t,o])},isInClip:function(t,o,a){return!e||e.contain(o,a)}}}),i.zoomLimit=t.get("scaleLimit"),i.zoom=n.getZoom(),a.off("pan").off("zoom").on("pan",function(e){o.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){o.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY})})):a.disable()},t.prototype.updateViewOnPan=function(e,t,o){this._active&&((0,de.tN)(this._controllerHost,o.dx,o.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,t,o){this._active&&((0,de.xt)(this._controllerHost,o.zoom,o.originX,o.originY),this._updateNodeAndLinkScale(),Se(e.getGraph(),b(e)),this._lineDraw.updateLayout(),t.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),o=b(e);t.eachItemGraphicEl(function(e,t){e&&e.setSymbolScale(o)})},t.prototype.updateLayout=function(e){this._active&&(Se(e.getGraph(),b(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,t=e.coordinateSystem;if("view"===t.type){var o=function(e){if(e)return Ie(e).bridge}(e);if(o)return{bridge:o,coordSys:t}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,t,o,i){var n=this._getThumbnailInfo();if(n){var r=new B.A,s=o.group.children(),l=i.group.children(),u=new B.A,c=new B.A;r.add(c),r.add(u);for(var d=0;d<s.length;d++){var p=(_=s[d]).children()[0],g=_.x,h=_.y,y=(0,a.clone)(p.shape),f=(0,a.extend)(y,{width:p.scaleX,height:p.scaleY,x:g-p.scaleX/2,y:h-p.scaleY/2}),m=(0,a.clone)(p.style),v=new p.constructor({shape:f,style:m,z2:151});c.add(v)}for(d=0;d<l.length;d++){var _,S=(_=l[d]).children()[0],b=(m=(0,a.clone)(S.style),f=(0,a.clone)(S.shape),new K({style:m,shape:f,z2:151}));u.add(b)}n.bridge.renderContent({api:t,roamType:e.get("roam"),viewportRect:null,group:r,targetTrans:n.coordSys.transform})}},t.type="graph",t}(be.A);const Me=Ae;var Ne=o(57311),De=o(64365),Ve=o(29366);const Te=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();var Ce=o(3140),ze=o(92548),Ee=o(15686),Pe=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return(0,R.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var o=this;function a(){return o._categoriesData}this.legendVisualProvider=new Te(a,a),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,Le.M5)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var o,i=e.edges||e.links||[],n=e.data||e.nodes||[],r=this;if(n&&i){c(o=this)&&(o.__curvenessList=[],o.__edgeMap={},d(o));var s=(0,Ve.A)(n,i,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var o=De.A.prototype.getModel;function a(e,t){var a=o.call(this,e,t);return a.resolveParentPath=i,a}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=i,e.getModel=a,e})});return a.each(s.edges,function(e){!function(e,t,o,a){if(c(o)){var i=p(e,t,o),n=o.__edgeMap,r=n[g(i)];n[i]&&!r?n[i].isForward=!0:r&&n[i]&&(r.isForward=!0,n[i].isForward=!1),n[i]=n[i]||[],n[i].push(a)}}(e.node1,e.node2,this,e.dataIndex)},this),s.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,o){if("edge"===o){var a=this.getData(),i=this.getDataParams(e,o),n=a.graph.getEdgeByIndex(e),r=a.getName(n.node1.dataIndex),s=a.getName(n.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,ze.Qx)("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return(0,Ee.J)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=a.map(this.option.categories||[],function(e){return null!=e.value?e:a.extend({value:0},e)}),t=new Ne.A(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:U.A.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:U.A.color.primary}}},t}(Ce.A);const ke=Pe;function Re(e){e.registerChartView(Me),e.registerSeriesModel(ke),e.registerProcessor(i),e.registerVisual(n),e.registerVisual(s),e.registerLayout(S),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,N),e.registerLayout(T),e.registerCoordinateSystem("graphView",{dimensions:C.A.dimensions,create:k}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},a.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},a.noop),e.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,o){t.eachComponent({mainType:"series",query:e},function(t){var a=o.getViewOfSeriesModel(t);a&&(null!=e.dx&&null!=e.dy&&a.updateViewOnPan(t,o,e),null!=e.zoom&&null!=e.originX&&null!=e.originY&&a.updateViewOnZoom(t,o,e));var i=t.coordinateSystem,n=(0,de.Ok)(i,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})})}}};
//# sourceMappingURL=2667.5c0209d5909cbfe6.js.map