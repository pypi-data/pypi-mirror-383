"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["73382"],{6469:function(e,i,t){t.r(i);t(46852),t(35748),t(5934),t(95013);var s=t(69868),n=t(11991),r=t(44017),o=t(85191),a=t(43067);class h extends a.E{static async getConfigElement(){return await Promise.all([t.e("42153"),t.e("30199"),t.e("40909"),t.e("43017"),t.e("97039"),t.e("29651")]).then(t.bind(t,38954)),document.createElement("hui-conditional-card-editor")}static getStubConfig(){return{type:"conditional",conditions:[],card:{}}}setConfig(e){if(this.validateConfig(e),!e.card)throw new Error("No card configured");this._element=this._createCardElement(e.card)}getCardSize(){return(0,o.Z)(this._element)}_createCardElement(e){const i=document.createElement("hui-card");return i.hass=this.hass,i.preview=this.preview,i.config=e,i.load(),i}setVisibility(e){const i=this.preview||e,t=this.hidden;super.setVisibility(e),t!==this.hidden&&(0,r.r)(this,"card-visibility-changed",{value:i})}}h=(0,s.__decorate)([(0,n.EM)("hui-conditional-card")],h)},43067:function(e,i,t){t.d(i,{E:function(){return h}});t(45269),t(46852),t(35748),t(65315),t(837),t(22416),t(95013);var s=t(69868),n=t(84922),r=t(11991),o=t(29561),a=t(97073);class h extends n.mN{createRenderRoot(){return this}validateConfig(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,a.db)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}disconnectedCallback(){super.disconnectedCallback(),this._clearMediaQueries()}connectedCallback(){super.connectedCallback(),this._listenMediaQueries(),this._updateVisibility()}_clearMediaQueries(){this._listeners.forEach(e=>e()),this._listeners=[]}_listenMediaQueries(){if(!this._config||!this.hass)return;const e=this._config.conditions.filter(e=>"condition"in e),i=(0,a.gW)(e);if((0,o.b)(i,this._mediaQueries))return;this._clearMediaQueries();const t=this._config.conditions,s=1===t.length&&"condition"in t[0]&&"screen"===t[0].condition&&!!t[0].media_query;this._listeners=(0,a.CZ)(e,e=>{s?this.setVisibility(e):this._updateVisibility()})}update(e){super.update(e),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}_updateVisibility(){if(!this._element||!this.hass||!this._config)return;this._element.preview=this.preview;const e=(0,a.XH)(this._config.conditions,this.hass);this.setVisibility(e)}setVisibility(e){if(!this._element||!this.hass)return;const i=this.preview||e;this.hidden!==!i&&(this.toggleAttribute("hidden",!i),this.style.setProperty("display",i?"":"none")),i?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}constructor(...e){super(...e),this.preview=!1,this._listeners=[],this._mediaQueries=[]}}(0,s.__decorate)([(0,r.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,s.__decorate)([(0,r.MZ)({type:Boolean})],h.prototype,"preview",void 0),(0,s.__decorate)([(0,r.wk)()],h.prototype,"_config",void 0),h=(0,s.__decorate)([(0,r.EM)("hui-conditional-base")],h)}}]);
//# sourceMappingURL=73382.60ee161fc3e43c1d.js.map