/*! For license information please see 44928.1bc034ebc2096066.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["44928"],{79101:function(e,s,t){t.a(e,async function(e,n){try{t.r(s),t.d(s,{EnergySetupWizard:function(){return O}});t(35748),t(5934),t(95013);var i=t(69868),r=t(84922),a=t(11991),h=t(44017),c=t(43716),o=t(15241),l=t(50809),p=t(1736),u=t(47005),_=t(87448),f=t(77639),d=t(99460),g=t(96094),y=t(17372),v=e([p,u,_,f,d,g,y,c]);[p,u,_,f,d,g,y,c]=v.then?(await v)():v;let $,x,b,w,k,C,q,m,D,z,A,F,M=e=>e;class O extends r.WF{getCardSize(){return 10}setConfig(e){e.preferences&&(this._preferences=e.preferences)}firstUpdated(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}render(){return(0,r.qy)($||($=M` <p> ${0} </p> ${0} <div class="buttons"> ${0} ${0} </div> `),this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6}),0===this._step?(0,r.qy)(x||(x=M`<ha-energy-grid-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-grid-settings>`),this.hass,this._preferences,this._prefsChanged):1===this._step?(0,r.qy)(b||(b=M`<ha-energy-solar-settings .hass="${0}" .preferences="${0}" .info="${0}" @value-changed="${0}"></ha-energy-solar-settings>`),this.hass,this._preferences,this._info,this._prefsChanged):2===this._step?(0,r.qy)(w||(w=M`<ha-energy-battery-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-battery-settings>`),this.hass,this._preferences,this._prefsChanged):3===this._step?(0,r.qy)(k||(k=M`<ha-energy-gas-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-gas-settings>`),this.hass,this._preferences,this._prefsChanged):4===this._step?(0,r.qy)(C||(C=M`<ha-energy-water-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-water-settings>`),this.hass,this._preferences,this._prefsChanged):(0,r.qy)(q||(q=M`<ha-energy-device-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-device-settings>`),this.hass,this._preferences,this._prefsChanged),this._step>0?(0,r.qy)(m||(m=M`<ha-button appearance="plain" @click="${0}">${0}</ha-button>`),this._back,this.hass.localize("ui.panel.energy.setup.back")):(0,r.qy)(D||(D=M`<div></div>`)),this._step<4?(0,r.qy)(z||(z=M`<ha-button @click="${0}">${0}</ha-button>`),this._next,this.hass.localize("ui.panel.energy.setup.next")):(0,r.qy)(A||(A=M`<ha-button @click="${0}"> ${0} </ha-button>`),this._setupDone,this.hass.localize("ui.panel.energy.setup.done")))}async _fetchconfig(){this._info=await(0,c.BV)(this.hass)}_prefsChanged(e){this._preferences=e.detail.value}_back(){0!==this._step&&this._step--}_next(){5!==this._step&&this._step++}async _setupDone(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,c.WN)(this.hass,this._preferences)}catch(e){(0,o.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,h.r)(this,"reload-energy-panel")}else(0,o.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}static get styles(){return[l.RF,(0,r.AH)(F||(F=M`:host{display:block;padding:16px;max-width:700px;margin:0 auto}ha-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`))]}constructor(...e){super(...e),this._step=0,this._preferences={energy_sources:[],device_consumption:[]}}}(0,i.__decorate)([(0,a.MZ)({attribute:!1})],O.prototype,"hass",void 0),(0,i.__decorate)([(0,a.MZ)({attribute:!1})],O.prototype,"lovelace",void 0),(0,i.__decorate)([(0,a.wk)()],O.prototype,"_info",void 0),(0,i.__decorate)([(0,a.wk)()],O.prototype,"_step",void 0),(0,i.__decorate)([(0,a.wk)()],O.prototype,"_preferences",void 0),O=(0,i.__decorate)([(0,a.EM)("energy-setup-wizard-card")],O),n()}catch($){n($)}})},33055:function(e,s,t){t.d(s,{u:function(){return h}});t(46852),t(35748),t(95013);var n=t(11681),i=t(64363),r=t(67851);const a=(e,s,t)=>{const n=new Map;for(let i=s;i<=t;i++)n.set(e[i],i);return n},h=(0,i.u$)(class extends i.WL{dt(e,s,t){let n;void 0===t?t=s:void 0!==s&&(n=s);const i=[],r=[];let a=0;for(const h of e)i[a]=n?n(h,a):a,r[a]=t(h,a),a++;return{values:r,keys:i}}render(e,s,t){return this.dt(e,s,t).values}update(e,[s,t,i]){var h;const c=(0,r.cN)(e),{values:o,keys:l}=this.dt(s,t,i);if(!Array.isArray(c))return this.ut=l,o;const p=null!==(h=this.ut)&&void 0!==h?h:this.ut=[],u=[];let _,f,d=0,g=c.length-1,y=0,v=o.length-1;for(;d<=g&&y<=v;)if(null===c[d])d++;else if(null===c[g])g--;else if(p[d]===l[y])u[y]=(0,r.lx)(c[d],o[y]),d++,y++;else if(p[g]===l[v])u[v]=(0,r.lx)(c[g],o[v]),g--,v--;else if(p[d]===l[v])u[v]=(0,r.lx)(c[d],o[v]),(0,r.Dx)(e,u[v+1],c[d]),d++,v--;else if(p[g]===l[y])u[y]=(0,r.lx)(c[g],o[y]),(0,r.Dx)(e,c[d],c[g]),g--,y++;else if(void 0===_&&(_=a(l,y,v),f=a(p,d,g)),_.has(p[d]))if(_.has(p[g])){const s=f.get(l[y]),t=void 0!==s?c[s]:null;if(null===t){const s=(0,r.Dx)(e,c[d]);(0,r.lx)(s,o[y]),u[y]=s}else u[y]=(0,r.lx)(t,o[y]),(0,r.Dx)(e,c[d],t),c[s]=null;y++}else(0,r.KO)(c[g]),g--;else(0,r.KO)(c[d]),d++;for(;y<=v;){const s=(0,r.Dx)(e,u[v+1]);(0,r.lx)(s,o[y]),u[y++]=s}for(;d<=g;){const e=c[d++];null!==e&&(0,r.KO)(e)}return this.ut=l,(0,r.mY)(e,u),n.c0}constructor(e){if(super(e),e.type!==i.OA.CHILD)throw Error("repeat() can only be used in text expressions")}})}}]);
//# sourceMappingURL=44928.1bc034ebc2096066.js.map