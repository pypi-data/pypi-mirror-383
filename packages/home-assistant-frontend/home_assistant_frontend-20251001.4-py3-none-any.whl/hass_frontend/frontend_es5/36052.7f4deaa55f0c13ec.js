"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["36052"],{37382:function(t,e,n){n.d(e,{D:function(){return a}});var i=n(10416),r=n.n(i);const a=t=>r()(t,{whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:!0})},63002:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{$3:function(){return p},$O:function(){return x},$j:function(){return b},ED:function(){return s},JE:function(){return T},OQ:function(){return $},PU:function(){return I},Ph:function(){return _},Uf:function(){return w},W1:function(){return v},Wr:function(){return f},Z:function(){return l},gF:function(){return y},iY:function(){return h},jU:function(){return u},nN:function(){return j},p3:function(){return d},pJ:function(){return g},r_:function(){return c},sz:function(){return m}});n(79827),n(35748),n(65315),n(59023),n(12977),n(18223),n(95013);var r=n(72652),a=n(50654),o=t([a]);a=(o.then?(await o)():o)[0];var s=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const u=59509==n.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,c=["L","gal","ft³","m³","CCF","MCF"],l=t=>t.sendMessagePromise({type:"recorder/info"}),d=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),f=(t,e)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e}),m=(t,e,n,i,r="hour",a,o)=>t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==n?void 0:n.toISOString(),statistic_ids:i,period:r,units:a,types:o}),g=(t,e,n,i)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:n.fixed_period?{start_time:n.fixed_period.start instanceof Date?n.fixed_period.start.toISOString():n.fixed_period.start,end_time:n.fixed_period.end instanceof Date?n.fixed_period.end.toISOString():n.fixed_period.end}:void 0,calendar:n.calendar?Object.assign(Object.assign({},"week"===n.calendar.period?{first_weekday:(0,a.DD)(t.locale).substring(0,3)}:{}),n.calendar):void 0,rolling_window:n.rolling_window}),_=t=>t.callWS({type:"recorder/validate_statistics"}),v=(t,e,n)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:n}),p=(t,e)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:e}),b=t=>{let e=null;if(!t)return null;for(const n of t)null!==n.change&&void 0!==n.change&&(null===e?e=n.change:e+=n.change);return e},y=(t,e)=>{let n=null;for(const i of e){if(!(i in t))continue;const e=b(t[i]);null!==e&&(null===n?n=e:n+=e)}return n},h=(t,e)=>t.some(t=>void 0!==t[e]&&null!==t[e]),S=["mean","min","max"],O=["sum","state","change"],j=(t,e)=>!(!S.includes(e)||0===t.mean_type)||!(!O.includes(e)||!t.has_sum),w=(t,e,n,i,r)=>{const a=new Date(n).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:a,adjustment:i,adjustment_unit_of_measurement:r})},x=(t,e,n)=>{const i=t.states[e];return i?(0,r.u)(i):(null==n?void 0:n.name)||e},T=(t,e,n)=>{let i;var r;e&&(i=null===(r=t.states[e])||void 0===r?void 0:r.attributes.unit_of_measurement);return void 0===i?null==n?void 0:n.statistics_unit_of_measurement:i},$=t=>t.includes(":"),I=t=>t.callWS({type:"recorder/update_statistics_issues"});i()}catch(u){i(u)}})},36886:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{Gs:function(){return O},RR:function(){return T},TI:function(){return j},od:function(){return w},ok:function(){return $}});n(91949),n(35748),n(99342),n(35058),n(41846),n(65315),n(837),n(22416),n(37089),n(12977),n(88238),n(34536),n(16257),n(20152),n(44711),n(72108),n(77030),n(56660),n(95013);var r=n(4494),a=n(41484),o=n(4681),s=n(77415),u=n(40391),c=n(23336),l=n(99904),d=n(83466),f=n(9151),m=n(70162),g=n(91927),_=n(49418),v=n(8868),p=n(46089),b=n(65380),y=n(37382),h=t([p,b,v]);function O(t,e){let n=new Date(e);return t>2&&0===n.getHours()&&(n=(0,r.O)(n,1)),n.setMinutes(0,0,0),t>35&&n.setDate(1),t>2&&n.setHours(0),n.getTime()}function j(t){return t>35?"month":t>2?"day":"hour"}function w(t,e,n,i,r,o,s,u){const c=(0,a.c)(e,t),l=void 0!==o&&void 0!==s;return{xAxis:{type:"time",min:t,max:O(c,e)},yAxis:{type:"value",name:r,nameGap:2,nameTextStyle:{align:"left"},axisLabel:{formatter:t=>(0,v.ZV)(Math.abs(t),n)},splitLine:{show:!0}},grid:{top:15,bottom:0,left:1,right:1,containLabel:!0},tooltip:{trigger:"axis",formatter:t=>{if(Array.isArray(t)){const e=[],a=[];return t.forEach(t=>{var n;null!==(n=t.seriesId)&&void 0!==n&&n.startsWith("compare-")?a.push(t):e.push(t)}),[e,a].map(t=>x(t,n,i,c,l,r,u)).filter(Boolean).join("<br><br>")}return x([t],n,i,c,l,r,u)}}}}function x(t,e,n,i,r,a,s){var u,c,l,d;if(null===(u=t[0])||void 0===u||!u.value)return"";const f=new Date(null!==(c=null===(l=t[0].value)||void 0===l?void 0:l[2])&&void 0!==c?c:null===(d=t[0].value)||void 0===d?void 0:d[0]);let m;m=i>89?`${(0,p.fr)(f,e,n)}`:i>0?`${(0,p.sl)(f,e,n)}`:`${r?`${(0,p.sl)(f,e,n)}: `:""}${(0,b.fU)(f,e,n)} – ${(0,b.fU)((0,o.L)(f,1),e,n)}`;const g=`<h4 style="text-align: center; margin: 0;">${m}</h4>`;let _=0,h=0,S=0,O=0;const j=t.map(t=>{var n;const i=null===(n=t.value)||void 0===n?void 0:n[1],r=(0,v.ZV)(i,e,i<.1?{maximumFractionDigits:3}:void 0);return"0"!==r&&("bar"===t.componentSubType&&(i>0?(_+=i,h++):(S+=i,O++)),`${t.marker} ${(0,y.D)(t.seriesName)}: ${r} ${a}`)}).filter(Boolean);let w="";return 0!==_&&h>1&&s&&(w+=`<br><b>${s(_)}</b>`),0!==S&&O>1&&s&&(w+=`<br><b>${s(S)}</b>`),j.length>0?`${g}${j.join("<br>")}${w}`:""}function T(t){Array.from(new Set(t.map(t=>t.data.map(t=>Number(t[0]))).flat())).sort((t,e)=>t-e).forEach((e,n)=>{const i={},r={};for(let d=t.length-1;d>=0;d--){var a,o,s,u,c;const f=t[d].data[n],m=f&&"object"==typeof f&&"value"in f?f:{value:f},g=null===(a=m.value)||void 0===a?void 0:a[0],_=null!==(o=t[d].stack)&&void 0!==o?o:"";var l;if(void 0!==g)if(Number(g)!==e)null===(l=t[d].data)||void 0===l||l.splice(n,0,{value:[e,0],itemStyle:{borderWidth:0}});else 0===(null===(s=m.value)||void 0===s?void 0:s[1])?t[d].data[n]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderWidth:0})}):!i[_]&&(null===(u=m.value)||void 0===u?void 0:u[1])>0?(t[d].data[n]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderRadius:[4,4,0,0]})}),i[_]=!0):!r[_]&&(null===(c=m.value)||void 0===c?void 0:c[1])<0&&(t[d].data[n]=Object.assign(Object.assign({},m),{},{itemStyle:Object.assign(Object.assign({},m.itemStyle),{},{borderRadius:[0,0,4,4]})}),r[_]=!0)}})}function $(t,e){if(!e)return t=>t;const n=(0,s.V)(t,e);if(0!==n&&t.getTime()===(0,u.D)(t).getTime())return t=>(0,c.e)(t,n);const i=(0,l.W)(t,e);if(0!==i&&t.getTime()===(0,d.w)(t).getTime())return t=>(0,f.P)(t,i);const r=(0,a.c)(t,e);if(0!==r&&t.getTime()===(0,m.o)(t).getTime())return t=>(0,g.f)(t,r);const o=t.getTime()-e.getTime();return t=>(0,_.A)(t,o)}[p,b,v]=h.then?(await h)():h,i()}catch(S){i(S)}})},74879:function(t,e,n){var i=n(87642),r=n(36196),a=n(48630),o=n(85456),s=TypeError,u=Object.defineProperty,c=r.self!==r;try{if(o){var l=Object.getOwnPropertyDescriptor(r,"self");!c&&l&&l.get&&l.enumerable||a(r,"self",{get:function(){return r},set:function(t){if(this!==r)throw new s("Illegal invocation");u(r,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else i({global:!0,simple:!0,forced:c},{self:r})}catch(d){}},23336:function(t,e,n){n.d(e,{e:function(){return r}});var i=n(9151);function r(t,e,n){return(0,i.P)(t,12*e,n)}},77415:function(t,e,n){n.d(e,{V:function(){return o}});n(35748),n(95013);var i=n(90298),r=n(38227);function a(t,e,n){const[r,a]=(0,i.x)(null==n?void 0:n.in,t,e);return r.getFullYear()-a.getFullYear()}function o(t,e,n){const[o,s]=(0,i.x)(null==n?void 0:n.in,t,e),u=(0,r.z)(o,s),c=Math.abs(a(o,s));o.setFullYear(1584),s.setFullYear(1584);const l=u*(c-+((0,r.z)(o,s)===-u));return 0===l?0:l}}}]);
//# sourceMappingURL=36052.7f4deaa55f0c13ec.js.map