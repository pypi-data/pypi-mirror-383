/*! For license information please see 66513.6a321267f8498317.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["66513"],{82891:function(t,e,r){function n(t,e){if(t.closest)return t.closest(e);for(var r=t;r;){if(i(r,e))return r;r=r.parentElement}return null}function i(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}r.d(e,{cK:function(){return i},kp:function(){return n}})},6147:function(t){var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},35168:function(t,e,r){var n=r(71078),i=String,o=TypeError;t.exports=function(t){if(void 0===t||n(t))return t;throw new o(i(t)+" is not an object or undefined")}},70678:function(t,e,r){var n=r(34647),i=TypeError;t.exports=function(t){if("Uint8Array"===n(t))return t;throw new i("Argument is not an Uint8Array")}},36838:function(t,e,r){var n=r(30354);t.exports=function(t,e,r){for(var i=0,o=arguments.length>2?r:n(e),a=new t(o);o>i;)a[i]=e[i++];return a}},51017:function(t,e,r){var n=r(16732),i=r(42244),o=r(48579),a=r(77977),s=r(67309),l=r(30354),c=r(83124),u=r(36838),d=Array,f=i([].push);t.exports=function(t,e,r,i){for(var p,m,h,g=a(t),y=o(g),v=n(e,r),b=c(null),x=l(y),w=0;x>w;w++)h=y[w],(m=s(v(h,w,g)))in b?f(b[m],h):b[m]=[h];if(i&&(p=i(g))!==d)for(m in b)b[m]=u(p,b[m]);return b}},90360:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",i=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},20660:function(t){var e=TypeError;t.exports=function(t){var r=t&&t.alphabet;if(void 0===r||"base64"===r||"base64url"===r)return r||"base64";throw new e("Incorrect `alphabet` option")}},7700:function(t,e,r){var n=r(36196),i=r(18339),o=r(42244),a=r(27235),s=r(206).trim,l=r(46256),c=o("".charAt),u=n.parseFloat,d=n.Symbol,f=d&&d.iterator,p=1/u(l+"-0")!=-1/0||f&&!i(function(){u(Object(f))});t.exports=p?function(t){var e=s(a(t)),r=u(e);return 0===r&&"-"===c(e,0)?-0:r}:u},37795:function(t,e,r){var n=r(36196),i=r(42244),o=r(35168),a=r(6147),s=r(74013),l=r(90360),c=r(20660),u=r(99933),d=l.c2i,f=l.c2iUrl,p=n.SyntaxError,m=n.TypeError,h=i("".charAt),g=function(t,e){for(var r=t.length;e<r;e++){var n=h(t,e);if(" "!==n&&"\t"!==n&&"\n"!==n&&"\f"!==n&&"\r"!==n)break}return e},y=function(t,e,r){var n=t.length;n<4&&(t+=2===n?"AA":"A");var i=(e[h(t,0)]<<18)+(e[h(t,1)]<<12)+(e[h(t,2)]<<6)+e[h(t,3)],o=[i>>16&255,i>>8&255,255&i];if(2===n){if(r&&0!==o[1])throw new p("Extra bits");return[o[0]]}if(3===n){if(r&&0!==o[2])throw new p("Extra bits");return[o[0],o[1]]}return o},v=function(t,e,r){for(var n=e.length,i=0;i<n;i++)t[r+i]=e[i];return r+n};t.exports=function(t,e,r,n){a(t),o(e);var i="base64"===c(e)?d:f,l=e?e.lastChunkHandling:void 0;if(void 0===l&&(l="loose"),"loose"!==l&&"strict"!==l&&"stop-before-partial"!==l)throw new m("Incorrect `lastChunkHandling` option");r&&u(r.buffer);var b=t.length,x=r||[],w=0,E=0,k="",A=0;if(n)for(;;){if((A=g(t,A))===b){if(k.length>0){if("stop-before-partial"===l)break;if("loose"!==l)throw new p("Missing padding");if(1===k.length)throw new p("Malformed padding: exactly one additional character");w=v(x,y(k,i,!1),w)}E=b;break}var S=h(t,A);if(++A,"="===S){if(k.length<2)throw new p("Padding is too early");if(A=g(t,A),2===k.length){if(A===b){if("stop-before-partial"===l)break;throw new p("Malformed padding: only one =")}"="===h(t,A)&&(++A,A=g(t,A))}if(A<b)throw new p("Unexpected character after padding");w=v(x,y(k,i,"strict"===l),w),E=b;break}if(!s(i,S))throw new p("Unexpected character");var R=n-w;if(1===R&&2===k.length||2===R&&3===k.length)break;if(4===(k+=S).length&&(w=v(x,y(k,i,!1),w),k="",E=A,w===n))break}return{bytes:x,read:E,written:w}}},29507:function(t,e,r){var n=r(36196),i=r(42244),o=n.Uint8Array,a=n.SyntaxError,s=n.parseInt,l=Math.min,c=/[^\da-f]/i,u=i(c.exec),d=i("".slice);t.exports=function(t,e){var r=t.length;if(r%2!=0)throw new a("String should be an even number of characters");for(var n=e?l(e.length,r/2):r/2,i=e||new o(n),f=0,p=0;p<n;){var m=d(t,f,f+=2);if(u(c,m))throw new a("String should only contain hex characters");i[p++]=s(m,16)}return{bytes:i,read:f}}},91455:function(t,e,r){var n=r(87642),i=r(7700);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},14077:function(t,e,r){r(37739)("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}})},84340:function(t,e,r){var n=r(87642),i=r(36196),o=r(37795),a=r(70678),s=i.Uint8Array,l=!s||!s.prototype.setFromBase64||!function(){var t=new s([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(e){}try{return void t.setFromBase64("a")}catch(e){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();s&&n({target:"Uint8Array",proto:!0,forced:l},{setFromBase64:function(t){a(this);var e=o(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}})},23334:function(t,e,r){var n=r(87642),i=r(36196),o=r(6147),a=r(70678),s=r(99933),l=r(29507);i.Uint8Array&&n({target:"Uint8Array",proto:!0},{setFromHex:function(t){a(this),o(t),s(this.buffer);var e=l(t,this).read;return{read:e,written:e/2}}})},46890:function(t,e,r){var n=r(87642),i=r(36196),o=r(42244),a=r(35168),s=r(70678),l=r(99933),c=r(90360),u=r(20660),d=c.i2c,f=c.i2cUrl,p=o("".charAt),m=i.Uint8Array,h=!m||!m.prototype.toBase64||!function(){try{(new m).toBase64(null)}catch(t){return!0}}();m&&n({target:"Uint8Array",proto:!0,forced:h},{toBase64:function(){var t=s(this),e=arguments.length?a(arguments[0]):void 0,r="base64"===u(e)?d:f,n=!!e&&!!e.omitPadding;l(this.buffer);for(var i,o="",c=0,m=t.length,h=function(t){return p(r,i>>6*t&63)};c+2<m;c+=3)i=(t[c]<<16)+(t[c+1]<<8)+t[c+2],o+=h(3)+h(2)+h(1)+h(0);return c+2===m?(i=(t[c]<<16)+(t[c+1]<<8),o+=h(3)+h(2)+h(1)+(n?"":"=")):c+1===m&&(i=t[c]<<16,o+=h(3)+h(2)+(n?"":"==")),o}})},96396:function(t,e,r){var n=r(87642),i=r(36196),o=r(42244),a=r(70678),s=r(99933),l=o(1.1.toString),c=i.Uint8Array,u=!c||!c.prototype.toHex||!function(){try{return"ffffffffffffffff"===new c([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();c&&n({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){a(this),s(this.buffer);for(var t="",e=0,r=this.length;e<r;e++){var n=l(this[e],16);t+=1===n.length?"0"+n:n}return t}})},75846:function(t,e,r){var n=r(87642),i=r(51017),o=r(93017);n({target:"Array",proto:!0},{group:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("group")},88561:function(t,e,r){r(84340)},63121:function(t,e,r){r(23334)},83907:function(t,e,r){r(46890)},46083:function(t,e,r){r(96396)},3275:function(t,e,r){var n=r(69868),i=r(11991),o=(r(35748),r(67579),r(1485),r(95013),r(84922));let a,s=t=>t;class l extends o.WF{render(){return(0,o.qy)(a||(a=s` <slot name="container"></slot> <slot class="non-text" name="start"></slot> <div class="text"> <slot name="overline" @slotchange="${0}"></slot> <slot class="default-slot" @slotchange="${0}"></slot> <slot name="headline" @slotchange="${0}"></slot> <slot name="supporting-text" @slotchange="${0}"></slot> </div> <slot class="non-text" name="trailing-supporting-text"></slot> <slot class="non-text" name="end"></slot> `),this.handleTextSlotChange,this.handleTextSlotChange,this.handleTextSlotChange,this.handleTextSlotChange)}handleTextSlotChange(){let t=!1,e=0;for(const r of this.textSlots)if(c(r)&&(e+=1),e>1){t=!0;break}this.multiline=t}constructor(){super(...arguments),this.multiline=!1}}function c(t){for(const r of t.assignedNodes({flatten:!0})){var e;const t=r.nodeType===Node.ELEMENT_NODE,n=r.nodeType===Node.TEXT_NODE&&(null===(e=r.textContent)||void 0===e?void 0:e.match(/\S/));if(t||n)return!0}return!1}(0,n.__decorate)([(0,i.MZ)({type:Boolean,reflect:!0})],l.prototype,"multiline",void 0),(0,n.__decorate)([(0,i.YG)(".text slot")],l.prototype,"textSlots",void 0);let u;const d=(0,o.AH)(u||(u=(t=>t)`:host{color:var(--md-sys-color-on-surface,#1d1b20);font-family:var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-large-size, 1rem);font-weight:var(--md-sys-typescale-body-large-weight,var(--md-ref-typeface-weight-regular,400));line-height:var(--md-sys-typescale-body-large-line-height, 1.5rem);align-items:center;box-sizing:border-box;display:flex;gap:16px;min-height:56px;overflow:hidden;padding:12px 16px;position:relative;text-overflow:ellipsis}:host([multiline]){min-height:72px}[name=overline]{color:var(--md-sys-color-on-surface-variant,#49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, .6875rem);font-weight:var(--md-sys-typescale-label-small-weight,var(--md-ref-typeface-weight-medium,500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=supporting-text]{color:var(--md-sys-color-on-surface-variant,#49454f);font-family:var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-medium-size, .875rem);font-weight:var(--md-sys-typescale-body-medium-weight,var(--md-ref-typeface-weight-regular,400));line-height:var(--md-sys-typescale-body-medium-line-height, 1.25rem)}[name=trailing-supporting-text]{color:var(--md-sys-color-on-surface-variant,#49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, .6875rem);font-weight:var(--md-sys-typescale-label-small-weight,var(--md-ref-typeface-weight-medium,500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=container]::slotted(*){inset:0;position:absolute}.default-slot{display:inline}.default-slot,.text ::slotted(*){overflow:hidden;text-overflow:ellipsis}.text{display:flex;flex:1;flex-direction:column;overflow:hidden}`));let f=class extends l{};f.styles=[d],f=(0,n.__decorate)([(0,i.EM)("md-item")],f)},75815:function(t,e,r){r.d(e,{A6:function(){return a},Ex:function(){return l},RN:function(){return d},RZ:function(){return i},c7:function(){return s},cG:function(){return f},u9:function(){return u},ub:function(){return o},wm:function(){return c},zT:function(){return n}});r(35748),r(95013);function n(t,e=p){const r=s(t,e);return r&&(r.tabIndex=0,r.focus()),r}function i(t,e=p){const r=l(t,e);return r&&(r.tabIndex=0,r.focus()),r}function o(t,e=p){const r=a(t,e);return r&&(r.item.tabIndex=-1),r}function a(t,e=p){for(let r=0;r<t.length;r++){const n=t[r];if(0===n.tabIndex&&e(n))return{item:n,index:r}}return null}function s(t,e=p){for(const r of t)if(e(r))return r;return null}function l(t,e=p){for(let r=t.length-1;r>=0;r--){const n=t[r];if(e(n))return n}return null}function c(t,e,r=p,i=!0){if(e){const n=function(t,e,r=p,n=!0){for(let i=1;i<t.length;i++){const o=(i+e)%t.length;if(o<e&&!n)return null;const a=t[o];if(r(a))return a}return t[e]?t[e]:null}(t,e.index,r,i);return n&&(n.tabIndex=0,n.focus()),n}return n(t,r)}function u(t,e,r=p,n=!0){if(e){const i=function(t,e,r=p,n=!0){for(let i=1;i<t.length;i++){const o=(e-i+t.length)%t.length;if(o>e&&!n)return null;const a=t[o];if(r(a))return a}return t[e]?t[e]:null}(t,e.index,r,n);return i&&(i.tabIndex=0,i.focus()),i}return i(t,r)}function d(){return new Event("deactivate-items",{bubbles:!0,composed:!0})}function f(){return new Event("request-activation",{bubbles:!0,composed:!0})}function p(t){return!t.disabled}},23719:function(t,e,r){r.d(e,{R:function(){return i}});let n;const i=(0,r(84922).AH)(n||(n=(t=>t)`:host{display:flex;-webkit-tap-highlight-color:transparent;--md-ripple-hover-color:var(--md-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity:var(--md-list-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color:var(--md-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity:var(--md-list-item-pressed-state-layer-opacity, 0.12)}:host(:is([type=button]:not([disabled]),[type=link])){cursor:pointer}md-focus-ring{z-index:1;--md-focus-ring-shape:8px}a,button,li{background:0 0;border:none;cursor:inherit;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:0;-webkit-tap-highlight-color:transparent;width:100%}.list-item.interactive{cursor:pointer}.list-item.disabled{opacity:var(--md-list-item-disabled-opacity, .3);pointer-events:none}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;height:100%;color:var(--md-list-item-label-text-color,var(--md-sys-color-on-surface,#1d1b20));font-family:var(--md-list-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-list-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-list-item-label-text-weight,var(--md-sys-typescale-body-large-weight,var(--md-ref-typeface-weight-regular,400)));min-height:var(--md-list-item-one-line-container-height,56px);padding-top:var(--md-list-item-top-space,12px);padding-bottom:var(--md-list-item-bottom-space,12px);padding-inline-start:var(--md-list-item-leading-space,16px);padding-inline-end:var(--md-list-item-trailing-space,16px)}md-item[multiline]{min-height:var(--md-list-item-two-line-container-height,72px)}[slot=supporting-text]{color:var(--md-list-item-supporting-text-color,var(--md-sys-color-on-surface-variant,#49454f));font-family:var(--md-list-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, .875rem));line-height:var(--md-list-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-list-item-supporting-text-weight,var(--md-sys-typescale-body-medium-weight,var(--md-ref-typeface-weight-regular,400)))}[slot=trailing-supporting-text]{color:var(--md-list-item-trailing-supporting-text-color,var(--md-sys-color-on-surface-variant,#49454f));font-family:var(--md-list-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, .6875rem));line-height:var(--md-list-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-list-item-trailing-supporting-text-weight,var(--md-sys-typescale-label-small-weight,var(--md-ref-typeface-weight-medium,500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-list-item-leading-icon-color,var(--md-sys-color-on-surface-variant,#49454f))}[slot=end]{color:var(--md-list-item-trailing-icon-color,var(--md-sys-color-on-surface-variant,#49454f))}@media(forced-colors:active){.disabled slot{color:GrayText}.list-item.disabled{color:GrayText;opacity:1}}`))},64980:function(t,e,r){r.d(e,{n:function(){return x}});r(35748),r(12977),r(95013);var n=r(69868),i=(r(36265),r(3275),r(61640),r(84922)),o=r(11991),a=r(75907),s=r(37523),l=r(78892),c=r(75815);let u,d,f,p,m,h,g,y,v=t=>t;const b=(0,l.n)(i.WF);class x extends b{get isDisabled(){return this.disabled&&"link"!==this.type}willUpdate(t){this.href&&(this.type="link"),super.willUpdate(t)}render(){return this.renderListItem((0,i.qy)(u||(u=v` <md-item> <div slot="container"> ${0} ${0} </div> <slot name="start" slot="start"></slot> <slot name="end" slot="end"></slot> ${0} </md-item> `),this.renderRipple(),this.renderFocusRing(),this.renderBody()))}renderListItem(t){const e="link"===this.type;let r;switch(this.type){case"link":r=(0,s.eu)(d||(d=v`a`));break;case"button":r=(0,s.eu)(f||(f=v`button`));break;default:r=(0,s.eu)(p||(p=v`li`))}const n="text"!==this.type,o=e&&this.target?this.target:i.s6;return(0,s.qy)(m||(m=v`
      <${0}
        id="item"
        tabindex="${0}"
        ?disabled=${0}
        role="listitem"
        aria-selected=${0}
        aria-checked=${0}
        aria-expanded=${0}
        aria-haspopup=${0}
        class="list-item ${0}"
        href=${0}
        target=${0}
        @focus=${0}
      >${0}</${0}>
    `),r,this.isDisabled||!n?-1:0,this.isDisabled,this.ariaSelected||i.s6,this.ariaChecked||i.s6,this.ariaExpanded||i.s6,this.ariaHasPopup||i.s6,(0,a.H)(this.getRenderClasses()),this.href||i.s6,o,this.onFocus,t,r)}renderRipple(){return"text"===this.type?i.s6:(0,i.qy)(h||(h=v` <md-ripple part="ripple" for="item" ?disabled="${0}"></md-ripple>`),this.isDisabled)}renderFocusRing(){return"text"===this.type?i.s6:(0,i.qy)(g||(g=v` <md-focus-ring @visibility-changed="${0}" part="focus-ring" for="item" inward></md-focus-ring>`),this.onFocusRingVisibilityChanged)}onFocusRingVisibilityChanged(t){}getRenderClasses(){return{disabled:this.isDisabled}}renderBody(){return(0,i.qy)(y||(y=v` <slot></slot> <slot name="overline" slot="overline"></slot> <slot name="headline" slot="headline"></slot> <slot name="supporting-text" slot="supporting-text"></slot> <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot> `))}onFocus(){-1===this.tabIndex&&this.dispatchEvent((0,c.cG)())}focus(){var t;null===(t=this.listItemRoot)||void 0===t||t.focus()}click(){this.listItemRoot?this.listItemRoot.click():super.click()}constructor(){super(...arguments),this.disabled=!1,this.type="text",this.isListItem=!0,this.href="",this.target=""}}x.shadowRootOptions=Object.assign(Object.assign({},i.WF.shadowRootOptions),{},{delegatesFocus:!0}),(0,n.__decorate)([(0,o.MZ)({type:Boolean,reflect:!0})],x.prototype,"disabled",void 0),(0,n.__decorate)([(0,o.MZ)({reflect:!0})],x.prototype,"type",void 0),(0,n.__decorate)([(0,o.MZ)({type:Boolean,attribute:"md-list-item",reflect:!0})],x.prototype,"isListItem",void 0),(0,n.__decorate)([(0,o.MZ)()],x.prototype,"href",void 0),(0,n.__decorate)([(0,o.MZ)()],x.prototype,"target",void 0),(0,n.__decorate)([(0,o.P)(".list-item")],x.prototype,"listItemRoot",void 0)},57971:function(t,e,r){r.d(e,{LV:function(){return f}});r(32203),r(46852),r(35748),r(9724),r(70839),r(65315),r(37089),r(48169),r(12977),r(5934),r(42124),r(86581),r(67579),r(41190),r(47849),r(66168),r(95013);const n=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),l=t=>"object"==typeof t&&null!==t||"function"==typeof t,c=new Map([["proxy",{canHandle:t=>l(t)&&t[n],serialize(t){const{port1:e,port2:r}=new MessageChannel;return u(t,e),[r,[r]]},deserialize(t){return t.start(),f(t)}}],["throw",{canHandle:t=>l(t)&&s in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function u(t,e=globalThis,r=["*"]){e.addEventListener("message",function i(o){if(!o||!o.data)return;if(!function(t,e){for(const r of t){if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}(r,o.origin))return void console.warn(`Invalid origin '${o.origin}' for comlink proxy`);const{id:l,type:c,path:f}=Object.assign({path:[]},o.data),p=(o.data.argumentList||[]).map(w);let m;try{const e=f.slice(0,-1).reduce((t,e)=>t[e],t),r=f.reduce((t,e)=>t[e],t);switch(c){case"GET":m=r;break;case"SET":e[f.slice(-1)[0]]=w(o.data.value),m=!0;break;case"APPLY":m=r.apply(e,p);break;case"CONSTRUCT":m=function(t){return Object.assign(t,{[n]:!0})}(new r(...p));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;u(t,r),m=function(t,e){return b.set(t,e),t}(e,[e])}break;case"RELEASE":m=void 0;break;default:return}}catch(h){m={value:h,[s]:0}}Promise.resolve(m).catch(t=>({value:t,[s]:0})).then(r=>{const[n,o]=x(r);e.postMessage(Object.assign(Object.assign({},n),{id:l}),o),"RELEASE"===c&&(e.removeEventListener("message",i),d(e),a in t&&"function"==typeof t[a]&&t[a]())}).catch(t=>{const[r,n]=x({value:new TypeError("Unserializable return value"),[s]:0});e.postMessage(Object.assign(Object.assign({},r),{id:l}),n)})}),e.start&&e.start()}function d(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function f(t,e){const r=new Map;return t.addEventListener("message",function(t){const{data:e}=t;if(!e||!e.id)return;const n=r.get(e.id);if(n)try{n(e)}finally{r.delete(e.id)}}),y(t,r,[],e)}function p(t){if(t)throw new Error("Proxy has been released and is not useable")}function m(t){return E(t,new Map,{type:"RELEASE"}).then(()=>{d(t)})}const h=new WeakMap,g="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(h.get(t)||0)-1;h.set(t,e),0===e&&m(t)});function y(t,e,r=[],n=function(){}){let a=!1;const s=new Proxy(n,{get(n,i){if(p(a),i===o)return()=>{!function(t){g&&g.unregister(t)}(s),m(t),e.clear(),a=!0};if("then"===i){if(0===r.length)return{then:()=>s};const n=E(t,e,{type:"GET",path:r.map(t=>t.toString())}).then(w);return n.then.bind(n)}return y(t,e,[...r,i])},set(n,i,o){p(a);const[s,l]=x(o);return E(t,e,{type:"SET",path:[...r,i].map(t=>t.toString()),value:s},l).then(w)},apply(n,o,s){p(a);const l=r[r.length-1];if(l===i)return E(t,e,{type:"ENDPOINT"}).then(w);if("bind"===l)return y(t,e,r.slice(0,-1));const[c,u]=v(s);return E(t,e,{type:"APPLY",path:r.map(t=>t.toString()),argumentList:c},u).then(w)},construct(n,i){p(a);const[o,s]=v(i);return E(t,e,{type:"CONSTRUCT",path:r.map(t=>t.toString()),argumentList:o},s).then(w)}});return function(t,e){const r=(h.get(e)||0)+1;h.set(e,r),g&&g.register(t,e,t)}(s,t),s}function v(t){const e=t.map(x);return[e.map(t=>t[0]),(r=e.map(t=>t[1]),Array.prototype.concat.apply([],r))];var r}const b=new WeakMap;function x(t){for(const[e,r]of c)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},b.get(t)||[]]}function w(t){switch(t.type){case"HANDLER":return c.get(t.name).deserialize(t.value);case"RAW":return t.value}}function E(t,e,r,n){return new Promise(i=>{const o=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.set(o,i),t.start&&t.start(),t.postMessage(Object.assign({id:o},r),n)})}},20714:function(t,e,r){r.d(e,{IU:function(){return c},Jt:function(){return s},Yd:function(){return n},hZ:function(){return l},y$:function(){return i}});r(35748),r(99342),r(65315),r(22416),r(37089),r(5934),r(95013);function n(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function i(t,e){let r;return(i,o)=>(()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=n(i),r.then(t=>{t.onclose=()=>r=void 0},()=>{}),r})().then(t=>o(t.transaction(e,i).objectStore(e)))}let o;function a(){return o||(o=i("keyval-store","keyval")),o}function s(t,e=a()){return e("readonly",e=>n(e.get(t)))}function l(t,e,r=a()){return r("readwrite",r=>(r.put(e,t),n(r.transaction)))}function c(t=a()){return t("readwrite",t=>(t.clear(),n(t.transaction)))}},48893:function(t,e,r){r.d(e,{W:function(){return n.W}});var n=r(9427)}}]);
//# sourceMappingURL=66513.6a321267f8498317.js.map