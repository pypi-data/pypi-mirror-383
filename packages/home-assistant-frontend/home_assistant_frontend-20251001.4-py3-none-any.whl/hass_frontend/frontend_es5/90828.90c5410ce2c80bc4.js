"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["90828"],{70647:function(e,t,a){a(35748),a(95013);var i=a(69868),s=a(84922),o=a(11991);let n,d,l=e=>e;class h extends s.WF{render(){return(0,s.qy)(n||(n=l`<slot></slot>`))}constructor(...e){super(...e),this.disabled=!1}}h.styles=(0,s.AH)(d||(d=l`:host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(
        --mdc-typography-caption-letter-spacing,
        .0333333333em
      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}`)),(0,i.__decorate)([(0,o.MZ)({type:Boolean,reflect:!0})],h.prototype,"disabled",void 0),h=(0,i.__decorate)([(0,o.EM)("ha-input-helper-text")],h)},35988:function(e,t,a){a(35748),a(95013);var i=a(69868),s=a(84922),o=a(11991);a(9058),a(80287);let n,d,l,h=e=>e;class c extends s.WF{render(){var e;return(0,s.qy)(n||(n=h`<ha-textfield .invalid="${0}" .errorMessage="${0}" .icon="${0}" .iconTrailing="${0}" .autocomplete="${0}" .autocorrect="${0}" .inputSpellcheck="${0}" .value="${0}" .placeholder="${0}" .label="${0}" .disabled="${0}" .required="${0}" .minLength="${0}" .maxLength="${0}" .outlined="${0}" .helper="${0}" .validateOnInitialRender="${0}" .validationMessage="${0}" .autoValidate="${0}" .pattern="${0}" .size="${0}" .helperPersistent="${0}" .charCounter="${0}" .endAligned="${0}" .prefix="${0}" .name="${0}" .inputMode="${0}" .readOnly="${0}" .autocapitalize="${0}" .type="${0}" .suffix="${0}" @input="${0}" @change="${0}"></ha-textfield> <ha-icon-button .label="${0}" @click="${0}" .path="${0}"></ha-icon-button>`),this.invalid,this.errorMessage,this.icon,this.iconTrailing,this.autocomplete,this.autocorrect,this.inputSpellcheck,this.value,this.placeholder,this.label,this.disabled,this.required,this.minLength,this.maxLength,this.outlined,this.helper,this.validateOnInitialRender,this.validationMessage,this.autoValidate,this.pattern,this.size,this.helperPersistent,this.charCounter,this.endAligned,this.prefix,this.name,this.inputMode,this.readOnly,this.autocapitalize,this._unmaskedPassword?"text":"password",(0,s.qy)(d||(d=h`<div style="width:24px"></div>`)),this._handleInputEvent,this._handleChangeEvent,(null===(e=this.hass)||void 0===e?void 0:e.localize(this._unmaskedPassword?"ui.components.selectors.text.hide_password":"ui.components.selectors.text.show_password"))||(this._unmaskedPassword?"Hide password":"Show password"),this._toggleUnmaskedPassword,this._unmaskedPassword?"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z":"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z")}focus(){this._textField.focus()}checkValidity(){return this._textField.checkValidity()}reportValidity(){return this._textField.reportValidity()}setCustomValidity(e){return this._textField.setCustomValidity(e)}layout(){return this._textField.layout()}_toggleUnmaskedPassword(){this._unmaskedPassword=!this._unmaskedPassword}_handleInputEvent(e){this.value=e.target.value}_handleChangeEvent(e){this.value=e.target.value,this._reDispatchEvent(e)}_reDispatchEvent(e){const t=new Event(e.type,e);this.dispatchEvent(t)}constructor(...e){super(...e),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0,this.value="",this.placeholder="",this.label="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this._unmaskedPassword=!1}}c.styles=(0,s.AH)(l||(l=h`:host{display:block;position:relative}ha-textfield{width:100%}ha-icon-button{position:absolute;top:8px;right:8px;inset-inline-start:initial;inset-inline-end:8px;--mdc-icon-button-size:40px;--mdc-icon-size:20px;color:var(--secondary-text-color);direction:var(--direction)}`)),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"invalid",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:"error-message"})],c.prototype,"errorMessage",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"icon",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"iconTrailing",void 0),(0,i.__decorate)([(0,o.MZ)()],c.prototype,"autocomplete",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"autocorrect",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:"input-spellcheck"})],c.prototype,"inputSpellcheck",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"value",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"placeholder",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"label",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean,reflect:!0})],c.prototype,"disabled",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"required",void 0),(0,i.__decorate)([(0,o.MZ)({type:Number})],c.prototype,"minLength",void 0),(0,i.__decorate)([(0,o.MZ)({type:Number})],c.prototype,"maxLength",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean,reflect:!0})],c.prototype,"outlined",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"helper",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"validateOnInitialRender",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"validationMessage",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"autoValidate",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"pattern",void 0),(0,i.__decorate)([(0,o.MZ)({type:Number})],c.prototype,"size",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"helperPersistent",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"charCounter",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"endAligned",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"prefix",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"suffix",void 0),(0,i.__decorate)([(0,o.MZ)({type:String})],c.prototype,"name",void 0),(0,i.__decorate)([(0,o.MZ)({type:String,attribute:"input-mode"})],c.prototype,"inputMode",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],c.prototype,"readOnly",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:!1,type:String})],c.prototype,"autocapitalize",void 0),(0,i.__decorate)([(0,o.wk)()],c.prototype,"_unmaskedPassword",void 0),(0,i.__decorate)([(0,o.P)("ha-textfield")],c.prototype,"_textField",void 0),(0,i.__decorate)([(0,o.Ls)({passive:!0})],c.prototype,"_handleInputEvent",null),(0,i.__decorate)([(0,o.Ls)({passive:!0})],c.prototype,"_handleChangeEvent",null),c=(0,i.__decorate)([(0,o.EM)("ha-password-field")],c)},59887:function(e,t,a){var i=a(69868),s=a(84922),o=a(11991);a(86160);let n,d,l=e=>e;class h extends s.WF{render(){return this.hass?(0,s.qy)(n||(n=l` <ha-svg-icon .path="${0}"></ha-svg-icon> <span class="prefix">${0}</span> <span class="text"><slot></slot></span> `),"M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z",this.hass.localize("ui.panel.config.tips.tip")):s.s6}}h.styles=(0,s.AH)(d||(d=l`:host{display:block;text-align:center}.text{direction:var(--direction);margin-left:2px;margin-inline-start:2px;margin-inline-end:initial;color:var(--secondary-text-color)}.prefix{font-weight:var(--ha-font-weight-medium)}`)),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],h.prototype,"hass",void 0),h=(0,i.__decorate)([(0,o.EM)("ha-tip")],h)},63925:function(e,t,a){a.a(e,async function(e,t){try{a(79827),a(35748),a(99342),a(65315),a(837),a(37089),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(18223),a(95013);var i=a(69868),s=a(84922),o=a(37507),n=a(11991),d=a(65940),l=a(44017),h=a(88341),c=a(77240),r=(a(9058),a(97750),a(99260),a(86160),a(45988),a(71598)),p=a(71522),u=e([r]);r=(u.then?(await u)():u)[0];let _,g,m,v,y,b,f,$,k,C,x,A,M,w,L=e=>e;const H="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",V="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",z="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M12,4A6,6 0 0,0 6,10C6,13.31 8.69,16 12.1,16L11.22,13.77C10.95,13.29 11.11,12.68 11.59,12.4L12.45,11.9C12.93,11.63 13.54,11.79 13.82,12.27L15.74,14.69C17.12,13.59 18,11.9 18,10A6,6 0 0,0 12,4M12,9A1,1 0 0,1 13,10A1,1 0 0,1 12,11A1,1 0 0,1 11,10A1,1 0 0,1 12,9M7,18A1,1 0 0,0 6,19A1,1 0 0,0 7,20A1,1 0 0,0 8,19A1,1 0 0,0 7,18M12.09,13.27L14.58,19.58L17.17,18.08L12.95,12.77L12.09,13.27Z",Z="M4,5C2.89,5 2,5.89 2,7V17C2,18.11 2.89,19 4,19H20C21.11,19 22,18.11 22,17V7C22,5.89 21.11,5 20,5H4M4.5,7A1,1 0 0,1 5.5,8A1,1 0 0,1 4.5,9A1,1 0 0,1 3.5,8A1,1 0 0,1 4.5,7M7,7H20V17H7V7M8,8V16H11V8H8M12,8V16H15V8H12M16,8V16H19V8H16M9,9H10V10H9V9M13,9H14V10H13V9M17,9H18V10H17V9Z",q=[];class O extends s.WF{get _value(){var e;return null!==(e=this.value)&&void 0!==e?e:q}_description(e){var t,a,i;if(e===r.oJ)return null!==(i=this.cloudStatus)&&void 0!==i&&i.logged_in&&!this.cloudStatus.active_subscription?this.hass.localize("ui.panel.config.backup.agents.cloud_agent_no_subcription"):this.hass.localize("ui.panel.config.backup.agents.cloud_agent_description");const n=[];(0,r.jU)(e)&&n.push(this.hass.localize("ui.panel.config.backup.agents.network_mount_agent_description"));!1===(null===(t=this.agentsConfig)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.protected)&&n.push((0,s.qy)(_||(_=L`<div class="unencrypted-warning"> <span class="dot warning"></span> <span> ${0} </span> </div>`),this.hass.localize("ui.panel.config.backup.agents.encryption_turned_off")));const d=null===(a=this.agentsConfig)||void 0===a||null===(a=a[e])||void 0===a?void 0:a.retention;return d&&(null===d.copies&&null===d.days?n.push(this.hass.localize("ui.panel.config.backup.agents.retention_all")):n.push(this.hass.localize("ui.panel.config.backup.agents.retention_"+(d.copies?"backups":"days"),{count:d.copies||d.days}))),(0,o.f)(n,(0,s.qy)(g||(g=L`<span class="separator"> Â· </span>`)))}_renderAgentIcon(e){var t;if((0,r.Bi)(e))return(0,s.qy)(m||(m=L` <ha-svg-icon .path="${0}" slot="start"></ha-svg-icon> `),z);if((0,r.jU)(e))return(0,s.qy)(v||(v=L`<ha-svg-icon .path="${0}" slot="start"></ha-svg-icon>`),Z);const a=(0,h.m)(e);return(0,s.qy)(y||(y=L` <img .src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer" alt="" slot="start"> `),(0,p.MR)({domain:a,type:"icon",useFallback:!0,darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode}))}render(){const e=this._availableAgents(this.agents,this.cloudStatus),t=this._unavailableAgents(this.agents,this._value,this.cloudStatus),a=[...e,...t];return(0,s.qy)(b||(b=L` ${0} `),a.length>0?(0,s.qy)(f||(f=L` <ha-md-list> ${0} ${0} </ha-md-list> `),e.map(e=>{var t;const i=e.agent_id,o=(0,r.q7)(this.hass.localize,i,a),n=this._description(i),d=i===r.oJ&&(null===(t=this.cloudStatus)||void 0===t?void 0:t.logged_in)&&!this.cloudStatus.active_subscription;return(0,s.qy)($||($=L` <ha-md-list-item> ${0} <div slot="headline" class="name">${0}</div> ${0} ${0} <ha-switch slot="end" id="${0}" .checked="${0}" .disabled="${0}" @change="${0}"></ha-switch> </ha-md-list-item> `),this._renderAgentIcon(i),o,n?(0,s.qy)(k||(k=L`<div slot="supporting-text">${0}</div>`),n):s.s6,this.showSettings?(0,s.qy)(C||(C=L` <ha-icon-button id="${0}" slot="end" path="${0}" @click="${0}"></ha-icon-button> `),i,H,this._showAgentSettings):s.s6,i,this._value.includes(i),d&&!this._value.includes(i),this._agentToggled)}),t.length>0&&this.showSettings?(0,s.qy)(x||(x=L` <p class="heading"> ${0} </p> ${0} `),this.hass.localize("ui.panel.config.backup.agents.unavailable_agents"),t.map(e=>{const t=e.agent_id,i=(0,r.q7)(this.hass.localize,t,a);return(0,s.qy)(A||(A=L` <ha-md-list-item> ${0} <div slot="headline" class="name">${0}</div> <ha-icon-button id="${0}" slot="end" path="${0}" @click="${0}"></ha-icon-button> </ha-md-list-item> `),this._renderAgentIcon(t),i,t,V,this._deleteAgent)})):s.s6):(0,s.qy)(M||(M=L` <p> ${0} </p> `),this.hass.localize("ui.panel.config.backup.agents.no_agents")))}_showAgentSettings(e){const t=e.currentTarget.id;(0,c.o)(`/config/backup/location/${t}`)}_deleteAgent(e){e.stopPropagation();const t=e.currentTarget.id;this.value=this._value.filter(e=>e!==t),(0,l.r)(this,"value-changed",{value:this.value})}_agentToggled(e){e.stopPropagation();const t=e.currentTarget.checked,a=e.currentTarget.id;this.value=t?[...this._value,a]:this._value.filter(e=>e!==a),this.value=[...new Set(this.value)],(0,l.r)(this,"value-changed",{value:this.value})}constructor(...e){super(...e),this.agents=[],this.showSettings=!1,this._availableAgents=(0,d.A)((e,t)=>e.filter(e=>e.agent_id!==r.oJ||(null==t?void 0:t.logged_in))),this._unavailableAgents=(0,d.A)((e,t,a)=>{const i=this._availableAgents(e,a).map(e=>e.agent_id);return t.filter(e=>!i.includes(e)).map(e=>({agent_id:e,name:e.split(".")[1]||e}))})}}O.styles=(0,s.AH)(w||(w=L`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-list-item .name{word-break:break-word}ha-md-list-item img{width:48px}ha-md-list-item ha-svg-icon[slot=start]{--mdc-icon-size:48px;color:var(--primary-text-color)}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:8px;line-height:var(--ha-line-height-condensed)}.unencrypted-warning{display:flex;align-items:center;gap:4px}.dot{display:block;position:relative;width:8px;height:8px;background-color:var(--disabled-color);border-radius:50%}.dot.warning{background-color:var(--warning-color)}@media all and (max-width:500px){.separator{display:none}ha-md-list-item [slot=supporting-text]{display:flex;align-items:flex-start;flex-direction:column;justify-content:flex-start;gap:4px}}`)),(0,i.__decorate)([(0,n.MZ)({attribute:!1})],O.prototype,"hass",void 0),(0,i.__decorate)([(0,n.MZ)({attribute:!1})],O.prototype,"cloudStatus",void 0),(0,i.__decorate)([(0,n.MZ)({attribute:!1})],O.prototype,"agents",void 0),(0,i.__decorate)([(0,n.MZ)({attribute:!1})],O.prototype,"agentsConfig",void 0),(0,i.__decorate)([(0,n.MZ)({type:Boolean,attribute:"show-settings"})],O.prototype,"showSettings",void 0),(0,i.__decorate)([(0,n.wk)()],O.prototype,"value",void 0),O=(0,i.__decorate)([(0,n.EM)("ha-backup-config-agents")],O),t()}catch(_){t(_)}})},49859:function(e,t,a){a.a(e,async function(e,t){try{a(79827),a(35748),a(65315),a(59023),a(12977),a(5934),a(18223),a(95013);var i=a(69868),s=a(84922),o=a(11991),n=a(65940),d=a(26946),l=a(44017),h=a(17372),c=(a(16520),a(97750),a(99260),a(87870),a(25482),a(45988),a(62177)),r=(a(56997),a(63002)),p=e([h,r]);[h,r]=p.then?(await p)():p;let u,_,g,m,v,y,b,f=e=>e;const $="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9 17H7V10H9V17M13 17H11V7H13V17M17 17H15V13H17V17Z",k="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",C="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",x="M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z",A="M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z",M={homeassistant:!1,database:!1,media:!1,share:!1,local_addons:!1,addons_mode:"all",addons:[]};class w extends s.WF{firstUpdated(e){super.firstUpdated(e),this._checkDbOption(),(0,d.x)(this.hass,"hassio")&&this._fetchAddons()}updated(e){var t;e.has("value")&&((0,d.x)(this.hass,"hassio")&&null!==(t=this.value)&&void 0!==t&&null!==(t=t.include_addons)&&void 0!==t&&t.length&&(this._showAddons=!0))}async _fetchAddons(){const{addons:e}=await(0,c.b3)(this.hass);this._addons=e,(0,l.r)(this,"backup-addons-fetched")}async _checkDbOption(){if((0,d.x)(this.hass,"recorder")){var e;const t=await(0,r.Z)(this.hass.connection);this._showDbOption=t.db_in_default_location,!this._showDbOption&&null!==(e=this.value)&&void 0!==e&&e.include_database&&(this.value.include_database=!1)}else this._showDbOption=!1}_hasLocalAddons(e){return e.some(e=>"local"===e.slug)}_setData(e){const t=[...e.media?["media"]:[],...e.share?["share"]:[],...e.local_addons?["addons/local"]:[]],a="custom"===e.addons_mode?e.addons:[];this.value={include_homeassistant:e.homeassistant||e.database||this.forceHomeAssistant,include_addons:a.length?a:void 0,include_all_addons:"all"===e.addons_mode,include_database:e.database,include_folders:t.length?t:void 0},(0,l.r)(this,"value-changed",{value:this.value})}render(){const e=this._getData(this.value,this._showAddons),t=(0,d.x)(this.hass,"hassio");return(0,s.qy)(u||(u=f` <ha-md-list> <ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-switch id="homeassistant" slot="end" @change="${0}" .checked="${0}" .disabled="${0}"></ha-switch> </ha-md-list-item> ${0} ${0} </ha-md-list> ${0} `),k,this.hass.localize("ui.panel.config.backup.data.ha_settings"),this.forceHomeAssistant?this.hass.localize("ui.panel.config.backup.data.ha_settings_included_description"):this.hass.localize("ui.panel.config.backup.data.ha_settings_description"),this._switchChanged,e.homeassistant,this.forceHomeAssistant||e.database,this._showDbOption?(0,s.qy)(_||(_=f`<ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-switch id="database" slot="end" @change="${0}" .checked="${0}"></ha-switch> </ha-md-list-item>`),$,this.hass.localize("ui.panel.config.backup.data.history"),this.hass.localize("ui.panel.config.backup.data.history_description"),this._switchChanged,e.database):s.s6,t?(0,s.qy)(g||(g=f` <ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-switch id="media" slot="end" @change="${0}" .checked="${0}"></ha-switch> </ha-md-list-item> <ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-switch id="share" slot="end" @change="${0}" .checked="${0}"></ha-switch> </ha-md-list-item> ${0} ${0} `),x,this.hass.localize("ui.panel.config.backup.data.media"),this.hass.localize("ui.panel.config.backup.data.media_description"),this._switchChanged,e.media,C,this.hass.localize("ui.panel.config.backup.data.share_folder"),this.hass.localize("ui.panel.config.backup.data.share_folder_description"),this._switchChanged,e.share,this._hasLocalAddons(this._addons)?(0,s.qy)(m||(m=f` <ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-switch id="local_addons" slot="end" @change="${0}" .checked="${0}"></ha-switch> </ha-md-list-item> `),C,this.hass.localize("ui.panel.config.backup.data.local_addons"),this.hass.localize("ui.panel.config.backup.data.local_addons_description"),this._switchChanged,e.local_addons):s.s6,this._addons.length?(0,s.qy)(v||(v=f` <ha-md-list-item> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-md-select slot="end" id="addons_mode" @change="${0}" .value="${0}"> <ha-md-select-option value="all"> <div slot="headline"> ${0} </div> </ha-md-select-option> <ha-md-select-option value="none"> <div slot="headline"> ${0} </div> </ha-md-select-option> <ha-md-select-option value="custom"> <div slot="headline"> ${0} </div> </ha-md-select-option> </ha-md-select> </ha-md-list-item> `),A,this.hass.localize("ui.panel.config.backup.data.addons"),this.hass.localize("ui.panel.config.backup.data.addons_description"),this._selectChanged,e.addons_mode,this.hass.localize("ui.panel.config.backup.data.addons_all"),this.hass.localize("ui.panel.config.backup.data.addons_none"),this.hass.localize("ui.panel.config.backup.data.addons_custom")):s.s6):s.s6,t&&this._showAddons&&this._addons.length?(0,s.qy)(y||(y=f` <ha-expansion-panel .header="${0}" outlined expanded> <ha-backup-addons-picker .hass="${0}" .value="${0}" @value-changed="${0}" .addons="${0}" .hideVersion="${0}"></ha-backup-addons-picker> </ha-expansion-panel> `),"Add-ons",this.hass,e.addons,this._addonsChanged,this._addons,this.hideAddonVersion):s.s6)}_switchChanged(e){const t=e.currentTarget,a=this._getData(this.value,this._showAddons);this._setData(Object.assign(Object.assign({},a),{},{[t.id]:t.checked}))}_selectChanged(e){const t=e.currentTarget,a=this._getData(this.value,this._showAddons);this._setData(Object.assign(Object.assign({},a),{},{[t.id]:t.value})),"addons_mode"===t.id&&(this._showAddons="custom"===t.value)}_addonsChanged(e){e.stopPropagation();const t=e.detail.value,a=this._getData(this.value,this._showAddons);this._setData(Object.assign(Object.assign({},a),{},{addons:t}))}constructor(...e){super(...e),this.forceHomeAssistant=!1,this.hideAddonVersion=!1,this._addons=[],this._showAddons=!1,this._showDbOption=!0,this._getData=(0,n.A)((e,t)=>{var a,i,s,o,n;if(!e)return M;const d=e,l=null!==(a=null===(i=d.include_addons)||void 0===i?void 0:i.slice())&&void 0!==a?a:[];return{homeassistant:d.include_homeassistant||this.forceHomeAssistant,database:d.include_database,media:(null===(s=d.include_folders)||void 0===s?void 0:s.includes("media"))||!1,share:(null===(o=d.include_folders)||void 0===o?void 0:o.includes("share"))||!1,local_addons:(null===(n=d.include_folders)||void 0===n?void 0:n.includes("addons/local"))||!1,addons_mode:d.include_all_addons?"all":l.length>0||t?"custom":"none",addons:l}})}}w.styles=(0,s.AH)(b||(b=f`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-select{min-width:210px}@media all and (max-width:450px){ha-md-select{min-width:140px;width:140px;--md-filled-field-content-space:0}}`)),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean,attribute:"force-home-assistant"})],w.prototype,"forceHomeAssistant",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:"hide-addon-version",type:Boolean})],w.prototype,"hideAddonVersion",void 0),(0,i.__decorate)([(0,o.wk)()],w.prototype,"value",void 0),(0,i.__decorate)([(0,o.wk)()],w.prototype,"_addons",void 0),(0,i.__decorate)([(0,o.wk)()],w.prototype,"_showAddons",void 0),(0,i.__decorate)([(0,o.wk)()],w.prototype,"_showDbOption",void 0),w=(0,i.__decorate)([(0,o.EM)("ha-backup-config-data")],w),t()}catch(u){t(u)}})},35014:function(e,t,a){a.a(e,async function(e,t){try{a(79827),a(35748),a(99342),a(65315),a(37089),a(12977),a(47849),a(18223),a(95013);var i=a(69868),s=a(84922),o=a(11991),n=a(65940),d=a(65380),l=a(44017),h=(a(63893),a(16520),a(17244),a(97750),a(99260),a(87870),a(25482),a(77529),a(84852),a(59887),a(71598)),c=a(72144),r=(a(22433),e([d,h]));[d,h]=r.then?(await r)():r;let p,u,_,g,m,v,y,b,f,$,k=e=>e;const C=[h.qk.NEVER,h.qk.DAILY,h.qk.CUSTOM_DAYS],x=["default","custom"],A={recurrence:h.qk.NEVER,time_option:"default",days:[],retention:{copies:3}};class M extends s.WF{_setData(e){this.value=Object.assign(Object.assign({},this.value),{},{schedule:{recurrence:e.recurrence,time:"custom"===e.time_option?e.time:null,days:e.recurrence===h.qk.CUSTOM_DAYS?e.days:[]},retention:e.retention}),(0,l.r)(this,"value-changed",{value:this.value})}render(){var e,t;const a=this._getData(this.value);return(0,s.qy)(p||(p=k` <ha-md-list> <ha-md-list-item> <span slot="headline"> ${0}</span> <span slot="supporting-text"> ${0} </span> <ha-md-select slot="end" @change="${0}" .value="${0}"> ${0} </ha-md-select> </ha-md-list-item> ${0} ${0} ${0} <ha-backup-config-retention .hass="${0}" .retention="${0}" @value-changed="${0}"></ha-backup-config-retention> <ha-tip .hass="${0}">${0}</ha-tip> </ha-md-list> `),this.hass.localize("ui.panel.config.backup.schedule.schedule"),this.hass.localize("ui.panel.config.backup.schedule.schedule_description"),this._scheduleChanged,a.recurrence,C.map(e=>(0,s.qy)(u||(u=k` <ha-md-select-option .value="${0}"> <div slot="headline"> ${0} </div> </ha-md-select-option> `),e,this.hass.localize(`ui.panel.config.backup.schedule.schedule_options.${e}`))),a.recurrence===h.qk.CUSTOM_DAYS?(0,s.qy)(_||(_=k`<ha-expansion-panel expanded .header="${0}" outlined> <ha-md-list-item class="days"> <span slot="headline"> ${0} </span> <div slot="end"> ${0} </div> </ha-md-list-item> </ha-expansion-panel>`),this.hass.localize("ui.panel.config.backup.schedule.custom_schedule"),this.hass.localize("ui.panel.config.backup.schedule.backup_every"),h.T2.map(e=>(0,s.qy)(g||(g=k` <div> <ha-formfield .label="${0}"> <ha-checkbox @change="${0}" .checked="${0}" .value="${0}"> </ha-checkbox>  </ha-formfield> </div> `),this.hass.localize(`ui.panel.config.backup.overview.settings.weekdays.${e}`),this._daysChanged,a.days.includes(e),e))):s.s6,a.recurrence===h.qk.DAILY||a.recurrence===h.qk.CUSTOM_DAYS&&a.days.length>0?(0,s.qy)(m||(m=k` <ha-md-list-item> <span slot="headline"> ${0}</span> <span slot="supporting-text"> ${0} </span> <ha-md-select slot="end" @change="${0}" .value="${0}"> ${0} </ha-md-select> </ha-md-list-item> ${0} `),this.hass.localize("ui.panel.config.backup.schedule.time"),this.hass.localize("ui.panel.config.backup.schedule.schedule_time_description",{time_range_start:(0,d.fU)(h.uM,this.hass.locale,this.hass.config),time_range_end:(0,d.fU)(h.pL,this.hass.locale,this.hass.config)}),this._scheduleTimeChanged,a.time_option,x.map(e=>(0,s.qy)(v||(v=k` <ha-md-select-option .value="${0}"> <div slot="headline"> ${0} </div> </ha-md-select-option> `),e,this.hass.localize(`ui.panel.config.backup.schedule.time_options.${e}`))),"custom"===a.time_option?(0,s.qy)(y||(y=k`<ha-expansion-panel expanded .header="${0}" outlined> <ha-md-list-item> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-time-input slot="end" @value-changed="${0}" .value="${0}" .locale="${0}"> </ha-time-input> </ha-md-list-item> </ha-expansion-panel>`),this.hass.localize("ui.panel.config.backup.schedule.custom_time"),this.hass.localize("ui.panel.config.backup.schedule.custom_time_label"),this.hass.localize("ui.panel.config.backup.schedule.custom_time_description",{time:(0,d.fU)(h.uM,this.hass.locale,this.hass.config)}),this._timeChanged,null!==(e=a.time)&&void 0!==e?e:void 0,this.hass.locale):s.s6):s.s6,this.supervisor?(0,s.qy)(b||(b=k` <ha-md-list-item> <span slot="headline"> ${0} </span> <span slot="supporting-text"> ${0} </span> <ha-md-select slot="end" @change="${0}" .value="${0}"> <ha-md-select-option value="false"> <div slot="headline"> ${0} </div> </ha-md-select-option> <ha-md-select-option value="true"> <div slot="headline"> ${0} </div> </ha-md-select-option> </ha-md-select> </ha-md-list-item> `),this.hass.localize("ui.panel.config.backup.schedule.update_preference.label"),this.hass.localize("ui.panel.config.backup.schedule.update_preference.supporting_text"),this._updatePreferenceChanged,(null===(t=this.supervisorUpdateConfig)||void 0===t||null===(t=t.core_backup_before_update)||void 0===t?void 0:t.toString())||"false",this.hass.localize("ui.panel.config.backup.schedule.update_preference.skip_backups"),this.hass.localize("ui.panel.config.backup.schedule.update_preference.backup_before_update")):s.s6,this.hass,a.retention,this._retentionChanged,this.hass,this.hass.localize("ui.panel.config.backup.schedule.tip",{backup_create:(0,s.qy)(f||(f=k`<a href="${0}" target="_blank" rel="noopener noreferrer">backup.create_automatic</a>`),(0,c.o)(this.hass,"/integrations/backup/#action-backupcreate_automatic"))}))}_scheduleChanged(e){e.stopPropagation();const t=e.currentTarget,a=this._getData(this.value);let i=[...a.days];t.value===h.qk.CUSTOM_DAYS&&0===a.days.length&&(i=[...h.T2]),this._setData(Object.assign(Object.assign({},a),{},{recurrence:t.value,days:i}))}_scheduleTimeChanged(e){e.stopPropagation();const t=e.currentTarget,a=this._getData(this.value);this._setData(Object.assign(Object.assign({},a),{},{time_option:t.value,time:"custom"===t.value?"04:45:00":void 0}))}_timeChanged(e){e.stopPropagation();const t=this._getData(this.value);this._setData(Object.assign(Object.assign({},t),{},{time:e.detail.value}))}_daysChanged(e){e.stopPropagation();const t=e.currentTarget,a=t.value,i=this._getData(this.value),s=[...i.days];t.checked&&!i.days.includes(a)?s.push(a):!t.checked&&i.days.includes(a)&&s.splice(s.indexOf(a),1),(0,h.Ye)(s),this._setData(Object.assign(Object.assign({},i),{},{days:s}))}_updatePreferenceChanged(e){e.stopPropagation();const t="true"===e.currentTarget.value;(0,l.r)(this,"update-config-changed",{value:{core_backup_before_update:t}})}_retentionChanged(e){e.stopPropagation();const t=e.detail.value,a=this._getData(this.value),i=Object.assign(Object.assign({},a),{},{retention:t});this._setData(i)}constructor(...e){super(...e),this.supervisor=!1,this._getData=(0,n.A)(e=>{if(!e)return A;const t=e;return{recurrence:t.schedule.recurrence,time_option:t.schedule.time?"custom":"default",time:t.schedule.time,days:t.schedule.recurrence===h.qk.CUSTOM_DAYS?t.schedule.days:[],retention:t.retention}})}}M.styles=(0,s.AH)($||($=k`ha-md-list{background:0 0;--md-list-item-leading-space:0;--md-list-item-trailing-space:0}ha-md-list-item{--md-item-overflow:visible}ha-md-select{min-width:210px}ha-time-input{min-width:194px;--time-input-flex:1}@media all and (max-width:450px){ha-md-select{min-width:160px;width:160px;--md-filled-field-content-space:0}ha-time-input{min-width:145px;width:145px}}ha-expansion-panel{margin-bottom:16px}ha-tip{text-align:unset;margin:16px 0}ha-md-list-item.days{--md-item-align-items:flex-start}a{color:var(--primary-color)}`)),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],M.prototype,"value",void 0),(0,i.__decorate)([(0,o.MZ)({type:Boolean})],M.prototype,"supervisor",void 0),(0,i.__decorate)([(0,o.MZ)({attribute:!1})],M.prototype,"supervisorUpdateConfig",void 0),M=(0,i.__decorate)([(0,o.EM)("ha-backup-config-schedule")],M),t()}catch(p){t(p)}})},72144:function(e,t,a){a.d(t,{o:function(){return i}});a(79827),a(18223);const i=(e,t)=>`https://${e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www"}.home-assistant.io${t}`}}]);
//# sourceMappingURL=90828.90c5410ce2c80bc4.js.map