{"version":3,"file":"33835.f5e7e72ee44f2e13.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.4/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.4/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.4/src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts"],"names":["StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","type","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","first_weekday","firstWeekday","locale","substring","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","value","change","calculateStatisticsSumGrowth","data","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","getPropertyValue","trim","themeColor","length","hexColor","theme2hex","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","colorPropertyMap","grid_return","grid_consumption","battery_in","battery_out","solar","gas","water","HuiEnergySourcesTableCard","SubscribeMixin","LitElement","hassSubscribe","getEnergyDataCollection","this","key","_config","collection_key","subscribe","_data","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","_renderRow","statId","energy","compareEnergy","energyUnit","cost","compareCost","showCosts","html","classMap","clickable","_handleMoreInfo","styleMap","borderColor","themes","backgroundColor","statsMetadata","formatNumber","style","currency","_renderTotalRow","label","render","nothing","localize","totalGrid","totalGridCost","totalBattery","hasGridCost","totalGridCompare","totalGridCostCompare","totalBatteryCompare","totals","totalsCompare","totalCosts","totalCostsCompare","hasCosts","energySourcesByType","prefs","getComputedStyle","grid","flow_from","flow","stat_cost","entity_energy_price","number_energy_price","flow_to","stat_compensation","gasUnit","waterUnit","statsCompare","_extractStatData","costStatId","costCompare","hasData","energyCompare","_renderSimpleCategory","map","source","cost_stat","info","cost_sensors","stat_energy_from","title","battery","hasFromData","energyFrom","energyFromCompare","hasToData","energyTo","energyToCompare","stat_energy_to","filter","Boolean","ev","entityId","currentTarget","fireEvent","styles","css","unsafeCSS","dataTableStyles","args","hassSubscribeRequiredHostProps","attribute"],"mappings":"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"}