{"version":3,"file":"15491.13b29c5e4afc169b.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251001.1/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.1/src/components/chart/timeline-color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.1/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251001.1/src/panels/lovelace/cards/hui-history-graph-card.ts","/unknown/node_modules/core-js/modules/web.self.js","/unknown/node_modules/date-fns/differenceInMilliseconds.js","/unknown/node_modules/date-fns/differenceInMinutes.js"],"names":["COLORS","getColorByIndex","index","length","getGraphColorByIndex","style","themeColor","getPropertyValue","theme2hex","getAllGraphColors","memoizeOne","map","_color","newArgs","lastArgs","DOMAIN_STATE_SHADES","media_player","paused","idle","vacuum","returning","colorIndex","stateColorMap","Map","computeTimelineColor","state","computedStyles","stateObj","_DOMAIN_STATE_SHADES$","UNAVAILABLE","computeCssValue","UNKNOWN","properties","stateColorProperties","rgb","domain","computeDomain","entity_id","shade","lab2hex","labBrighten","rgb2lab","hex2rgb","computeTimelineStateColor","has","get","color","set","computeTimeLineGenericColor","StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","type","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","Object","assign","first_weekday","firstWeekday","locale","substring","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","value","change","calculateStatisticsSumGrowth","data","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","_hass$states$statisti","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","DEFAULT_HOURS_TO_SHOW","HuiHistoryGraphCard","LitElement","getConfigElement","document","createElement","getStubConfig","entities","getCardSize","_this$_config","_this$_entityIds","this","_config","title","_entityIds","getGridOptions","columns","min_columns","min_rows","setConfig","config","Array","isArray","Error","configEntities","processConfigEntities","forEach","push","_names","_hoursToShow","hours_to_show","connectedCallback","super","hasUpdated","_subscribeHistory","disconnectedCallback","_unsubscribeHistory","isComponentLoaded","_subscribed","numeric_device_classes","sensorNumericDeviceClasses","getSensorNumericDeviceClasses","subscribeHistoryStatesTimeWindow","combinedHistory","_this$_config2","_stateHistory","computeHistory","localize","split_device_classes","_mergeHistory","catch","err","_error","_fetchStatistics","_setRedrawTimer","_this$_config3","_history","mergeHistoryResults","_statisticsHistory","_this$_config4","now","setHours","getHours","statistics","convertStatisticsToHistory","_redrawGraph","clearInterval","_interval","window","setInterval","then","unsub","shouldUpdate","changedProps","hasConfigOrEntitiesChanged","size","updated","oldConfig","render","_this$_config$grid_op","_this$_config$grid_op2","_this$_config$grid_op3","_this$_config$grid_op4","nothing","configUrl","createSearchParam","join","start_date","grid_options","narrow","hasFixedHeight","rows","html","_t","_","_t2","classMap","_t3","message","code","_t4","show_names","logarithmic_scale","min_y_axis","max_y_axis","fit_y_data","expand_legend","args","styles","css","_t5","attribute","$","globalThis","defineBuiltInAccessor","DESCRIPTORS","$TypeError","TypeError","defineProperty","INCORRECT_VALUE","self","descriptor","getOwnPropertyDescriptor","enumerable","writable","configurable","global","simple","forced","error","differenceInMilliseconds","laterDate","earlierDate","toDate","differenceInMinutes","dateLeft","dateRight","options","diff","millisecondsInMinute","getRoundingMethod","roundingMethod"],"mappings":"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"}