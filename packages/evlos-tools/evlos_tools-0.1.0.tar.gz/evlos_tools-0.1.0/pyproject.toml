[project]
name = "evlos-tools"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
authors = [{ name = "Arif", email = "arif@evlos.ai" }]
requires-python = ">=3.11,<3.12"
dependencies = [
    # "pip",
    # "wheel",
    # "setuptools",
    # "packaging",
    "einops",
    "imutils",
    "kornia",
    "loguru",
    "matplotlib",
    "numpy",
    "pycolmap",
    "pycuda",
    "pyyaml",
    "scikit-learn",
    "tensorrt==10.13.3.9",
    "opencv-python",
    "torch>=2.8.0",
    "torchvision",
    # "flash-attn",
    "onnx",
    "onnxruntime-gpu",
]

[tool.uv.sources]
torch = [{ index = "pytorch-cu128", marker = "sys_platform == 'linux'" }]
torchvision = [{ index = "pytorch-cu128", marker = "sys_platform == 'linux'" }]
# torch-tensorrt = [
#     { index = "pytorch-cu128", marker = "sys_platform == 'linux'" },
# ]

[[tool.uv.index]]
name = "pytorch-cu128"
url = "https://download.pytorch.org/whl/cu128"
explicit = true

[tool.uv.extra-build-dependencies]
flash-attn = ["torch"]
tensorrt = ["pip", "wheel", "setuptools", "packaging"]

[dependency-groups]
dev = ["ipykernel>=6.30.1", "jupyter>=1.1.1"]

# [build-system]
# requires = ["uv_build>=0.8.24,<0.9.0"]
# build-backend = "uv_build"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/evlos_tools"]
