var p=Object.defineProperty;var g=(s,r,t)=>r in s?p(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t;var c=(s,r,t)=>g(s,typeof r!="symbol"?r+"":r,t);import{s as m}from"./chunk-DZLz74EQ.js";import{a as h,o as v,s as d}from"./react-7g8sREeT.js";import{t as b}from"./react-BcIddLXZ.js";import{n as w}from"./jsx-runtime-DvsdsEjx.js";import{t as j}from"./_baseIsEqual-Colb33IN.js";function y(s,r){return j(s,r)}var f=y;function E(s,r){if(!s)throw Error(r)}var P=m(w()),x=m(b());const a=d();async function S(s,r){return r(a.get(s))?a.get(s):new Promise(t=>{let o=a.sub(s,()=>{let e=a.get(s);r(e)&&(o(),t(e))})})}function _(s,r){let t=(0,P.c)(5),o=h(),e,i;t[0]!==s||t[1]!==r||t[2]!==o?(e=()=>{let n=o.get(s);o.sub(s,()=>{let u=o.get(s);r(u,n),n=u})},i=[s,r,o],t[0]=s,t[1]=r,t[2]=o,t[3]=e,t[4]=i):(e=t[3],i=t[4]),(0,x.useEffect)(e,i)}var l=Symbol("sentinel");function k(s,r=f){let t=l;return v(o=>{let e=o(s);return(t===l||!r(t,e))&&(t=e),t})}var q=class{constructor(){c(this,"status","pending");this.promise=new Promise((s,r)=>{this.reject=t=>{this.status="rejected",r(t)},this.resolve=t=>{this.status="resolved",s(t)}})}};export{S as a,_ as i,k as n,E as o,a as r,f as s,q as t};
