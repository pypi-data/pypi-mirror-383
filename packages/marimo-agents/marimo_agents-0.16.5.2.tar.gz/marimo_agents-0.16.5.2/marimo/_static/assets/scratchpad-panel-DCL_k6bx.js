import{s as X}from"./chunk-DZLz74EQ.js";import{i as Ct,n as St,o as ct,r as zt}from"./react-7g8sREeT.js";import{t as Ot}from"./react-BcIddLXZ.js";import{E as It,F as At,Mr as Lt,t as f,wr as Mt,__tla as Et}from"./cells-Cu8VFzqb.js";import"./react-dom-D6bRRS5R.js";import"./zod-BEi78Y5d.js";import{n as nt,t as Pt}from"./jsx-runtime-DvsdsEjx.js";import"./_Uint8Array-CPNtPV0k.js";import"./_baseIsEqual-Colb33IN.js";import"./_arrayReduce-BnF2698I.js";import"./toNumber-D8Yr4jg3.js";import"./toInteger-HqbAY1oN.js";import"./isArrayLikeObject-VZQcF0wU.js";import"./_getTag-DAtegGfi.js";import"./merge-BK4jEs5n.js";import"./_baseSlice-Uxm09S3C.js";import{_ as Rt}from"./config-qe5QH71b.js";import"./_hasUnicode-CGNOqZbu.js";import"./capitalize-CPbjsThc.js";import"./_baseProperty-DbWSe5Dg.js";import"./now-r4Qe1IPI.js";import"./debounce-DI2W_mLY.js";import"./Deferred-BaXvZ7xh.js";import"./loader-DH7LsESr.js";import"./range-BWKZ1jfq.js";import"./client-BY3CsJK7.js";import{n as dt}from"./Logger-BYf_jckC.js";import"./hotkeys-B6RmRq9l.js";import"./useHotkey-BSkOh6WM.js";import"./globals-C04kwfxP.js";import"./ErrorBoundary-Dx9Sfc05.js";import"./dist-MGl6rJvQ.js";import{t as Ht}from"./cn-BXZDj0q7.js";import"./dist-CjbXXQXG.js";import"./useEventListener-C9Ldphl0.js";import"./events-DeIoPUd7.js";import{t as Y}from"./button-CtXpvmEK.js";import"./dist--Nd6X-oZ.js";import"./dist-BEN0CeKa.js";import{a as qt,__tla as Ft}from"./columns-BUyn59zi.js";import"./once-CcEB5YYF.js";import"./documentation-CMlrFSRf.js";import"./createReducer-BYK7466H.js";import{a as Tt}from"./key-Bbtykojp.js";import"./preload-helper-VwE_myu3.js";import"./dist-DhHwnpP4.js";import"./dist-DbZtNFqr.js";import"./dist-h7riDns7.js";import"./dist-2yVzxPX_.js";import"./dist-D3mqw5EG.js";import"./dist-DucN38iS.js";import"./stex-yqX35Zwf.js";import"./uuid-BGl6uOso.js";import"./use-toast-DkqvBA-s.js";import"./main-Bhvb2Udf.js";import"./marked.esm-5H8spd6k.js";import"./connection-EQhJerFr.js";import"./dist-Bv1qgN6C.js";import{r as Vt}from"./useTheme-Dr_rjc9V.js";import{t as ht}from"./createLucideIcon-D2ExLlYe.js";import{d as Gt,__tla as Ut}from"./layout-p1EuMs1Q.js";import"./add-cell-with-ai-QXrabGyw.js";import{t as Bt}from"./between-horizontal-start-D7FwbXn8.js";import"./ai-model-dropdown-DU0ttyiW.js";import"./type-I5fspO4n.js";import"./check-DdKonHHo.js";import"./select-BdzgTzLI.js";import"./download-DrHZIzG4.js";import"./chevron-right-CVxEz2FM.js";import"./maps-DAonNwtj.js";import"./ansi_up-BXBP1ZEY.js";import"./toDate-C2WSQeY2.js";import"./dropdown-menu-PEnZ8LxK.js";import"./eye-off-Df-KAboT.js";import"./copy-DJ9e8Pye.js";import"./ellipsis-BtL09jyh.js";import"./types-CcIvwaL6.js";import"./file-video-camera-BqcD5MfQ.js";import{t as Jt,__tla as Kt}from"./cell-editor-Ri4iAjPL.js";import"./file-text-3f_wgMUn.js";import"./file-Bpc-ngJ5.js";import"./image-DaANHw5j.js";import"./list-filter-MSNJkMzT.js";import{t as Qt}from"./spinner-DHqQ9skH.js";import"./readonly-python-code-BUkFWfrr.js";import"./MarimoErrorOutput-Chpagbv6.js";import{i as Wt}from"./name-cell-input-B2MXFJCb.js";import"./plus-BYy55gYw.js";import"./save-CVTWMsDN.js";import"./input-DYl9pNu1.js";import"./useDeleteCell-CCDaEgge.js";import"./trash-DZTlu2a6.js";import"./wrench-kAWksHHO.js";import"./useNonce-BUl5Llhg.js";import"./badge-nqYSoYtT.js";import"./namespace-2k7Gzn5q.js";import{t as Z}from"./tooltip-Cm87HNT4.js";import"./useLifecycle-j98D-0aE.js";import"./menu-items-DPQQViy7.js";import"./fullscreen-BhmcNC-V.js";import"./tslib.es6-DAgqUqkS.js";import"./dates-f-wNhqXF.js";import"./en-US-_jwQtbkE.js";import"./isValid-CNjslCqG.js";import"./mode-HqVxJRUR.js";import"./alert-dialog-DIUeqg2n.js";import"./dialog-C4GYD4Bo.js";import"./useNumberFormatter-CUi4J2hW.js";import"./useDateFormatter-BrD1D_DL.js";import"./shim-hwMIgJYi.js";import{n as $}from"./useEvent-B3kxZodb.js";import"./useDebounce-gJnKHNBL.js";import"./ImperativeModal-C6f_jDAq.js";import"./errors-D1Xk3YjQ.js";import"./vega-loader.browser.module-Bhk0bKod.js";import"./precisionRound-Cje8lX3w.js";import"./defaultLocale-TeaKXDgq.js";import"./defaultLocale-BR1BPE-P.js";import"./copy-6XLAzOKk.js";import"./copy-icon-B8YVm4Nv.js";import"./RenderHTML-DO7a-Kzr.js";import"./accordion-CPqOakzJ.js";import"./JsonOutput-uDX13w-2.js";import"./emotion-is-prop-valid.esm-BYKRD-6W.js";import"./extends-DKrCUUPF.js";import"./prop-types-Cxxd3-eB.js";import"./objectWithoutPropertiesLoose-CVBOK1rR.js";import"./with-selector-vUIIZeiR.js";import"./alert-DyjWrEAZ.js";import"./useAsyncData-iYSjGtJ5.js";import"./error-banner-BfzCrxO_.js";import"./kbd-CkSxpKTD.js";import{a as Xt}from"./renderShortcut-B1ylL9Te.js";import"./label-DC3yE-_I.js";import{t as Yt,__tla as Zt}from"./LazyAnyLanguageCodeMirror-wncj7fnl.js";import"./popover-BjBeNDFd.js";import"./es-PD-9q5e8.js";import"./dom-jgmgNN7d.js";import"./blob-CeevC9Cl.js";import"./esm-BBwf4u1_.js";import"./add-missing-import-QmLOeewj.js";import"./icons-nXTLRJby.js";import"./command-DEww7ETD.js";import"./table-X8jS2AMG.js";import"./formats-DOzQfYDU.js";import"./links-6zIklBF3.js";import"./state-BYv8vXMR.js";import"./filename-Dae00hVY.js";import"./cell-link-D_wBCMcx.js";import"./tabs-BpBxquLZ.js";import{o as $t}from"./focus-BqKB8-G4.js";import"./useAddCell-CRW1QP-J.js";import"./switch-BPAiB5JH.js";import"./floating-outline-5VX_Sf5y.js";import"./useSplitCell-YnsAdiBF.js";import"./Inputs--Ss1JSwi.js";import"./constants-ftpAE1Ke.js";import{__tla as Dt}from"./loro_wasm_bg-BLm4PIzE.js";import"./ws-DUvtvECK.js";import"./useInterval-BhJ27W0u.js";import"./dist-BUWhjpIz.js";import"./dist-Cd7rZ7UL.js";import"./dist-C-XS6VFJ.js";import"./dist-CFczDbwL.js";import"./dist-BwhwFWOb.js";import"./dist-AGuNXvlU.js";import"./dist-_l0inuzT.js";import"./dist-BVNUYShd.js";import"./dist-Dpy9gTOe.js";import"./dist-Cpo3oZfV.js";import"./dist-DXhjB1X5.js";import"./dist-qopcSg2k.js";import"./apl-hvyQUDtu.js";import"./asciiarmor-Cy-xD6kM.js";import"./asn1-DQ74gYit.js";import"./brainfuck-OuMXD0zs.js";import"./cobol-CRIAIwTN.js";import"./clike-l-4h5vHw.js";import"./clojure-DfeJZogm.js";import"./css-Z9chnpRf.js";import"./cmake-DY_2luI6.js";import"./coffeescript-B0K0tBwH.js";import"./commonlisp-9mUkCI3N.js";import"./cypher-C9eYuIHj.js";import"./python-D0ackyXR.js";import"./crystal-CNd-w978.js";import"./d-DucF5sBh.js";import"./diff-CpuSUgw4.js";import"./dtd-C-PNw3ke.js";import"./dylan-c3C5uWrH.js";import"./ecl-NX1inH5u.js";import"./eiffel-BgCTepvq.js";import"./elm-BQXKJ2VL.js";import"./erlang-dCO0t6Qb.js";import"./simple-mode-C6AARx4Y.js";import"./factor-DExB21mU.js";import"./forth-Cru-6iT4.js";import"./fortran-Ph-8sVeO.js";import"./mllike-DdQSQ_0Q.js";import"./gas-kqlodeYH.js";import"./gherkin-BL-T-1k7.js";import"./groovy-r3RCLQcB.js";import"./haskell-BW6h3jyK.js";import"./haxe-m-jcAV_7.js";import"./idl-CyB-laV9.js";import"./javascript-Cg4Zq4RO.js";import"./jinja2-CWk6KxB6.js";import"./julia-C7ONWJKc.js";import"./livescript-sOZT6zU9.js";import"./lua-BewmMIal.js";import"./mirc-Bw7af0sV.js";import"./mathematica-B_E8dPy7.js";import"./modelica-BJw5eWYm.js";import"./mumps-lFK2HoCN.js";import"./mbox-Ds9_phen.js";import"./nsis-BJmEv_a5.js";import"./ntriples-CjbR_ug-.js";import"./octave-CWbmLMF9.js";import"./oz-PKJVZSWl.js";import"./pascal-lqG_Lcz5.js";import"./perl-BC-qsmpG.js";import"./pig-DXhqpqRZ.js";import"./powershell-C7jKA7Nq.js";import"./properties-DFMXY5Jr.js";import"./protobuf-BJOPcLBm.js";import"./pug-CeSB454C.js";import"./puppet-D0dyXJkg.js";import"./q-EU8gku3T.js";import"./r-ByFa1Zy7.js";import"./rpm-BDm0hOww.js";import"./ruby-D4OEqits.js";import"./sas-DA5Eqak3.js";import"./scheme-Do4JAkR0.js";import"./shell-DBoTIFsx.js";import"./sieve-BxPB2Pbv.js";import"./smalltalk-CwEdvd5s.js";import"./sparql-B8aTou_N.js";import"./stylus-p4bnVqrC.js";import"./swift-DL2YKTXC.js";import"./verilog-B8vx_EXR.js";import"./tcl-BW6IhAvk.js";import"./textile-MNCABmBC.js";import"./toml-BMiONfmM.js";import"./troff-DU1tL2GD.js";import"./ttcn-BEgIO-Lg.js";import"./ttcn-cfg-DjDG-sta.js";import"./turtle-BX3MrI1k.js";import"./webidl-Qm9L6Ycg.js";import"./vb-_CvywbIx.js";import"./vbscript-D8ss1CG5.js";import"./velocity-qpkviIXh.js";import"./vhdl-CHQUe3_Q.js";import"./xquery-UUUyWRW8.js";import"./yacas-Me5wBLCe.js";import"./z80-Cub1-r6T.js";import"./mscgen-nB5QJdB0.js";import"./dist-BGRdiumu.js";import"./esm-DxBLvDhV.js";import{t as tr}from"./kiosk-mode-icIHr4lv.js";let ft,rr=Promise.all([(()=>{try{return Et}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return Dt}catch{}})()]).then(async()=>{var ut=ht("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),xt=ht("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_t=X(nt()),D=X(Ot()),vt=15;const tt=Mt("marimo:scratchpadHistory:v1",[]),gt=ct(!1),jt=ct(null,(t,m,e)=>{if(e=e.trim(),!e)return;let a=t(tt),u=[e,...a.filter(M=>M!==e)].slice(0,vt);m(tt,u)});var r=X(Pt()),bt={hide_code:!1,disabled:!1};const yt=()=>{var st;let t=(0,_t.c)(84),m=At(),[e]=Rt(),{theme:a}=Vt(),u=(0,D.useRef)(null),M=$t(),{createNewCell:rt,updateCellCode:x}=It(),{sendRunScratchpad:_}=Tt(),p=m.cellRuntime[f],ot=p==null?void 0:p.output,v=p==null?void 0:p.status,it=p==null?void 0:p.consoleOutputs,i=((st=m.cellData.__scratch__)==null?void 0:st.code)??"",mt=Ct(jt),[o,l]=St(gt),g=zt(tt),H;t[0]!==mt||t[1]!==i||t[2]!==_?(H=()=>{_({code:i}),mt(i)},t[0]=mt,t[1]=i,t[2]=_,t[3]=H):H=t[3];let j=$(H),q;t[4]!==i||t[5]!==rt||t[6]!==M?(q=()=>{i.trim()&&rt({code:i,before:!1,cellId:M??"__end__"})},t[4]=i,t[5]=rt,t[6]=M,t[7]=q):q=t[7];let E=$(q),F;t[8]!==_||t[9]!==x?(F=()=>{x({cellId:f,code:"",formattingChange:!1}),_({code:""});let d=u.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},t[8]=_,t[9]=x,t[10]=F):F=t[10];let P=$(F),T;t[11]!==l||t[12]!==x?(T=d=>{l(!1),x({cellId:f,code:d,formattingChange:!1});let h=u.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},t[11]=l,t[12]=x,t[13]=T):T=t[13];let R=$(T),[et,wt]=(0,D.useState)(),b,y,w,k,s,c,n;if(t[14]!==i||t[15]!==it||t[16]!==P||t[17]!==E||t[18]!==j||t[19]!==R||t[20]!==g||t[21]!==o||t[22]!==et||t[23]!==ot||t[24]!==l||t[25]!==v||t[26]!==a||t[27]!==e){let d=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:(0,r.jsx)(Jt,{theme:a,showPlaceholder:!1,id:f,code:i,config:bt,status:"idle",serializedEditorState:null,runCell:j,userConfig:e,editorViewRef:u,setEditorView:W=>{u.current=W},hidden:!1,showHiddenCode:dt.NOOP,languageAdapter:et,setLanguageAdapter:wt})}),(0,r.jsx)("div",{className:"flex-1 overflow-auto shrink-0",children:(0,r.jsx)(qt,{allowExpand:!1,output:ot,className:"output-area",cellId:f,stale:!1,loading:!1})}),(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:(0,r.jsx)(Gt,{consoleOutputs:it,className:"overflow-auto",stale:!1,cellName:"_",onSubmitDebugger:dt.NOOP,cellId:f,debuggerActive:!1})})]}),h;t[35]!==R||t[36]!==g||t[37]!==o||t[38]!==a?(h=()=>o?(0,r.jsx)("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:(0,r.jsx)("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((W,Nt)=>(0,r.jsx)("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>R(W),children:(0,r.jsx)(D.Suspense,{children:(0,r.jsx)(Yt,{language:"python",theme:a,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:W.trim(),editable:!1,readOnly:!0})})},Nt))})}):null,t[35]=R,t[36]=g,t[37]=o,t[38]=a,t[39]=h):h=t[39];let kt=h;k="flex flex-col h-full overflow-hidden divide-y",t[40]===Symbol.for("react.memo_cache_sentinel")?(s=Lt.create(f),c=(0,r.jsx)("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),t[40]=s,t[41]=c):(s=t[40],c=t[41]);let G;t[42]===Symbol.for("react.memo_cache_sentinel")?(G=Xt("cell.run"),t[42]=G):G=t[42];let U;t[43]===Symbol.for("react.memo_cache_sentinel")?(U=(0,r.jsx)(Wt,{color:"var(--grass-11)",size:16}),t[43]=U):U=t[43];let C;t[44]!==j||t[45]!==o?(C=(0,r.jsx)(Z,{content:G,children:(0,r.jsx)(Y,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:U})}),t[44]=j,t[45]=o,t[46]=C):C=t[46];let B;t[47]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)(ut,{size:16}),t[47]=B):B=t[47];let S;t[48]!==P||t[49]!==o?(S=(0,r.jsx)(Z,{content:"Clear code and outputs",children:(0,r.jsx)(Y,{disabled:o,size:"xs",variant:"text",onClick:P,children:B})}),t[48]=P,t[49]=o,t[50]=S):S=t[50];let J;t[51]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)(Bt,{size:16}),t[51]=J):J=t[51];let z;t[52]!==E||t[53]!==o?(z=(0,r.jsx)(tr,{children:(0,r.jsx)(Z,{content:"Insert code",children:(0,r.jsx)(Y,{disabled:o,size:"xs",variant:"text",onClick:E,children:J})})}),t[52]=E,t[53]=o,t[54]=z):z=t[54];let O;t[55]===v?O=t[56]:(O=(v==="running"||v==="queued")&&(0,r.jsx)(Qt,{className:"inline",size:"small"}),t[55]=v,t[56]=O);let K;t[57]===Symbol.for("react.memo_cache_sentinel")?(K=(0,r.jsx)("div",{className:"flex-1"}),t[57]=K):K=t[57];let pt=o&&"bg-(--sky-3) rounded-none",I;t[58]===pt?I=t[59]:(I=Ht(pt),t[58]=pt,t[59]=I);let A;t[60]!==o||t[61]!==l?(A=()=>l(!o),t[60]=o,t[61]=l,t[62]=A):A=t[62];let at=g.length===0,Q;t[63]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,r.jsx)(xt,{size:16}),t[63]=Q):Q=t[63];let L;t[64]!==I||t[65]!==A||t[66]!==at?(L=(0,r.jsx)(Z,{content:"Toggle history",children:(0,r.jsx)(Y,{size:"xs",variant:"text",className:I,onClick:A,disabled:at,children:Q})}),t[64]=I,t[65]=A,t[66]=at,t[67]=L):L=t[67],t[68]!==C||t[69]!==S||t[70]!==z||t[71]!==O||t[72]!==L?(n=(0,r.jsxs)("div",{className:"flex items-center shrink-0",children:[C,S,z,O,K,L]}),t[68]=C,t[69]=S,t[70]=z,t[71]=O,t[72]=L,t[73]=n):n=t[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=kt(),t[14]=i,t[15]=it,t[16]=P,t[17]=E,t[18]=j,t[19]=R,t[20]=g,t[21]=o,t[22]=et,t[23]=ot,t[24]=l,t[25]=v,t[26]=a,t[27]=e,t[28]=b,t[29]=y,t[30]=w,t[31]=k,t[32]=s,t[33]=c,t[34]=n}else b=t[28],y=t[29],w=t[30],k=t[31],s=t[32],c=t[33],n=t[34];let N;t[74]!==b||t[75]!==y||t[76]!==w?(N=(0,r.jsxs)("div",{className:y,children:[w,b]}),t[74]=b,t[75]=y,t[76]=w,t[77]=N):N=t[77];let V;return t[78]!==N||t[79]!==k||t[80]!==s||t[81]!==c||t[82]!==n?(V=(0,r.jsxs)("div",{className:k,id:s,children:[c,n,N]}),t[78]=N,t[79]=k,t[80]=s,t[81]=c,t[82]=n,t[83]=V):V=t[83],V};let lt;lt=X(nt()),ft=()=>{let t=(0,lt.c)(1),m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(yt,{}),t[0]=m):m=t[0],m}});export{rr as __tla,ft as default};
