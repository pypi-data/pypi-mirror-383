import{s as E}from"./chunk-DZLz74EQ.js";import{i as fe,n as ee}from"./react-7g8sREeT.js";import{t as ue}from"./react-BcIddLXZ.js";import{At as xe,Lr as ge,Nt as ye,Ot as je,Sn as te,mt as be,wr as re}from"./cells-Cu8VFzqb.js";import"./react-dom-D6bRRS5R.js";import"./zod-BEi78Y5d.js";import{n as oe,t as ve}from"./jsx-runtime-DvsdsEjx.js";import"./_Uint8Array-CPNtPV0k.js";import"./_baseIsEqual-Colb33IN.js";import"./_arrayReduce-BnF2698I.js";import"./toNumber-D8Yr4jg3.js";import"./toInteger-HqbAY1oN.js";import"./isArrayLikeObject-VZQcF0wU.js";import"./_getTag-DAtegGfi.js";import"./_toKey-ySt2z-83.js";import"./memoize-Dkaig2Zu.js";import"./get-DpPiA0nD.js";import"./merge-BK4jEs5n.js";import"./_baseSlice-Uxm09S3C.js";import{H as ke,R as we,W as ie,q as T,z as Ne}from"./config-qe5QH71b.js";import"./_hasUnicode-CGNOqZbu.js";import"./capitalize-CPbjsThc.js";import"./_baseProperty-DbWSe5Dg.js";import"./now-r4Qe1IPI.js";import"./debounce-DI2W_mLY.js";import"./Deferred-BaXvZ7xh.js";import"./client-BY3CsJK7.js";import{n as _e}from"./Logger-BYf_jckC.js";import{a as Se}from"./hotkeys-B6RmRq9l.js";import"./useHotkey-BSkOh6WM.js";import{t as ze}from"./ErrorBoundary-Dx9Sfc05.js";import"./dist-MGl6rJvQ.js";import{t as Ce}from"./cn-BXZDj0q7.js";import"./dist-CjbXXQXG.js";import"./useEventListener-C9Ldphl0.js";import"./events-DeIoPUd7.js";import{t as J}from"./button-CtXpvmEK.js";import"./dist--Nd6X-oZ.js";import"./dist-BEN0CeKa.js";import"./once-CcEB5YYF.js";import"./documentation-CMlrFSRf.js";import"./createReducer-BYK7466H.js";import{a as U}from"./key-Bbtykojp.js";import"./preload-helper-VwE_myu3.js";import"./dist-DhHwnpP4.js";import"./dist-DbZtNFqr.js";import"./dist-h7riDns7.js";import"./dist-2yVzxPX_.js";import"./dist-D3mqw5EG.js";import"./dist-DucN38iS.js";import"./stex-yqX35Zwf.js";import"./uuid-BGl6uOso.js";import{t as Me}from"./use-toast-DkqvBA-s.js";import"./main-Bhvb2Udf.js";import"./marked.esm-5H8spd6k.js";import"./connection-EQhJerFr.js";import"./dist-Bv1qgN6C.js";import"./useTheme-Dr_rjc9V.js";import{t as A}from"./createLucideIcon-D2ExLlYe.js";import{t as Ie}from"./activity-DzHOnfji.js";import"./ai-model-dropdown-DU0ttyiW.js";import"./state-DEI8KWfC.js";import"./type-I5fspO4n.js";import{t as De}from"./chart-no-axes-column-CgNrSvQ5.js";import"./check-DdKonHHo.js";import{_ as Pe}from"./select-BdzgTzLI.js";import{t as Oe}from"./chevron-right-CVxEz2FM.js";import{f as Y,p as Re,r as Te,t as ae}from"./maps-DAonNwtj.js";import"./plug-DkNS0kVV.js";import{t as Ae}from"./circle-play-BYYeRvQk.js";import"./toDate-C2WSQeY2.js";import"./circle-x-CmH9EBUz.js";import{a as We,p as Fe,r as Le,t as He}from"./dropdown-menu-PEnZ8LxK.js";import"./copy-DJ9e8Pye.js";import{r as $e,t as Ee}from"./types-CcIvwaL6.js";import"./file-video-camera-BqcD5MfQ.js";import{t as se}from"./file-text-3f_wgMUn.js";import{t as Ue}from"./file-Bpc-ngJ5.js";import{i as Ve,n as qe,r as Be,t as Je}from"./youtube-ULv526h5.js";import{t as Ye}from"./link-BM2JGWYr.js";import{t as G}from"./spinner-DHqQ9skH.js";import"./plus-BYy55gYw.js";import{n as Ge,r as Qe,t as Ke}from"./app-config-button-CFamua4i.js";import{t as Xe}from"./refresh-ccw-DNjGx4Up.js";import"./refresh-cw-BFu7py5Y.js";import{Rt as Ze,r as et}from"./input-DYl9pNu1.js";import"./settings-oUlvFQrI.js";import"./form-gMwrtU1E.js";import"./trash-2-DeJYdpuY.js";import"./VisuallyHidden-bd-Tbs1K.js";import"./useNonce-BUl5Llhg.js";import"./badge-nqYSoYtT.js";import"./namespace-2k7Gzn5q.js";import{t as tt}from"./tooltip-Cm87HNT4.js";import"./useLifecycle-j98D-0aE.js";import"./menu-items-DPQQViy7.js";import"./fullscreen-BhmcNC-V.js";import"./tslib.es6-DAgqUqkS.js";import{i as rt}from"./dates-f-wNhqXF.js";import"./en-US-_jwQtbkE.js";import"./isValid-CNjslCqG.js";import{o as ot}from"./alert-dialog-DIUeqg2n.js";import"./dialog-C4GYD4Bo.js";import{r as it}from"./useNumberFormatter-CUi4J2hW.js";import"./shim-hwMIgJYi.js";import"./useEvent-B3kxZodb.js";import"./useDebounce-gJnKHNBL.js";import{n as at}from"./ImperativeModal-C6f_jDAq.js";import{n as st}from"./errors-D1Xk3YjQ.js";import"./copy-6XLAzOKk.js";import"./accordion-CPqOakzJ.js";import"./extends-DKrCUUPF.js";import"./objectWithoutPropertiesLoose-CVBOK1rR.js";import{t as lt}from"./tree-CGqmB6xq.js";import{n as Q,t as nt}from"./useAsyncData-iYSjGtJ5.js";import{t as mt}from"./error-banner-BfzCrxO_.js";import"./kbd-CkSxpKTD.js";import"./renderShortcut-B1ylL9Te.js";import{t as ct}from"./label-DC3yE-_I.js";import"./popover-BjBeNDFd.js";import"./fast-deep-equal-DYEF_O4u.js";import{t as K}from"./icons-nXTLRJby.js";import"./table-X8jS2AMG.js";import"./links-6zIklBF3.js";import"./tabs-BpBxquLZ.js";import"./textarea-CGw8REN4.js";import"./switch-BPAiB5JH.js";import{t as dt}from"./links-BOS6ZDes.js";import"./Inputs--Ss1JSwi.js";import{t as pt}from"./useInterval-BhJ27W0u.js";var ht=A("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),ft=A("book-text",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]),ut=A("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),xt=A("orbit",[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]]),gt=A("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),D=E(ue()),X=E(oe()),o=E(ve()),yt={intro:["Introduction",ht,"Get started with marimo basics"],dataflow:["Dataflow",Ie,"Learn how cells interact with each other"],ui:["UI Elements",gt,"Create interactive UI components"],markdown:["Markdown",se,"Format text with parameterized markdown"],plots:["Plots",De,"Create interactive visualizations"],sql:["SQL",je,"Query databases directly in marimo"],layout:["Layout",Be,"Customize the layout of your cells' output"],fileformat:["File format",Ue,"Understand marimo's pure-Python file format"],"for-jupyter-users":["For Jupyter users",xt,"Transiting from Jupyter to marimo"],"markdown-format":["Markdown format",K,"Using marimo to edit markdown files"]};const jt=()=>{let e=(0,X.c)(6),{openTutorial:t}=U(),r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(ut,{className:"w-4 h-4 mr-2"}),e[0]=r):r=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(Fe,{asChild:!0,children:(0,o.jsxs)(J,{"data-testid":"open-tutorial-button",size:"xs",variant:"outline",children:[r,"Tutorials",(0,o.jsx)(Te,{className:"w-3 h-3 ml-1"})]})}),e[1]=a):a=e[1];let i;e[2]===t?i=e[3]:(i=Se.entries(yt).map(s=>{let[m,d]=s,[c,p,h]=d;return(0,o.jsxs)(We,{onSelect:async()=>{let n=await t({tutorialId:m});n&&dt(n.path)},children:[(0,o.jsx)(p,{strokeWidth:1.5,className:"w-4 h-4 mr-3 self-start mt-1.5 text-muted-foreground"}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("span",{children:c}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground pr-1",children:h})]})})]},m)}),e[2]=t,e[3]=i);let l;return e[4]===i?l=e[5]:(l=(0,o.jsxs)(He,{children:[a,(0,o.jsx)(Le,{side:"bottom",align:"end",className:"no-print",children:i})]}),e[4]=i,e[5]=l),l};var bt=[{title:"Documentation",description:"Official marimo documentation and API reference",icon:ye,url:T.docsPage},{title:"GitHub",description:"View source code, report issues, or contribute",icon:Ve,url:T.githubPage},{title:"Community",description:"Join the marimo Discord community",icon:qe,url:T.discordLink},{title:"YouTube",description:"Watch tutorials and demos",icon:Je,url:T.youtube},{title:"Changelog",description:"See what's new in marimo",icon:se,url:T.releasesPage}];const vt=()=>{let e=(0,X.c)(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(V,{Icon:Ye,children:"Resources"}),e[0]=t):t=e[0];let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[t,(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:bt.map(kt)})]}),e[1]=r):r=e[1],r},V=e=>{let t=(0,X.c)(8),{Icon:r,control:a,children:i}=e,l;t[0]===r?l=t[1]:(l=(0,o.jsx)(r,{className:"h-5 w-5"}),t[0]=r,t[1]=l);let s;t[2]!==i||t[3]!==l?(s=(0,o.jsxs)("h2",{className:"flex items-center gap-2 text-xl font-semibold text-muted-foreground select-none",children:[l,i]}),t[2]=i,t[3]=l,t[4]=s):s=t[4];let m;return t[5]!==a||t[6]!==s?(m=(0,o.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[s,a]}),t[5]=a,t[6]=s,t[7]=m):m=t[7],m};function kt(e){return(0,o.jsxs)("a",{href:e.url,target:"_blank",className:"flex items-start gap-3 py-3 px-3 rounded-lg border hover:bg-accent/20 transition-colors shadow-xs",children:[(0,o.jsx)(e.icon,{className:"w-5 h-5 mt-1.5 text-primary"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium",children:e.title}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.title)}const le=D.createContext({runningNotebooks:new Map,setRunningNotebooks:_e.NOOP}),ne=D.createContext(""),wt=re("marimo:home:include-markdown",!1,void 0,{getOnInit:!0}),me=re("marimo:home:expanded-folders",{},void 0,{getOnInit:!0});var I=E(oe());function ce(e){return`${we()}-${encodeURIComponent(e)}`}var Nt=()=>{let e=(0,I.c)(56),[t,r]=(0,D.useState)(0),{getRecentFiles:a,getRunningNotebooks:i}=U(),l;e[0]===a?l=e[1]:(l=()=>a(),e[0]=a,e[1]=l);let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[2]=s):s=e[2];let m=Q(l,s),d,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{r(Ot)},c={delayMs:1e4,whenVisible:!0},e[3]=d,e[4]=c):(d=e[3],c=e[4]),pt(d,c);let p;e[5]===i?p=e[6]:(p=async()=>{let R=await i();return ae.keyBy(R.files,Rt)},e[5]=i,e[6]=p);let h;e[7]===t?h=e[8]:(h=[t],e[7]=t,e[8]=h);let n=Q(p,h),f,x,g,u,y,j,k,b,w,_,N,z,S;if(e[9]!==m||e[10]!==n){w=Symbol.for("react.early_return_sentinel");e:{let R=nt(m,n);if(R.error)throw R.error;let Z=R.data;if(!Z){let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=(0,o.jsx)(G,{centered:!0,size:"xlarge"}),e[24]=$):$=e[24],w=$;break e}let[he,q]=Z;u=he,g=D.Suspense,x=le,k={runningNotebooks:q,setRunningNotebooks:n.setData};let L,H;e[25]===Symbol.for("react.memo_cache_sentinel")?(L=(0,o.jsx)(jt,{}),H=(0,o.jsx)(Ke,{showAppConfig:!1}),e[25]=L,e[26]=H):(L=e[25],H=e[26]);let B=`This will shutdown the notebook server and terminate all running notebooks (${q.size}). You'll lose all data that's in memory.`;e[27]===B?b=e[28]:(b=(0,o.jsxs)("div",{className:"absolute top-3 right-5 flex gap-3 z-50",children:[L,H,(0,o.jsx)(Ge,{description:B})]}),e[27]=B,e[28]=b),z="flex flex-col gap-6 max-w-6xl container pt-5 pb-20 z-10",e[29]===Symbol.for("react.memo_cache_sentinel")?(S=(0,o.jsx)("img",{src:"logo.png",alt:"marimo logo",className:"w-48 mb-2"}),y=(0,o.jsx)(Dt,{}),j=(0,o.jsx)(vt,{}),e[29]=y,e[30]=j,e[31]=S):(y=e[29],j=e[30],S=e[31]),f=de,e[32]===Symbol.for("react.memo_cache_sentinel")?(_=(0,o.jsx)(V,{Icon:Ae,children:"Running notebooks"}),e[32]=_):_=e[32],N=[...q.values()]}e[9]=m,e[10]=n,e[11]=f,e[12]=x,e[13]=g,e[14]=u,e[15]=y,e[16]=j,e[17]=k,e[18]=b,e[19]=w,e[20]=_,e[21]=N,e[22]=z,e[23]=S}else f=e[11],x=e[12],g=e[13],u=e[14],y=e[15],j=e[16],k=e[17],b=e[18],w=e[19],_=e[20],N=e[21],z=e[22],S=e[23];if(w!==Symbol.for("react.early_return_sentinel"))return w;let C;e[33]!==f||e[34]!==_||e[35]!==N?(C=(0,o.jsx)(f,{header:_,files:N}),e[33]=f,e[34]=_,e[35]=N,e[36]=C):C=e[36];let v;e[37]===Symbol.for("react.memo_cache_sentinel")?(v=(0,o.jsx)(V,{Icon:xe,children:"Recent notebooks"}),e[37]=v):v=e[37];let M;e[38]===u.files?M=e[39]:(M=(0,o.jsx)(de,{header:v,files:u.files}),e[38]=u.files,e[39]=M);let W;e[40]===Symbol.for("react.memo_cache_sentinel")?(W=(0,o.jsx)(ze,{children:(0,o.jsx)(_t,{})}),e[40]=W):W=e[40];let P;e[41]!==y||e[42]!==j||e[43]!==C||e[44]!==M||e[45]!==z||e[46]!==S?(P=(0,o.jsxs)("div",{className:z,children:[S,y,j,C,M,W]}),e[41]=y,e[42]=j,e[43]=C,e[44]=M,e[45]=z,e[46]=S,e[47]=P):P=e[47];let O;e[48]!==x||e[49]!==k||e[50]!==b||e[51]!==P?(O=(0,o.jsxs)(x,{value:k,children:[b,P]}),e[48]=x,e[49]=k,e[50]=b,e[51]=P,e[52]=O):O=e[52];let F;return e[53]!==g||e[54]!==O?(F=(0,o.jsx)(g,{children:O}),e[53]=g,e[54]=O,e[55]=F):F=e[55],F},_t=()=>{let e=(0,I.c)(41),{getWorkspaceFiles:t}=U(),[r,a]=ee(wt),[i,l]=(0,D.useState)(""),s;e[0]!==t||e[1]!==r?(s=()=>t({includeMarkdown:r}),e[0]=t,e[1]=r,e[2]=s):s=e[2];let m;e[3]===r?m=e[4]:(m=[r],e[3]=r,e[4]=m);let{isPending:d,data:c,error:p,isFetching:h,refetch:n}=Q(s,m);if(d){let v;return e[5]===Symbol.for("react.memo_cache_sentinel")?(v=(0,o.jsx)(G,{centered:!0,size:"xlarge",className:"mt-6"}),e[5]=v):v=e[5],v}if(p){let v;e[6]===p?v=e[7]:(v=st(p),e[6]=p,e[7]=v);let M;return e[8]===v?M=e[9]:(M=(0,o.jsx)(mt,{kind:"danger",className:"rounded p-4",children:v}),e[8]=v,e[9]=M),M}let f,x;e[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(Ze,{size:13}),x=v=>l(v.target.value),e[10]=f,e[11]=x):(f=e[10],x=e[11]);let g;e[12]===i?g=e[13]:(g=(0,o.jsx)(et,{id:"search",value:i,icon:f,onChange:x,placeholder:"Search",className:"mb-0 border-border"}),e[12]=i,e[13]=g);let u;e[14]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)(St,{}),e[14]=u):u=e[14];let y;e[15]===a?y=e[16]:(y=v=>a(!!v),e[15]=a,e[16]=y);let j;e[17]!==r||e[18]!==y?(j=(0,o.jsx)(be,{"data-testid":"include-markdown-checkbox",id:"include-markdown",checked:r,onCheckedChange:y}),e[17]=r,e[18]=y,e[19]=j):j=e[19];let k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=(0,o.jsx)(ct,{htmlFor:"include-markdown",children:"Include markdown"}),e[20]=k):k=e[20];let b;e[21]!==g||e[22]!==j?(b=(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[g,u,j,k]}),e[21]=g,e[22]=j,e[23]=b):b=e[23];let w;e[24]===n?w=e[25]:(w=(0,o.jsx)(Xe,{className:"w-4 h-4 ml-1 cursor-pointer opacity-70 hover:opacity-100",onClick:()=>n()}),e[24]=n,e[25]=w);let _;e[26]===h?_=e[27]:(_=h&&(0,o.jsx)(G,{size:"small"}),e[26]=h,e[27]=_);let N;e[28]!==w||e[29]!==_||e[30]!==b?(N=(0,o.jsxs)(V,{Icon:ft,control:b,children:["Workspace",w,_]}),e[28]=w,e[29]=_,e[30]=b,e[31]=N):N=e[31];let z;e[32]!==i||e[33]!==c.files?(z=(0,o.jsx)("div",{className:"flex flex-col divide-y divide-(--slate-3) border rounded overflow-hidden max-h-192 overflow-y-auto shadow-sm bg-background",children:(0,o.jsx)(zt,{searchText:i,files:c.files})}),e[32]=i,e[33]=c.files,e[34]=z):z=e[34];let S;e[35]!==N||e[36]!==z?(S=(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[N,z]}),e[35]=N,e[36]=z,e[37]=S):S=e[37];let C;return e[38]!==S||e[39]!==c.root?(C=(0,o.jsx)(ne,{value:c.root,children:S}),e[38]=S,e[39]=c.root,e[40]=C):C=e[40],C},St=()=>{let e=(0,I.c)(5),t=fe(me),r;e[0]===t?r=e[1]:(r=()=>{t({})},e[0]=t,e[1]=r);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(Re,{className:"w-4 h-4 mr-1"}),e[2]=a):a=e[2];let i;return e[3]===r?i=e[4]:(i=(0,o.jsxs)(J,{variant:"text",size:"sm",className:"h-fit hidden sm:flex",onClick:r,children:[a,"Collapse all"]}),e[3]=r,e[4]=i),i},zt=e=>{let t=(0,I.c)(12),{files:r,searchText:a}=e,[i,l]=ee(me),s=Object.keys(i).length===0,m=(0,D.useRef)(void 0),d,c;if(t[0]===s?(d=t[1],c=t[2]):(d=()=>{var n;s&&((n=m.current)==null||n.closeAll())},c=[s],t[0]=s,t[1]=d,t[2]=c),(0,D.useEffect)(d,c),r.length===0){let n;return t[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("div",{className:"flex flex-col px-5 py-10 items-center justify-center",children:(0,o.jsx)("p",{className:"text-center text-muted-foreground",children:"No files in this workspace"})}),t[3]=n):n=t[3],n}let p;t[4]!==i||t[5]!==l?(p=async n=>{let f=i[n]??!1;l({...i,[n]:!f})},t[4]=i,t[5]=l,t[6]=p):p=t[6];let h;return t[7]!==r||t[8]!==i||t[9]!==a||t[10]!==p?(h=(0,o.jsx)(lt,{ref:m,width:"100%",height:500,searchTerm:a,className:"h-full",idAccessor:Tt,data:r,openByDefault:!1,initialOpenState:i,onToggle:p,padding:5,rowHeight:35,indent:15,overscanCount:1e3,renderCursor:At,disableDrop:!0,disableDrag:!0,disableEdit:!0,disableMultiSelection:!0,children:Ct}),t[7]=r,t[8]=i,t[9]=a,t[10]=p,t[11]=h):h=t[11],h},Ct=e=>{let t=(0,I.c)(19),{node:r,style:a}=e,i=r.data.isDirectory?"directory":$e(r.data.name),l=Ee[i],s;t[0]===l?s=t[1]:(s=(0,o.jsx)(l,{className:"w-5 h-5 shrink-0",strokeWidth:1.5}),t[0]=l,t[1]=s);let m=s,d=(0,D.use)(ne),c;t[2]!==m||t[3]!==r.data.isDirectory||t[4]!==r.data.name||t[5]!==r.data.path||t[6]!==d?(c=()=>{if(r.data.isDirectory)return(0,o.jsxs)("span",{className:"flex items-center pl-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l flex-1 overflow-hidden h-full pr-3 gap-2",children:[m,r.data.name]});let u=r.data.path.startsWith(d)&&te.isAbsolute(r.data.path)?te.rest(r.data.path,d):r.data.path,y=u.endsWith(".md")||u.endsWith(".qmd");return(0,o.jsxs)("a",{className:"flex items-center pl-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l flex-1 overflow-hidden h-full pr-3 gap-2",href:ie(`?file=${u}`).toString(),target:ce(u),children:[m,(0,o.jsxs)("span",{className:"flex-1 overflow-hidden text-ellipsis",children:[r.data.name,y&&(0,o.jsx)(K,{className:"ml-2 inline opacity-80"})]}),(0,o.jsx)(pe,{filePath:u}),(0,o.jsx)(Y,{size:20,className:"group-hover:opacity-100 opacity-0 text-primary"})]})},t[2]=m,t[3]=r.data.isDirectory,t[4]=r.data.name,t[5]=r.data.path,t[6]=d,t[7]=c):c=t[7];let p=c,h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h=Ce("flex items-center cursor-pointer ml-1 text-muted-foreground whitespace-nowrap group h-full"),t[8]=h):h=t[8];let n,f;t[9]===r?(n=t[10],f=t[11]):(n=u=>{u.stopPropagation(),r.data.isDirectory&&r.toggle()},f=(0,o.jsx)(Mt,{node:r}),t[9]=r,t[10]=n,t[11]=f);let x;t[12]===p?x=t[13]:(x=p(),t[12]=p,t[13]=x);let g;return t[14]!==a||t[15]!==n||t[16]!==f||t[17]!==x?(g=(0,o.jsxs)("div",{style:a,className:h,onClick:n,children:[f,x]}),t[14]=a,t[15]=n,t[16]=f,t[17]=x,t[18]=g):g=t[18],g},Mt=e=>{let t=(0,I.c)(3),{node:r}=e;if(!r.data.isDirectory){let i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)("span",{className:"w-5 h-5 shrink-0"}),t[0]=i):i=t[0],i}let a;return t[1]===r.isOpen?a=t[2]:(a=r.isOpen?(0,o.jsx)(Pe,{className:"w-5 h-5 shrink-0"}):(0,o.jsx)(Oe,{className:"w-5 h-5 shrink-0"}),t[1]=r.isOpen,t[2]=a),a},de=e=>{let t=(0,I.c)(7),{header:r,files:a}=e;if(a.length===0)return null;let i;t[0]===a?i=t[1]:(i=a.map(Wt),t[0]=a,t[1]=i);let l;t[2]===i?l=t[3]:(l=(0,o.jsx)("div",{className:"flex flex-col divide-y divide-(--slate-3) border rounded overflow-hidden max-h-192 overflow-y-auto shadow-sm bg-background",children:i}),t[2]=i,t[3]=l);let s;return t[4]!==r||t[5]!==l?(s=(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[r,l]}),t[4]=r,t[5]=l,t[6]=s):s=t[6],s},It=e=>{let t=(0,I.c)(41),{file:r}=e,{locale:a}=it(),i;t[0]===r.path?i=t[1]:(i=Ne(r.path),t[0]=r.path,t[1]=i);let l=i,s,m,d,c;if(t[2]!==r.initializationId||t[3]!==r.path||t[4]!==l){let _=ie(l?`?file=${r.initializationId}&session_id=${r.path}`:`?file=${r.path}`),N;t[9]===r.path?N=t[10]:(N=r.path.endsWith(".md"),t[9]=r.path,t[10]=N),s=N,m="py-1.5 px-4 hover:bg-(--blue-2) hover:text-primary transition-all duration-300 cursor-pointer group relative flex gap-4 items-center",d=r.path,c=_.toString(),t[2]=r.initializationId,t[3]=r.path,t[4]=l,t[5]=s,t[6]=m,t[7]=d,t[8]=c}else s=t[5],m=t[6],d=t[7],c=t[8];let p=r.initializationId||r.path,h;t[11]===p?h=t[12]:(h=ce(p),t[11]=p,t[12]=h);let n;t[13]===s?n=t[14]:(n=s&&(0,o.jsx)("span",{className:"opacity-80",children:(0,o.jsx)(K,{})}),t[13]=s,t[14]=n);let f;t[15]!==r.name||t[16]!==n?(f=(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[r.name,n]}),t[15]=r.name,t[16]=n,t[17]=f):f=t[17];let x;t[18]===r.path?x=t[19]:(x=(0,o.jsx)("p",{title:r.path,className:"text-sm text-muted-foreground overflow-hidden whitespace-nowrap text-ellipsis",children:r.path}),t[18]=r.path,t[19]=x);let g;t[20]!==f||t[21]!==x?(g=(0,o.jsxs)("div",{className:"flex flex-col justify-between flex-1",children:[f,x]}),t[20]=f,t[21]=x,t[22]=g):g=t[22];let u;t[23]===r.path?u=t[24]:(u=(0,o.jsx)("div",{children:(0,o.jsx)(pe,{filePath:r.path})}),t[23]=r.path,t[24]=u);let y;t[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,o.jsx)(Y,{size:20,className:"group-hover:opacity-100 opacity-0 transition-all duration-300 text-primary"}),t[25]=y):y=t[25];let j;t[26]===u?j=t[27]:(j=(0,o.jsxs)("div",{className:"flex gap-3 items-center",children:[u,y]}),t[26]=u,t[27]=j);let k;t[28]!==r.lastModified||t[29]!==a?(k=!!r.lastModified&&(0,o.jsx)("div",{className:"text-xs text-muted-foreground opacity-80",children:rt(r.lastModified*1e3,a)}),t[28]=r.lastModified,t[29]=a,t[30]=k):k=t[30];let b;t[31]!==j||t[32]!==k?(b=(0,o.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[j,k]}),t[31]=j,t[32]=k,t[33]=b):b=t[33];let w;return t[34]!==g||t[35]!==b||t[36]!==m||t[37]!==d||t[38]!==c||t[39]!==h?(w=(0,o.jsxs)("a",{className:m,href:c,target:h,children:[g,b]},d),t[34]=g,t[35]=b,t[36]=m,t[37]=d,t[38]=c,t[39]=h,t[40]=w):w=t[40],w},pe=e=>{let t=(0,I.c)(10),{filePath:r}=e,{openConfirm:a,closeModal:i}=at(),{shutdownSession:l}=U(),{runningNotebooks:s,setRunningNotebooks:m}=(0,D.use)(le);if(!s.has(r))return null;let d;t[0]!==i||t[1]!==r||t[2]!==a||t[3]!==s||t[4]!==m||t[5]!==l?(d=h=>{h.stopPropagation(),h.preventDefault(),a({title:"Shutdown",description:"This will terminate the Python kernel. You'll lose all data that's in memory.",variant:"destructive",confirmAction:(0,o.jsx)(ot,{onClick:()=>{let n=s.get(r);ge(n==null?void 0:n.sessionId),l({sessionId:n.sessionId}).then(f=>{m(ae.keyBy(f.files,Ft))}),i(),Me({description:"Notebook has been shutdown."})},"aria-label":"Confirm Shutdown",children:"Shutdown"})})},t[0]=i,t[1]=r,t[2]=a,t[3]=s,t[4]=m,t[5]=l,t[6]=d):d=t[6];let c;t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,o.jsx)(Qe,{size:14}),t[7]=c):c=t[7];let p;return t[8]===d?p=t[9]:(p=(0,o.jsx)(tt,{content:"Shutdown",children:(0,o.jsx)(J,{size:"icon",variant:"outline",className:"opacity-80 hover:opacity-100 hover:bg-accent text-destructive border-destructive hover:border-destructive hover:text-destructive bg-background hover:bg-(--red-1)",onClick:d,children:c})}),t[8]=d,t[9]=p),p},Dt=()=>{let e=(0,I.c)(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=ke(),e[0]=t):t=e[0];let r=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)("h2",{className:"text-lg font-semibold",children:"Create a new notebook"}),e[1]=a):a=e[1];let i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsxs)("a",{className:`relative rounded-lg p-6 group
      text-primary hover:bg-(--blue-2) shadow-md-solid shadow-accent border bg-(--blue-1)
      transition-all duration-300 cursor-pointer
      `,href:r,target:"_blank",rel:"noreferrer",children:[a,(0,o.jsx)("div",{className:"group-hover:opacity-100 opacity-0 absolute right-5 top-0 bottom-0 rounded-lg flex items-center justify-center transition-all duration-300",children:(0,o.jsx)(Y,{size:24})})]}),e[2]=i):i=e[2],i},Pt=Nt;function Ot(e){return e+1}function Rt(e){return e.path}function Tt(e){return e.path}function At(){return null}function Wt(e){return(0,o.jsx)(It,{file:e},e.path)}function Ft(e){return e.path}export{Pt as default};
