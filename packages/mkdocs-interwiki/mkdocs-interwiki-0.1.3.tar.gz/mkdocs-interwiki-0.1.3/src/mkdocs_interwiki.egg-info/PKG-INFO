Metadata-Version: 2.1
Name: mkdocs-interwiki
Version: 0.1.3
Summary: DokuWiki-like InterWiki links for MkDocs
Home-page: https://github.com/yourname/mkdocs-interwiki
Author: Gobidesert
Author-email: gobidesert.mf@gmail.com
License: MIT
Project-URL: Source, https://github.com/yourname/mkdocs-interwiki
Project-URL: Tracker, https://github.com/yourname/mkdocs-interwiki/issues
Keywords: mkdocs,markdown,interwiki,dokuwiki,plugin
Platform: UNKNOWN
Classifier: Development Status :: 3 - Alpha
Classifier: Framework :: MkDocs
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Documentation
Classifier: Topic :: Text Processing :: Markup
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE

# mkdocs-interwiki ðŸ§­

DokuWiki-style **InterWiki** links for MkDocs â€” now with emoji icons!  
Create shorthand cross-site links such as `[[wp>Python|Wikipedia: Python]]` or `[[gh>mkdocs/mkdocs]]`, with configurable emojis like ðŸ”— or `:interwiki-github:`.

---

## âœ¨ Features

- âœ… DokuWiki-style syntax: `[[prefix>target|Label]]`
- âœ… Configurable link templates per prefix
- âœ… Optional emoji icons before or after each link
- âœ… Safe to use in Markdown tables (no `|` parsing conflicts)
- âœ… Per-page override of extra variables (via front matter)
- âœ… Works perfectly with **MkDocs Material** and **pymdownx.emoji**

---

## ðŸš€ Installation

```bash
pip install mkdocs-interwiki
````

Or from source:

```bash
git clone https://github.com/yourname/mkdocs-interwiki.git
cd mkdocs-interwiki
pip install -e .
```

---

## âš™ï¸ Configuration

In your **`mkdocs.yml`**:

```yaml
plugins:
  - search
  - interwiki:
      maps:
        wp: "https://en.wikipedia.org/wiki/{target}"
        gh: "https://github.com/{target}"
        issue: "https://github.com/{repo}/issues/{target}"
      extra:
        repo: "myorg/myrepo"
      preprocess: true          # (default) prevent '|' from breaking tables
      emoji_default: "ðŸ”—"       # shown before every link unless overridden
      emoji_map:
        wp: "ðŸ“˜"
        gh: ":interwiki-github:"
        issue: "ðŸž"
      emoji_position: before    # before | after | none
```

---

## ðŸ§© Writing Links

### Basic examples

```markdown
See [[wp>Python|Wikipedia: Python]] and [[gh>mkdocs/mkdocs]].

Open issue [[issue>1234|Bug #1234]].
```

These render as:

> ðŸ“˜ [Wikipedia: Python](https://en.wikipedia.org/wiki/Python)
> :interwiki-github: [mkdocs/mkdocs](https://github.com/mkdocs/mkdocs)
> ðŸž [Bug #1234](https://github.com/myorg/myrepo/issues/1234)

*(Emoji rendering depends on configuration â€” see below.)*

---

## ðŸŽ¨ Emoji options

### ðŸ”¹ 1. Default emoji

Set a single `emoji_default` to appear before every link.

```yaml
emoji_default: "ðŸ”—"
emoji_position: before
```

### ðŸ”¹ 2. Per-prefix emoji

Use `emoji_map` to assign emojis for specific prefixes.

```yaml
emoji_map:
  wp: "ðŸ“˜"
  gh: ":interwiki-github:"    # uses pymdownx.emoji shortcode
```

### ðŸ”¹ 3. Emoji position

Place the emoji **before** or **after** the link text:

```yaml
emoji_position: after
```

Result:
`[Wikipedia: Python](...)` ðŸ”—

---

## ðŸ§± Using in tables

InterWiki links are automatically protected from Markdownâ€™s table parser,
so you can safely use them without escaping the `|` character:

```markdown
| Name | Source |
|------|---------|
| Python | [[wp>Python|Wikipedia]] |
| MkDocs | [[gh>mkdocs/mkdocs|GitHub]] |
```

---

## ðŸ§­ Per-page overrides

You can override variables (like `{repo}`) per page using front matter:

```yaml
---
title: Custom Repo Page
interwiki_extra:
  repo: "other-org/other-repo"
---
```

Then `[[issue>42]]` â†’ `https://github.com/other-org/other-repo/issues/42`.

---

## ðŸ’¡ Tips for MkDocs Material users

If you want emoji shortcodes like `:interwiki-github:` to render as icons,
enable `pymdownx.emoji` in your `markdown_extensions`:

```yaml
markdown_extensions:
  - pymdownx.emoji:
      emoji_index: !!python/name:materialx.emoji.twemoji
      emoji_generator: !!python/name:materialx.emoji.to_svg
```

Otherwise, use Unicode emojis (`ðŸ™`, `ðŸ“˜`, etc.) which always display.

---

## ðŸ§° Developer notes

* `maps` defines `{prefix}: {url-template}` pairs; `{target}` is required.
* `extra` provides custom template variables (`{repo}`, `{lang}`, etc.).
* `preprocess` is enabled by default to protect against table parsing.
* The extension runs safely alongside other Markdown extensions.

---

## ðŸ§ª Example preview

```yaml
plugins:
  - interwiki:
      maps:
        gh: "https://github.com/{target}"
        wp: "https://en.wikipedia.org/wiki/{target}"
      emoji_default: "ðŸ”—"
      emoji_map:
        gh: ":interwiki-github:"
        wp: "ðŸ“˜"
      emoji_position: before
```

```markdown
- [[gh>mkdocs/mkdocs|MkDocs repo]]
- [[wp>Python|Wikipedia: Python]]
```

Output (Material theme):

> :interwiki-github: [MkDocs repo](https://github.com/mkdocs/mkdocs)
> ðŸ“˜ [Wikipedia: Python](https://en.wikipedia.org/wiki/Python)

---

## ðŸ§¾ License

MIT License Â© 2025 Your Name

---

## ðŸ—“ï¸ Changelog

### 0.1.3

* Added emoji support (default + per-prefix + position)
* Works with `pymdownx.emoji` or plain Unicode
* Improved safety inside Markdown tables

### 0.1.1

* Fixed â€œunbalanced parenthesisâ€ regex issue
* Safer per-page variable overrides

### 0.1.0

* Initial release â€” DokuWiki-style InterWiki links


# Changelog

## 0.1.1 â€” 2025-10-05
- Fix: regex compiled without VERBOSE caused â€œunbalanced parenthesisâ€
- Improve: safer per-page overrides via extension handle instead of re-registering

## 0.1.0 â€” 2025-10-05
- Initial public release with DokuWiki-like `[[prefix>Target|Label]]` links
- Configurable `maps` and `extra` variables
- Per-page `interwiki_extra` overrides
- URL-encoding of `{target}`


