import{Z as z,Y as G,a as h,ae as J,j as y,s as j,v as V,a0 as W,a8 as Et,af as Ae,ag as St,ah as Pt,b as g,_ as te,t as Le,i as B,$ as fe,a3 as yt,ai as U,c as et,aj as $,ak as ze,al as Fe,d as Q,J as Mt,am as wt,C as kt,an as Rt}from"./mui-core-BlhCn0CU.js";import{E as Lt,c as w,u as R,S as vt,a as he,f as Ot}from"./mui-x-data-grid-CyvgF52i.js";function Dt(e){return z("MuiTimelineConnector",e)}G("MuiTimelineConnector",["root"]);const At=e=>{const{classes:t}=e;return W({root:["root"]},Dt,t)},Ft=j("span",{name:"MuiTimelineConnector",slot:"Root"})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),po=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTimelineConnector"}),{className:i,...u}=o,p=o,c=At(p);return y.jsx(Ft,{className:V(c.root,i),ownerState:p,ref:n,...u})}),Ie=h.createContext({});function Vt(e){return z("MuiTimelineContent",e)}const jt=G("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function Z(e){return e==="alternate-reverse"?"positionAlternateReverse":`position${Et(e)}`}const Nt=e=>{const{position:t,classes:n}=e,o={root:["root",Z(t)]};return W(o,Vt,n)},$t=j(Ae,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Z(n.position)]]}})(({ownerState:e})=>({flex:1,padding:"6px 16px",textAlign:"left",...e.position==="left"&&{textAlign:"right"}})),mo=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTimelineContent"}),{className:i,...u}=o,{position:p}=h.useContext(Ie),c={...o,position:p||"right"},d=Nt(c);return y.jsx($t,{component:"div",className:V(d.root,i),ownerState:c,ref:n,...u})});function Bt(e){return z("MuiTimelineOppositeContent",e)}const Ut=G("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),_t=e=>{const{position:t,classes:n}=e,o={root:["root",Z(t)]};return W(o,Bt,n)},Kt=j(Ae,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Z(n.position)]]}})(({ownerState:e})=>({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1,...e.position==="left"&&{textAlign:"left"}})),Ht=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTimelineOppositeContent"}),{className:i,...u}=o,{position:p}=h.useContext(Ie),c={...o,position:p||"left"},d=_t(c);return y.jsx(Kt,{component:"div",className:V(d.root,i),ownerState:c,ref:n,...u})});Ht.muiName="TimelineOppositeContent";function zt(e){return z("MuiTimelineItem",e)}G("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const Gt=e=>{const{position:t,classes:n,hasOppositeContent:o}=e,i={root:["root",Z(t),!o&&"missingOppositeContent"]};return W(i,zt,n)},Wt=j("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Z(n.position)]]}})(({ownerState:e})=>({listStyle:"none",display:"flex",position:"relative",minHeight:70,...e.position==="left"&&{flexDirection:"row-reverse"},...(e.position==="alternate"||e.position==="alternate-reverse")&&{[`&:nth-of-type(${e.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${jt.root}`]:{textAlign:"right"},[`& .${Ut.root}`]:{textAlign:"left"}}},...!e.hasOppositeContent&&{"&::before":{content:'""',flex:1,padding:"6px 16px"}}})),fo=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTimelineItem"}),{position:i,className:u,...p}=o,{position:c}=h.useContext(Ie);let d=!1;h.Children.forEach(o.children,r=>{St(r,["TimelineOppositeContent"])&&(d=!0)});const l={...o,position:i||c||"right",hasOppositeContent:d},a=Gt(l),s=h.useMemo(()=>({position:l.position}),[l.position]);return y.jsx(Ie.Provider,{value:s,children:y.jsx(Wt,{className:V(a.root,u),ownerState:l,ref:n,...p})})});function qt(e){return z("MuiTimelineSeparator",e)}G("MuiTimelineSeparator",["root"]);const Xt=e=>{const{classes:t}=e;return W({root:["root"]},qt,t)},Jt=j("div",{name:"MuiTimelineSeparator",slot:"Root"})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Io=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTimelineSeparator"}),{className:i,...u}=o,p=o,c=Xt(p);return y.jsx(Jt,{className:V(c.root,i),ownerState:p,ref:n,...u})}),tt=h.createContext(null);function Yt(){const[e,t]=h.useState(null);return h.useEffect(()=>{t(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),e}function go(e){const{children:t,value:n}=e,o=Yt(),i=h.useMemo(()=>({idPrefix:o,value:n}),[o,n]);return y.jsx(tt.Provider,{value:i,children:t})}function nt(){return h.useContext(tt)}function ot(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-P-${t}`}function st(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-T-${t}`}const bo=h.forwardRef(function(t,n){const{children:o,...i}=t,u=nt();if(u===null)throw new TypeError("No TabContext provided");const p=h.Children.map(o,c=>h.isValidElement(c)?h.cloneElement(c,{"aria-controls":ot(u,c.props.value),id:st(u,c.props.value)}):null);return y.jsx(Pt,{...i,ref:n,value:u.value,children:p})});function Zt(e){return z("MuiTabPanel",e)}G("MuiTabPanel",["root","hidden"]);const Qt=e=>{const{classes:t,hidden:n}=e;return W({root:["root",n&&"hidden"]},Zt,t)},en=j("div",{name:"MuiTabPanel",slot:"Root"})(({theme:e})=>({padding:e.spacing(3)})),ho=h.forwardRef(function(t,n){const o=J({props:t,name:"MuiTabPanel"}),{children:i,className:u,value:p,keepMounted:c=!1,...d}=o,l={...o},a=Qt(l),s=nt();if(s===null)throw new TypeError("No TabContext provided");const r=ot(s,p),f=st(s,p);return y.jsx(en,{"aria-labelledby":f,className:V(a.root,u),hidden:p!==s.value,id:r,ref:n,role:"tabpanel",ownerState:l,...d,children:(c||p===s.value)&&i})});function it(e){return J}const Ge={};function We(e,t){const n=h.useRef(Ge);return n.current===Ge&&(n.current=e(t)),n}const tn=e=>e.isPropagationStopped!==void 0,rt=()=>{const[e]=h.useState(()=>new Lt),t=h.useCallback((...o)=>{const[i,u,p={}]=o;p.defaultMuiPrevented=!1,!(tn(p)&&p.isPropagationStopped())&&e.emit(i,u,p)},[e]),n=h.useCallback((o,i)=>(e.on(o,i),()=>{e.removeListener(o,i)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};rt.params={};const lt=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};lt.params={};const xe={treeId:w(e=>e.id.treeId)};let qe=0;const nn=()=>(qe+=1,`mui-tree-view-${qe}`),Ve=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,je=({params:e,store:t})=>{h.useEffect(()=>{const o=t.state.id;e.id===o.providedTreeId&&o.treeId!==void 0||t.set("id",g({},o,{treeId:e.id??nn()}))},[t,e.id]);const n=R(t,xe.treeId);return{getRootProps:()=>({id:n})}};je.params={id:!0};je.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const on=[rt,lt,je],sn=["apiRef"],rn=e=>{let{props:{apiRef:t},plugins:n}=e,o=te(e.props,sn);const i=h.useMemo(()=>{const c={};return n.forEach(d=>{Object.assign(c,d.params)}),c},[n]),{forwardedProps:u,pluginParams:p}=h.useMemo(()=>{const c={},d={};Object.keys(o).forEach(a=>{const s=o[a];i[a]?c[a]=s:d[a]=s});const l=n.reduce((a,s)=>s.applyDefaultValuesToParams?s.applyDefaultValuesToParams({params:a}):a,c);return{forwardedProps:d,pluginParams:l}},[n,o,i]);return{forwardedProps:u,pluginParams:p,apiRef:t}},ln=e=>{const{plugins:t,instance:n,publicAPI:o,store:i,rootRef:u}=e,p=h.useCallback(l=>{let a=null,s=null;const r=[],f={};t.forEach(m=>{if(!m.itemPlugin)return;const I=m.itemPlugin({props:l,rootRef:a,contentRef:s});I?.rootRef&&(a=I.rootRef),I?.contentRef&&(s=I.contentRef),I?.propsEnhancers&&(r.push(I.propsEnhancers),Object.keys(I.propsEnhancers).forEach(E=>{f[E]=!0}))});const C=m=>I=>{const E={};return r.forEach(P=>{const L=P[m];L!=null&&Object.assign(E,L(I))}),E},b=Object.fromEntries(Object.keys(f).map(m=>[m,C(m)]));return{contentRef:s,rootRef:a,propsEnhancers:b}},[t]),c=h.useCallback(({itemId:l,children:a,idAttribute:s})=>{let r=a;for(let f=t.length-1;f>=0;f-=1){const C=t[f];C.wrapItem&&(r=C.wrapItem({instance:n,itemId:l,children:r,idAttribute:s}))}return r},[t,n]),d=h.useCallback(({children:l})=>{let a=l;for(let s=t.length-1;s>=0;s-=1){const r=t[s];r.wrapRoot&&(a=r.wrapRoot({children:a}))}return a},[t]);return h.useMemo(()=>({runItemPlugins:p,wrapItem:c,wrapRoot:d,instance:n,publicAPI:o,store:i,rootRef:u}),[p,c,d,n,o,i,u])};function an(e){return e.current==null&&(e.current={}),e}function cn(e){const t=h.useRef({});return e?an(e):t}const dn=({plugins:e,rootRef:t,props:n})=>{const o=h.useMemo(()=>[...on,...e],[e]),{pluginParams:i,forwardedProps:u,apiRef:p}=rn({plugins:o,props:n}),c=We(()=>({})).current,d=cn(p),l=h.useRef(null),a=Le(l,t),s=We(()=>{const m={};for(const I of o)I.getInitialState&&Object.assign(m,I.getInitialState(i));return new vt(m)}).current,r=ln({plugins:o,instance:c,publicAPI:d.current,store:s,rootRef:l}),f=[],C=m=>{const I=m({instance:c,params:i,rootRef:l,plugins:o,store:s});I.getRootProps&&f.push(I.getRootProps),I.publicAPI&&Object.assign(d.current,I.publicAPI),I.instance&&Object.assign(c,I.instance)};return o.forEach(C),{getRootProps:(m={})=>{const I=g({role:"tree"},u,m,{ref:a});return f.forEach(E=>{Object.assign(I,E(m))}),I},rootRef:a,contextValue:r}},at=h.createContext(null),Y=()=>{const e=h.useContext(at);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},ct=h.createContext({classes:{},slots:{},slotProps:{}}),dt=()=>h.useContext(ct),Re={};function un(e){const{contextValue:t,classes:n=Re,slots:o=Re,slotProps:i=Re,children:u}=e,p=h.useMemo(()=>({classes:n,slots:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon},slotProps:{collapseIcon:i.collapseIcon,expandIcon:i.expandIcon,endIcon:i.endIcon}}),[n,o.collapseIcon,o.expandIcon,o.endIcon,i.collapseIcon,i.expandIcon,i.endIcon]);return y.jsx(at.Provider,{value:t,children:y.jsx(ct.Provider,{value:p,children:t.wrapRoot({children:u})})})}const de=(e,t,n)=>{e.$$publishEvent(t,n)},ee="__TREE_VIEW_ROOT_PARENT_ID__",pn=e=>{const t={};return e.forEach((n,o)=>{t[n]=o}),t},ge=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},ut=h.createContext(()=>-1),mn=[],T={isLoading:w(e=>e.items.loading),error:w(e=>e.items.error),disabledItemFocusable:w(e=>e.items.disabledItemsFocusable),itemMetaLookup:w(e=>e.items.itemMetaLookup),itemMeta:w((e,t)=>e.items.itemMetaLookup[t??ee]??null),itemOrderedChildrenIds:w((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??ee]??mn),itemModel:w((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:w((e,t)=>ge(e.items.itemMetaLookup,t)),itemIndex:w((e,t)=>{const n=e.items.itemMetaLookup[t];return n==null?-1:e.items.itemChildrenIndexesLookup[n.parentId??ee][n.id]}),itemParentId:w((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:w((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:w((e,t)=>e.items.disabledItemsFocusable||!ge(e.items.itemMetaLookup,t))},fn=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},ve=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:o,getItemChildren:i,getItemId:u,initialDepth:p=0,initialParentId:c=null,getChildrenCount:d,ignoreChildren:l=!1})=>{const a={},s={},r={[ee]:[]},f=(b,m,I)=>{const E=u?u(b):b.id;fn(E,b,a);const P=o?o(b):b.label;if(P==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const L=i?i(b):b.children;a[E]={id:E,label:P,parentId:I,idAttribute:void 0,expandable:d?d(b)>0:!!L?.length,disabled:n?n(b):!1,depth:m},s[E]=b;const v=I??ee;r[v]||(r[v]=[]),r[v].push(E),l||L?.forEach(N=>f(N,m+1,E))};t?.forEach(b=>f(b,p,c));const C={};return Object.keys(r).forEach(b=>{C[b]=pn(r[b])}),{disabledItemsFocusable:e,itemMetaLookup:a,itemModelLookup:s,itemOrderedChildrenIdsLookup:r,itemChildrenIndexesLookup:C}},ne=({instance:e,params:t,store:n})=>{const o=h.useCallback(I=>T.itemModel(n.state,I),[n]),i=h.useCallback(I=>T.itemMeta(n.state,I)?.parentId||null,[n]),u=B(I=>{n.set("items",g({},n.state.items,{loading:I}))}),p=B(I=>{n.set("items",g({},n.state.items,{error:I}))}),c=B(({itemId:I,shouldBeDisabled:E})=>{if(!n.state.items.itemMetaLookup[I])return;const P=g({},n.state.items.itemMetaLookup);P[I]=g({},P[I],{disabled:E??!P[I].disabled}),n.set("items",g({},n.state.items,{itemMetaLookup:P}))}),d=h.useCallback(()=>{const I=E=>{const P=T.itemModel(n.state,E),L=g({},P),v=T.itemOrderedChildrenIds(n.state,E);return v.length>0?L.children=v.map(I):delete L.children,L};return T.itemOrderedChildrenIds(n.state,null).map(I)},[n]),l=h.useCallback(I=>T.itemOrderedChildrenIds(n.state,I),[n]),a=I=>{const E=T.itemMeta(n.state,I);if(E==null)return null;const P=Ve({treeId:xe.treeId(n.state),itemId:I,id:E.idAttribute});return document.getElementById(P)},s=h.useRef(!1),r=h.useCallback(()=>{s.current=!0},[]),f=h.useCallback(()=>s.current,[]),C=({items:I,parentId:E,depth:P,getChildrenCount:L})=>{if(I){const v=ve({disabledItemsFocusable:t.disabledItemsFocusable,items:I,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:L,initialDepth:P,initialParentId:E,ignoreChildren:!0});let N;E?N={itemModelLookup:g({},n.state.items.itemModelLookup,v.itemModelLookup),itemMetaLookup:g({},n.state.items.itemMetaLookup,v.itemMetaLookup),itemOrderedChildrenIdsLookup:g({},v.itemOrderedChildrenIdsLookup,n.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:g({},v.itemChildrenIndexesLookup,n.state.items.itemChildrenIndexesLookup)}:N={itemModelLookup:v.itemModelLookup,itemMetaLookup:v.itemMetaLookup,itemOrderedChildrenIdsLookup:v.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:v.itemChildrenIndexesLookup},Object.values(n.state.items.itemMetaLookup).forEach(M=>{N.itemMetaLookup[M.id]||de(e,"removeItem",{id:M.id})}),n.set("items",g({},n.state.items,N))}},b=I=>{if(I==null)n.set("items",g({},n.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(n.state.items.itemMetaLookup).reduce((v,N)=>{const M=n.state.items.itemMetaLookup[N];return M.parentId===I?(de(e,"removeItem",{id:M.id}),v):g({},v,{[M.id]:M})},{}),P=g({},n.state.items.itemOrderedChildrenIdsLookup),L=g({},n.state.items.itemChildrenIndexesLookup);delete L[I],delete P[I],n.set("items",g({},n.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:P,itemChildrenIndexesLookup:L}))}};h.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const I=ve({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(n.state.items.itemMetaLookup).forEach(E=>{I.itemMetaLookup[E.id]||de(e,"removeItem",{id:E.id})}),n.set("items",g({},n.state.items,I))},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const m=B((I,E)=>{t.onItemClick&&t.onItemClick(I,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:o,getItemDOMElement:a,getItemTree:d,getItemOrderedChildrenIds:l,setIsItemDisabled:c,getParentId:i},instance:{getItemDOMElement:a,preventItemUpdates:r,areItemUpdatesPrevented:f,addItems:C,setTreeViewLoading:u,setTreeViewError:p,removeChildren:b,handleItemClick:m}}};ne.getInitialState=e=>({items:g({},ve({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})});ne.applyDefaultValuesToParams=({params:e})=>g({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});ne.wrapRoot=({children:e})=>y.jsx(ut.Provider,{value:T.itemDepth,children:e});ne.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const pt=()=>{},Xe=he(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),D={expandedItemsRaw:w(e=>e.expansion.expandedItems),expandedItemsMap:Xe,triggerSlot:w(e=>e.expansion.expansionTrigger),isItemExpanded:w(Xe,(e,t)=>e.has(t)),isItemExpandable:w(T.itemMeta,(e,t)=>e?.expandable??!1)},mt=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),Ce=({instance:e,store:t,params:n})=>{pt({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),fe(()=>{const l=mt({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});t.state.expansion.expansionTrigger!==l&&t.set("expansion",g({},t.state.expansion,{expansionTrigger:l}))},[t,n.isItemEditable,n.expansionTrigger]);const o=(l,a)=>{n.expandedItems===void 0&&t.set("expansion",g({},t.state.expansion,{expandedItems:a})),n.onExpandedItemsChange?.(l,a)},i=B(()=>{o(null,[])}),u=B(({itemId:l,event:a,shouldBeExpanded:s})=>{const r=D.expandedItemsRaw(t.state);let f;s?f=[l].concat(r):f=r.filter(C=>C!==l),n.onItemExpansionToggle&&n.onItemExpansionToggle(a,l,s),o(a,f)}),p=B(({itemId:l,event:a=null,shouldBeExpanded:s})=>{const r=D.isItemExpanded(t.state,l),f=s??!r;if(r===f)return;const C={isExpansionPrevented:!1,shouldBeExpanded:f,event:a,itemId:l};de(e,"beforeItemToggleExpansion",C),!C.isExpansionPrevented&&e.applyItemExpansion({itemId:l,event:a,shouldBeExpanded:f})}),c=B(l=>D.isItemExpandable(t.state,l)),d=(l,a)=>{const s=T.itemMeta(t.state,a);if(s==null)return;const f=T.itemOrderedChildrenIds(t.state,s.parentId).filter(b=>D.isItemExpandable(t.state,b)&&!D.isItemExpanded(t.state,b)),C=D.expandedItemsRaw(t.state).concat(f);f.length>0&&(n.onItemExpansionToggle&&f.forEach(b=>{n.onItemExpansionToggle(l,b,!0)}),o(l,C))};return fe(()=>{const l=n.expandedItems;l!==void 0&&t.set("expansion",g({},t.state.expansion,{expandedItems:l}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:p,isItemExpanded:c},instance:{setItemExpansion:p,applyItemExpansion:u,expandAllSiblings:d,resetItemExpansion:i}}},In=[];Ce.applyDefaultValuesToParams=({params:e})=>g({},e,{defaultExpandedItems:e.defaultExpandedItems??In});Ce.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:mt(e)}});Ce.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const Oe=(e,t)=>{let n=t.length-1;for(;n>=0&&!T.canItemBeFocused(e,t[n]);)n-=1;if(n!==-1)return t[n]},ft=(e,t)=>{const n=T.itemMeta(e,t);if(!n)return null;const o=T.itemOrderedChildrenIds(e,n.parentId),i=T.itemIndex(e,t);if(i===0)return n.parentId;let u=i-1;for(;!T.canItemBeFocused(e,o[u])&&u>=0;)u-=1;if(u===-1)return n.parentId==null?null:ft(e,n.parentId);let p=o[u],c=Oe(e,T.itemOrderedChildrenIds(e,p));for(;D.isItemExpanded(e,p)&&c!=null;)p=c,c=Oe(e,T.itemOrderedChildrenIds(e,p));return p},ue=(e,t)=>{if(D.isItemExpanded(e,t)){const o=T.itemOrderedChildrenIds(e,t).find(i=>T.canItemBeFocused(e,i));if(o!=null)return o}let n=T.itemMeta(e,t);for(;n!=null;){const o=T.itemOrderedChildrenIds(e,n.parentId),i=T.itemIndex(e,n.id);if(i<o.length-1){let u=i+1;for(;!T.canItemBeFocused(e,o[u])&&u<o.length-1;)u+=1;if(T.canItemBeFocused(e,o[u]))return o[u]}n=T.itemMeta(e,n.parentId)}return null},It=e=>{let t=null;for(;t==null||D.isItemExpanded(e,t);){const n=T.itemOrderedChildrenIds(e,t),o=Oe(e,n);if(o==null)return t;t=o}return t},be=e=>T.itemOrderedChildrenIds(e,null).find(t=>T.canItemBeFocused(e,t)),gt=(e,t,n)=>{if(t===n)return[t,n];const o=T.itemMeta(e,t),i=T.itemMeta(e,n);if(!o||!i)return[t,n];if(o.parentId===i.id||i.parentId===o.id)return i.parentId===o.id?[o.id,i.id]:[i.id,o.id];const u=[o.id],p=[i.id];let c=o.parentId,d=i.parentId,l=p.indexOf(c)!==-1,a=u.indexOf(d)!==-1,s=!0,r=!0;for(;!a&&!l;)s&&(u.push(c),l=p.indexOf(c)!==-1,s=c!==null,!l&&s&&(c=T.itemParentId(e,c))),r&&!l&&(p.push(d),a=u.indexOf(d)!==-1,r=d!==null,!a&&r&&(d=T.itemParentId(e,d)));const f=l?c:d,C=T.itemOrderedChildrenIds(e,f),b=u[u.indexOf(f)-1],m=p[p.indexOf(f)-1];return C.indexOf(b)<C.indexOf(m)?[t,n]:[n,t]},gn=(e,t,n)=>{const o=d=>{if(D.isItemExpandable(e,d)&&D.isItemExpanded(e,d))return T.itemOrderedChildrenIds(e,d)[0];let l=T.itemMeta(e,d);for(;l!=null;){const a=T.itemOrderedChildrenIds(e,l.parentId),s=T.itemIndex(e,l.id);if(s<a.length-1)return a[s+1];l=l.parentId?T.itemMeta(e,l.parentId):null}throw new Error("Invalid range")},[i,u]=gt(e,t,n),p=[i];let c=i;for(;c!==u;)c=o(c),T.isItemDisabled(e,c)||p.push(c);return p},bn=e=>{let t=be(e);const n=[];for(;t!=null;)n.push(t),t=ue(e,t);return n},De=(e,t)=>t!==e.closest('*[role="treeitem"]'),bt=he(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),Je=he(bt,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),k={selectedItemsRaw:w(e=>e.selection.selectedItems),selectedItems:bt,selectedItemsMap:Je,enabled:w(e=>e.selection.isEnabled),isMultiSelectEnabled:w(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:w(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:w(e=>e.selection.selectionPropagation),isItemSelected:w(Je,(e,t)=>e.has(t)),canItemBeSelected:w(T.isItemDisabled,e=>e.selection.isEnabled,(e,t,n)=>t&&!e)},pe=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},ht=({store:e,oldModel:t,newModel:n})=>{const o=new Map;return n.forEach(i=>{o.set(i,!0)}),{added:n.filter(i=>!k.isItemSelected(e.state,i)),removed:t.filter(i=>!o.has(i))}},hn=({store:e,selectionPropagation:t,newModel:n,oldModel:o,additionalItemsToPropagate:i})=>{if(!t.descendants&&!t.parents)return n;let u=!1;const p=pe(n),c=ht({store:e,newModel:n,oldModel:o});return i?.forEach(d=>{p[d]?c.added.includes(d)||c.added.push(d):c.removed.includes(d)||c.removed.push(d)}),c.added.forEach(d=>{if(t.descendants){const l=a=>{a!==d&&(u=!0,p[a]=!0),T.itemOrderedChildrenIds(e.state,a).forEach(l)};l(d)}if(t.parents){const l=s=>p[s]?T.itemOrderedChildrenIds(e.state,s).every(l):!1,a=s=>{const r=T.itemParentId(e.state,s);if(r==null)return;T.itemOrderedChildrenIds(e.state,r).every(l)&&(u=!0,p[r]=!0,a(r))};a(d)}}),c.removed.forEach(d=>{if(t.parents){let l=T.itemParentId(e.state,d);for(;l!=null;)p[l]&&(u=!0,delete p[l]),l=T.itemParentId(e.state,l)}if(t.descendants){const l=a=>{a!==d&&(u=!0,delete p[a]),T.itemOrderedChildrenIds(e.state,a).forEach(l)};l(d)}}),u?Object.keys(p):n},xn=w((e,t)=>{if(k.isItemSelected(e,t))return"checked";let n=!1,o=!1;const i=p=>{p!==t&&(k.isItemSelected(e,p)?n=!0:o=!0),T.itemOrderedChildrenIds(e,p).forEach(i)};return i(t),n&&o?"indeterminate":k.propagationRules(e).parents&&n&&!o?"checked":"empty"}),Cn=({props:e})=>{const{itemId:t}=e,{store:n}=Y(),o=R(n,k.isCheckboxSelectionEnabled),i=R(n,k.canItemBeSelected,t),u=R(n,xn,t);return{propsEnhancers:{checkbox:({externalEventHandlers:p,interactions:c})=>({tabIndex:-1,onChange:l=>{p.onChange?.(l),!l.defaultMuiPrevented&&k.canItemBeSelected(n.state,t)&&c.handleCheckboxSelection(l)},visible:o,disabled:!i,checked:u==="checked",indeterminate:u==="indeterminate"})}}},oe=({store:e,params:t})=>{pt({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=h.useRef(null),o=h.useRef({}),i=(r,f,C)=>{const b=k.selectedItemsRaw(e.state);let m;const I=k.isMultiSelectEnabled(e.state);if(I&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?m=hn({store:e,selectionPropagation:t.selectionPropagation,newModel:f,oldModel:b,additionalItemsToPropagate:C}):m=f,t.onItemSelectionToggle)if(I){const E=ht({store:e,newModel:m,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(P=>{t.onItemSelectionToggle(r,P,!0)}),E.removed.forEach(P=>{t.onItemSelectionToggle(r,P,!1)}))}else t.onItemSelectionToggle&&m!==b&&(b!=null&&t.onItemSelectionToggle(r,b,!1),m!=null&&t.onItemSelectionToggle(r,m,!0));t.selectedItems===void 0&&e.set("selection",g({},e.state.selection,{selectedItems:m})),t.onSelectedItemsChange?.(r,m)},u=({itemId:r,event:f=null,keepExistingSelection:C=!1,shouldBeSelected:b})=>{if(!k.enabled(e.state))return;let m;const I=k.isMultiSelectEnabled(e.state);if(C){const E=k.selectedItems(e.state),P=k.isItemSelected(e.state,r);P&&(b===!1||b==null)?m=E.filter(L=>L!==r):!P&&(b===!0||b==null)?m=[r].concat(E):m=E}else b===!1||b==null&&k.isItemSelected(e.state,r)?m=I?[]:null:m=I?[r]:r;i(f,m,[r]),n.current=r,o.current={}},p=(r,[f,C])=>{if(!k.isMultiSelectEnabled(e.state))return;let m=k.selectedItems(e.state).slice();Object.keys(o.current).length>0&&(m=m.filter(L=>!o.current[L]));const I=pe(m),E=gn(e.state,f,C),P=E.filter(L=>!I[L]);m=m.concat(P),i(r,m),o.current=pe(E)},c=(r,f)=>{if(n.current!=null){const[C,b]=gt(e.state,f,n.current);p(r,[C,b])}},d=(r,f)=>{p(r,[be(e.state),f])},l=(r,f)=>{p(r,[f,It(e.state)])},a=r=>{if(!k.isMultiSelectEnabled(e.state))return;const C=bn(e.state);i(r,C),o.current=pe(C)},s=(r,f,C)=>{if(!k.isMultiSelectEnabled(e.state))return;let m=k.selectedItems(e.state).slice();Object.keys(o.current).length===0?(m.push(C),o.current={[f]:!0,[C]:!0}):(o.current[f]||(o.current={}),o.current[C]?(m=m.filter(I=>I!==f),delete o.current[f]):(m.push(C),o.current[C]=!0)),i(r,m)};return fe(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:u},instance:{setItemSelection:u,selectAllNavigableItems:a,expandSelectionRange:c,selectRangeFromStartToItem:d,selectRangeFromItemToEnd:l,selectItemFromArrowNavigation:s}}};oe.itemPlugin=Cn;const Tn=[],En={};oe.applyDefaultValuesToParams=({params:e})=>g({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Tn:null),selectionPropagation:e.selectionPropagation??En});oe.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}});oe.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const Ye=1e3;class Sn{timeouts=new Map;cleanupTimeout=Ye;constructor(t=Ye){this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Pn{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class yn{}function Mn(e){let t=0;return function(o,i,u){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Pn:new Sn);const[p]=h.useState(new yn),c=h.useRef(null),d=h.useRef(void 0);d.current=u;const l=h.useRef(null);if(!c.current&&d.current){const a=(s,r)=>{r.defaultMuiPrevented||d.current?.(s,r)};c.current=o.$$subscribeEvent(i,a),t+=1,l.current={cleanupToken:t},e.registry.register(p,()=>{c.current?.(),c.current=null,l.current=null},l.current)}else!d.current&&c.current&&(c.current(),c.current=null,l.current&&(e.registry.unregister(l.current),l.current=null));h.useEffect(()=>{if(!c.current&&d.current){const a=(s,r)=>{r.defaultMuiPrevented||d.current?.(s,r)};c.current=o.$$subscribeEvent(i,a)}return l.current&&e.registry&&(e.registry.unregister(l.current),l.current=null),()=>{c.current?.(),c.current=null}},[o,i])}}const wn={registry:null},kn=Mn(wn),Ze=he(k.selectedItems,D.expandedItemsMap,T.itemMetaLookup,T.disabledItemFocusable,e=>T.itemOrderedChildrenIds(e,null),(e,t,n,o,i)=>{const u=e.find(c=>{if(!o&&ge(n,c))return!1;const d=n[c];return d&&(d.parentId==null||t.has(d.parentId))});if(u!=null)return u;const p=i.find(c=>o||!ge(n,c));return p??null}),X={defaultFocusableItemId:Ze,isItemTheDefaultFocusableItem:w(Ze,(e,t)=>e===t),focusedItemId:w(e=>e.focus.focusedItemId),isItemFocused:w((e,t)=>e.focus.focusedItemId===t)},Ne=({instance:e,params:t,store:n})=>{const o=B(a=>{X.focusedItemId(n.state)!==a&&n.set("focus",g({},n.state.focus,{focusedItemId:a}))}),i=a=>{const s=T.itemMeta(n.state,a);return s&&(s.parentId==null||D.isItemExpanded(n.state,s.parentId))},u=(a,s)=>{const r=e.getItemDOMElement(s);r&&r.focus(),o(s),t.onItemFocus&&t.onItemFocus(a,s)},p=B((a,s)=>{i(s)&&u(a,s)}),c=B(()=>{const a=X.focusedItemId(n.state);if(a==null)return;if(T.itemMeta(n.state,a)){const r=e.getItemDOMElement(a);r&&r.blur()}o(null)});kn(e,"removeItem",({id:a})=>{const s=X.focusedItemId(n.state),r=X.defaultFocusableItemId(n.state);s===a&&r!=null&&u(null,r)});const d=a=>s=>{if(a.onFocus?.(s),s.defaultMuiPrevented)return;const r=X.defaultFocusableItemId(n.state);s.target===s.currentTarget&&r!=null&&u(s,r)},l=a=>s=>{a.onBlur?.(s),!s.defaultMuiPrevented&&o(null)};return{getRootProps:a=>({onFocus:d(a),onBlur:l(a)}),publicAPI:{focusItem:p},instance:{focusItem:p,removeFocusedItem:c}}};Ne.getInitialState=()=>({focus:{focusedItemId:null}});Ne.params={onItemFocus:!0};const me=(e,t)=>e.getAvailablePlugins().has(t),_={isItemEditable:w(e=>e.label?.isItemEditable,T.itemModel,(e,t,n)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:w((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:w(e=>!!e.label?.editedItemId)},Rn=({props:e})=>{const{store:t}=Y(),{label:n,itemId:o}=e,[i,u]=h.useState(n),p=R(t,_.isItemEditable,o),c=R(t,_.isItemBeingEdited,o);return h.useEffect(()=>{c||u(n)},[c,n]),{propsEnhancers:{label:()=>({editable:p}),labelInput:({externalEventHandlers:d,interactions:l})=>p?{value:i??"","data-element":"labelInput",onChange:f=>{d.onChange?.(f),u(f.target.value)},onKeyDown:f=>{if(d.onKeyDown?.(f),f.defaultMuiPrevented)return;const C=f.target;f.key==="Enter"&&C.value?l.handleSaveItemLabel(f,C.value):f.key==="Escape"&&l.handleCancelItemLabelEditing(f)},onBlur:f=>{d.onBlur?.(f),!f.defaultMuiPrevented&&f.target.value&&l.handleSaveItemLabel(f,f.target.value)},autoFocus:!0,type:"text"}:{}}}},K=({store:e,params:t})=>{const n=i=>{i!==null&&!_.isItemEditable(e.state,i)||e.set("label",g({},e.state.label,{editedItemId:i}))},o=(i,u)=>{if(!u)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",i].join(`
`));const p=e.state.items.itemMetaLookup[i];p.label!==u&&(e.set("items",g({},e.state.items,{itemMetaLookup:g({},e.state.items.itemMetaLookup,{[i]:g({},p,{label:u})})})),t.onItemLabelChange&&t.onItemLabelChange(i,u))};return fe(()=>{e.set("label",g({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:o},publicAPI:{setEditedItem:n,updateItemLabel:o}}};K.itemPlugin=Rn;K.applyDefaultValuesToParams=({params:e})=>g({},e,{isItemEditable:e.isItemEditable??!1});K.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}});K.params={onItemLabelChange:!0,isItemEditable:!0};function Ln(e){return!!e&&e.length===1&&!!e.match(/\S/)}const xt=({instance:e,store:t,params:n})=>{const o=yt(),i=h.useRef({}),u=B(s=>{i.current=s(i.current)}),p=R(t,T.itemMetaLookup);h.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const s={},r=f=>{s[f.id]=f.label.substring(0,1).toLowerCase()};Object.values(p).forEach(r),i.current=s},[p,n.getItemId,e]);const c=(s,r)=>{const f=r.toLowerCase(),C=E=>{const P=ue(t.state,E);return P===null?be(t.state):P};let b=null,m=C(s);const I={};for(;b==null&&!I[m];)i.current[m]===f?b=m:(I[m]=!0,m=C(m));return b},d=s=>k.enabled(t.state)&&!T.isItemDisabled(t.state,s),l=s=>!T.isItemDisabled(t.state,s)&&D.isItemExpandable(t.state,s);return{instance:{updateFirstCharMap:u,handleItemKeyDown:async(s,r)=>{if(s.defaultMuiPrevented||s.altKey||De(s.target,s.currentTarget))return;const f=s.ctrlKey||s.metaKey,C=s.key,b=k.isMultiSelectEnabled(t.state);switch(!0){case(C===" "&&d(r)):{s.preventDefault(),b&&s.shiftKey?e.expandSelectionRange(s,r):e.setItemSelection({event:s,itemId:r,keepExistingSelection:b,shouldBeSelected:void 0});break}case C==="Enter":{me(e,K)&&_.isItemEditable(t.state,r)&&!_.isItemBeingEdited(t.state,r)?e.setEditedItem(r):l(r)?(e.setItemExpansion({event:s,itemId:r}),s.preventDefault()):d(r)&&(b?(s.preventDefault(),e.setItemSelection({event:s,itemId:r,keepExistingSelection:!0})):k.isItemSelected(t.state,r)||(e.setItemSelection({event:s,itemId:r}),s.preventDefault()));break}case C==="ArrowDown":{const m=ue(t.state,r);m&&(s.preventDefault(),e.focusItem(s,m),b&&s.shiftKey&&d(m)&&e.selectItemFromArrowNavigation(s,r,m));break}case C==="ArrowUp":{const m=ft(t.state,r);m&&(s.preventDefault(),e.focusItem(s,m),b&&s.shiftKey&&d(m)&&e.selectItemFromArrowNavigation(s,r,m));break}case(C==="ArrowRight"&&!o||C==="ArrowLeft"&&o):{if(f)return;if(D.isItemExpanded(t.state,r)){const m=ue(t.state,r);m&&(e.focusItem(s,m),s.preventDefault())}else l(r)&&(e.setItemExpansion({event:s,itemId:r}),s.preventDefault());break}case(C==="ArrowLeft"&&!o||C==="ArrowRight"&&o):{if(f)return;if(l(r)&&D.isItemExpanded(t.state,r))e.setItemExpansion({event:s,itemId:r}),s.preventDefault();else{const m=T.itemParentId(t.state,r);m&&(e.focusItem(s,m),s.preventDefault())}break}case C==="Home":{d(r)&&b&&f&&s.shiftKey?e.selectRangeFromStartToItem(s,r):e.focusItem(s,be(t.state)),s.preventDefault();break}case C==="End":{d(r)&&b&&f&&s.shiftKey?e.selectRangeFromItemToEnd(s,r):e.focusItem(s,It(t.state)),s.preventDefault();break}case C==="*":{e.expandAllSiblings(s,r),s.preventDefault();break}case(String.fromCharCode(s.keyCode)==="A"&&f&&b&&k.enabled(t.state)):{e.selectAllNavigableItems(s),s.preventDefault();break}case(!f&&!s.shiftKey&&Ln(C)):{const m=c(r,C);m!=null&&(e.focusItem(s,m),s.preventDefault());break}}}}}};xt.params={};const Qe={dataSource:w(e=>e.lazyLoading?.dataSource),isItemLoading:w((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:w((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},Ct=e=>Array.isArray(e)?e.length>0&&e.some(Ct):!!e,vn=({itemId:e,children:t})=>{const{instance:n,store:o,publicAPI:i}=Y(),u=R(o,D.isItemExpandable,e),p=R(o,Qe.isItemLoading,e),c=R(o,Qe.itemHasError,e),d=Ct(t)||u,l=R(o,D.isItemExpanded,e),a=R(o,X.isItemFocused,e),s=R(o,k.isItemSelected,e),r=R(o,T.isItemDisabled,e),f=R(o,_.isItemBeingEdited,e),C=R(o,_.isItemEditable,e),b={expandable:d,expanded:l,focused:a,selected:s,disabled:r,editing:f,editable:C,loading:p,error:c},m=M=>{if(b.disabled)return;b.focused||n.focusItem(M,e);const A=k.isMultiSelectEnabled(o.state)&&(M.shiftKey||M.ctrlKey||M.metaKey);b.expandable&&!(A&&D.isItemExpanded(o.state,e))&&n.setItemExpansion({event:M,itemId:e})},I=M=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(M,e),k.isMultiSelectEnabled(o.state)&&(M.shiftKey||M.ctrlKey||M.metaKey)?M.shiftKey?n.expandSelectionRange(M,e):n.setItemSelection({event:M,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:M,itemId:e,shouldBeSelected:!0})},E=M=>{const A=M.nativeEvent.shiftKey,O=k.isMultiSelectEnabled(o.state);O&&A?n.expandSelectionRange(M,e):n.setItemSelection({event:M,itemId:e,keepExistingSelection:O,shouldBeSelected:M.target.checked})},P=()=>{me(n,K)&&(f?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:m,handleSelection:I,handleCheckboxSelection:E,toggleItemEditing:P,handleSaveItemLabel:(M,A)=>{me(n,K)&&_.isItemBeingEdited(o.state,e)&&(n.updateItemLabel(e,A),P(),n.focusItem(M,e))},handleCancelItemLabelEditing:M=>{me(n,K)&&_.isItemBeingEdited(o.state,e)&&(P(),n.focusItem(M,e))}},status:b,publicAPI:i}};function On(e){return z("MuiRichTreeView",e)}G("MuiRichTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox","itemLabelInput"]);const Dn=[ne,Ce,oe,Ne,xt,K],An=e=>{const{runItemPlugins:t,instance:n,publicAPI:o,store:i}=Y(),u=h.useContext(ut),p=R(i,(...S)=>typeof u=="function"?u(...S):u,e.itemId),{id:c,itemId:d,label:l,children:a,rootRef:s}=e,{rootRef:r,contentRef:f,propsEnhancers:C}=t(e),{interactions:b,status:m}=vn({itemId:d,children:a}),I=h.useRef(null),E=h.useRef(null),P=Le(s,r,I),L=Le(f,E),v=h.useRef(null),N=R(i,xe.treeId),M=R(i,k.canItemBeSelected,d),A=R(i,k.isCheckboxSelectionEnabled),O=Ve({itemId:d,treeId:N,id:c}),se=R(i,X.isItemTheDefaultFocusableItem,d),H={rootRefObject:I,contentRefObject:E,interactions:b},ie=S=>x=>{S.onFocus?.(x),!x.defaultMuiPrevented&&!m.focused&&T.canItemBeFocused(i.state,d)&&x.currentTarget===x.target&&n.focusItem(x,d)},Te=S=>x=>{if(S.onBlur?.(x),x.defaultMuiPrevented)return;const F=n.getItemDOMElement(d);m.editing||x.relatedTarget&&De(x.relatedTarget,F)&&(x.target&&x.target?.dataset?.element==="labelInput"&&De(x.target,F)||x.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},re=S=>x=>{S.onKeyDown?.(x),!(x.defaultMuiPrevented||x.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(x,d)},Ee=S=>x=>{S.onDoubleClick?.(x),!x.defaultMuiPrevented&&b.toggleItemEditing()},le=S=>x=>{S.onClick?.(x),n.handleItemClick(x,d),!(x.defaultMuiPrevented||v.current?.contains(x.target))&&(D.triggerSlot(i.state)==="content"&&b.handleExpansion(x),A||b.handleSelection(x))},Se=S=>x=>{S.onMouseDown?.(x),!x.defaultMuiPrevented&&(x.shiftKey||x.ctrlKey||x.metaKey||m.disabled)&&x.preventDefault()},ae=S=>x=>{S.onClick?.(x),!x.defaultMuiPrevented&&D.triggerSlot(i.state)==="iconContainer"&&b.handleExpansion(x)};return{getContextProviderProps:()=>({itemId:d,id:c}),getRootProps:(S={})=>{const x=g({},U(e),U(S));let F;m.selected?F=!0:M?F=!1:F=void 0;const q=g({},x,{ref:P,role:"treeitem",tabIndex:se?0:-1,id:O,"aria-expanded":m.expandable?m.expanded:void 0,"aria-selected":F,"aria-disabled":m.disabled||void 0},S,{style:g({},S.style??{},{"--TreeView-itemDepth":p}),onFocus:ie(x),onBlur:Te(x),onKeyDown:re(x)}),ce=C.root?.(g({},H,{externalEventHandlers:x}))??{};return g({},q,ce)},getContentProps:(S={})=>{const x=U(S),F=g({},x,S,{ref:L,onClick:le(x),onMouseDown:Se(x),status:m});["expanded","selected","focused","disabled","editing","editable"].forEach(ce=>{m[ce]&&(F[`data-${ce}`]="")});const q=C.content?.(g({},H,{externalEventHandlers:x}))??{};return g({},F,q)},getGroupTransitionProps:(S={})=>{const x=U(S);return g({},x,{unmountOnExit:!0,component:"ul",role:"group",in:m.expanded,children:a},S)},getIconContainerProps:(S={})=>{const x=U(S);return g({},x,S,{onClick:ae(x)})},getCheckboxProps:(S={})=>{const x=U(S),F=g({},x,{ref:v,"aria-hidden":!0},S),q=C.checkbox?.(g({},H,{externalEventHandlers:x}))??{};return g({},F,q)},getLabelProps:(S={})=>{const x=g({},U(S)),F=g({},x,{children:l},S,{onDoubleClick:Ee(x)}),q=C.label?.(g({},H,{externalEventHandlers:x}))??{};return g({},q,F)},getLabelInputProps:(S={})=>{const x=U(S),F=C.labelInput?.(g({},H,{externalEventHandlers:x}))??{};return g({},S,F)},getDragAndDropOverlayProps:(S={})=>{const x=U(S),F=C.dragAndDropOverlay?.(g({},H,{externalEventHandlers:x}))??{};return g({},S,F)},getErrorContainerProps:(S={})=>{const x=U(S);return g({},x,S)},getLoadingContainerProps:(S={})=>{const x=U(S);return g({size:"12px",thickness:6},x,S)},rootRef:P,status:m,publicAPI:o}};function Fn(e){return z("MuiTreeItem",e)}G("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]);const Vn=et(y.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),jn=et(y.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function Nn(e){const{slots:t,slotProps:n,status:o}=e,{slots:i,slotProps:u}=dt(),p={collapseIcon:t?.collapseIcon??i.collapseIcon??jn,expandIcon:t?.expandIcon??i.expandIcon??Vn,endIcon:t?.endIcon??i.endIcon,icon:t?.icon};let c;p?.icon?c="icon":o.expandable?o.expanded?c="collapseIcon":c="expandIcon":c="endIcon";const d=p[c],l=$({elementType:d,externalSlotProps:a=>g({},ze(u[c],a),ze(n?.[c],a)),ownerState:{}});return d?y.jsx(d,g({},l)):null}const $n=j("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>Fe(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:Q(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function Bn(e){return e.action==null?null:y.jsx($n,g({},e))}function Un(e){const{children:t,itemId:n,id:o}=e,{wrapItem:i,instance:u,store:p}=Y(),c=R(p,xe.treeId),d=Ve({itemId:n,treeId:c,id:o});return y.jsx(h.Fragment,{children:i({children:t,itemId:n,instance:u,idAttribute:d})})}const _n=j("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>g({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),Kn=["visible"],Hn=["id","itemId","label","disabled","children","slots","slotProps","classes"],zn=it(),Gn=j("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),Wn=j("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>Fe(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Q(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Q(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Q(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Q(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),qn=j("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>Fe(e)&&e!=="editable"})(({theme:e})=>g({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),Xn=j("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),Jn=j(wt,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),Yn=j("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),Zn=j(kt,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),Qn=j(h.forwardRef((e,t)=>{const{visible:n}=e,o=te(e,Kn);return n?y.jsx(Mt,g({},o,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),eo=e=>{const{classes:t}=dt(),n=g({},e,{root:V(e?.root,t.root),content:V(e?.content,t.itemContent),iconContainer:V(e?.iconContainer,t.itemIconContainer),checkbox:V(e?.checkbox,t.itemCheckbox),label:V(e?.label,t.itemLabel),groupTransition:V(e?.groupTransition,t.itemGroupTransition),labelInput:V(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:V(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:V(e?.errorIcon,t.itemErrorIcon),loadingIcon:V(e?.loadingIcon,t.itemLoadingIcon)});return W({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},Fn,n)},to=h.forwardRef(function(t,n){const o=zn({props:t,name:"MuiTreeItem"}),{id:i,itemId:u,label:p,disabled:c,children:d,slots:l={},slotProps:a={},classes:s}=o,r=te(o,Hn),{getContextProviderProps:f,getRootProps:C,getContentProps:b,getIconContainerProps:m,getCheckboxProps:I,getLabelProps:E,getGroupTransitionProps:P,getLabelInputProps:L,getDragAndDropOverlayProps:v,getErrorContainerProps:N,getLoadingContainerProps:M,status:A}=An({id:i,itemId:u,children:d,label:p,disabled:c}),O=eo(s),se=l.root??Gn,H=$({elementType:se,getSlotProps:C,externalForwardedProps:r,externalSlotProps:a.root,additionalProps:{ref:n},ownerState:{},className:O.root}),ie=l.content??Wn,Te=$({elementType:ie,getSlotProps:b,externalSlotProps:a.content,ownerState:{},className:V(O.content,A.expanded&&O.expanded,A.selected&&O.selected,A.focused&&O.focused,A.disabled&&O.disabled,A.editing&&O.editing,A.editable&&O.editable)}),re=l.iconContainer??Xn,Ee=$({elementType:re,getSlotProps:m,externalSlotProps:a.iconContainer,ownerState:{},className:O.iconContainer}),le=l.label??qn,Se=$({elementType:le,getSlotProps:E,externalSlotProps:a.label,ownerState:{},className:O.label}),ae=l.checkbox??Qn,$e=$({elementType:ae,getSlotProps:I,externalSlotProps:a.checkbox,ownerState:{},className:O.checkbox}),Pe=l.groupTransition??void 0,Be=$({elementType:Pe,getSlotProps:P,externalSlotProps:a.groupTransition,ownerState:{},className:O.groupTransition}),ye=l.labelInput??_n,Ue=$({elementType:ye,getSlotProps:L,externalSlotProps:a.labelInput,ownerState:{},className:O.labelInput}),Me=l.dragAndDropOverlay??Bn,_e=$({elementType:Me,getSlotProps:v,externalSlotProps:a.dragAndDropOverlay,ownerState:{},className:O.dragAndDropOverlay}),we=l.errorIcon??Yn,Ke=$({elementType:we,getSlotProps:N,externalSlotProps:a.errorIcon,ownerState:{},className:O.errorIcon}),ke=l.loadingIcon??Zn,He=$({elementType:ke,getSlotProps:M,externalSlotProps:a.loadingIcon,ownerState:{},className:O.loadingIcon});return y.jsx(Un,g({},f(),{children:y.jsxs(se,g({},H,{children:[y.jsxs(ie,g({},Te,{children:[y.jsxs(re,g({},Ee,{children:[A.error&&y.jsx(we,g({},Ke)),A.loading?y.jsx(ke,g({},He)):y.jsx(Nn,{status:A,slots:l,slotProps:a})]})),y.jsx(ae,g({},$e)),A.editing?y.jsx(ye,g({},Ue)):y.jsx(le,g({},Se)),y.jsx(Me,g({},_e))]})),d&&y.jsx(Jn,g({as:Pe},Be))]}))}))}),no=["ownerState"],Tt=h.createContext(null),oo=h.memo(function({itemSlot:t,itemSlotProps:n,itemId:o}){const i=h.useContext(Tt),{store:u}=Y(),p=R(u,T.itemMeta,o),c=R(u,T.itemOrderedChildrenIds,o),d=t??to,l=$({elementType:d,externalSlotProps:n,additionalProps:{label:p?.label,id:p?.idAttribute,itemId:o},ownerState:{itemId:o,label:p?.label}}),a=te(l,no);return y.jsx(d,g({},a,{children:c?.map(i)}))},Ot);function so(e){const{slots:t,slotProps:n}=e,{store:o}=Y(),i=t?.item,u=n?.item,p=R(o,T.itemOrderedChildrenIds,null),c=h.useCallback(d=>y.jsx(oo,{itemSlot:i,itemSlotProps:u,itemId:d},d),[i,u]);return y.jsx(Tt.Provider,{value:c,children:p.map(c)})}const io=["slots","slotProps"],ro=it(),lo=e=>{const{classes:t}=e;return h.useMemo(()=>W({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemLabelInput:["itemLabelInput"],itemCheckbox:["itemCheckbox"]},On,t),[t])},ao=j("ul",{name:"MuiRichTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),xo=h.forwardRef(function(t,n){const o=ro({props:t,name:"MuiRichTreeView"}),{slots:i,slotProps:u}=o,p=te(o,io),{getRootProps:c,contextValue:d}=dn({plugins:Dn,rootRef:n,props:p}),l=R(d.store,T.isLoading),a=R(d.store,T.error),s=lo(o),r=i?.root??ao,f=$({elementType:r,externalSlotProps:u?.root,className:s.root,getSlotProps:c,ownerState:o});return l?y.jsx(Ae,{children:"Loading..."}):a?y.jsx(Rt,{severity:"error",children:a.message}):y.jsx(un,{contextValue:d,classes:s,slots:i,slotProps:u,children:y.jsx(r,g({},f,{children:y.jsx(so,{slots:i,slotProps:u})}))})});export{xo as R,fo as T,Ht as a,Io as b,po as c,mo as d,go as e,bo as f,ho as g,Un as h,Gn as i,Wn as j,Xn as k,Nn as l,Qn as m,qn as n,Bn as o,Jn as p,An as u};
